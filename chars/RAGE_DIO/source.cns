
[statedef 22222223]
type = s
movetype = i
physics = s
sprpriority = 2

[State 0, CtrlSet]
type = CtrlSet
trigger1 = roundstate !=2
value = 0
ignorehitpause = 1


[state 0]
type = destroyself
trigger1 = ishelper

[state 0]
type = changeanim
trigger1 = anim !=0
value = 0

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = velset
trigger1 = (time = 4) || (abs(vel x) < 2)
x = 0


[statedef 0]
type = s
movetype = i
physics = s
sprpriority = 2
ctrl = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 19560
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 19565
ignorehitpause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 19552
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 19557
ignorehitpause = 1


[state ]
type = Projectile
trigger1 = enemynear,name = "IKUSAOTOME"
projpriority = 2147483647
projid = 114514
projanim = 5199
projremove = 1
projhits = 1
projremovetime = 1
projmisstime = 1
attr = SCA,AA,AT,AP
hitflag = MAFDP     
guardflag =      
animtype = BACK        
air.animtype = BACK
damage = 0
pausetime = 0 ,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
ground.type = TRIP
fall=1
fall.recover=0
fall.damage=2147483648
p2getp1state=0
P2STATENO = 5110
pausemovetime = 9999999
supermovetime = 9999999
IgnoreHitPause = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(340)= 0
triggerall = numhelper(850)= 0
triggerall = numhelper(170122) = 0 
triggerall = numhelper(1701) = 0 
trigger1 = numexplod(1702)= 0
helpertype = normal
name = ""
ID = 170122
stateno = 170122
pos = -50,-8
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ontop = 1
ignorehitpause = 0
supermovetime = 9999999
pausemovetime = 9999999
supermove = 9999999999
move = 999999999
movetime = 9999999


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 7580
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 7581
ignorehitpause = 1


[State 0, ChangeState]
type = null;ChangeState
trigger1 = roundstate >2 && winko
value = 180
ctrl = 0
ignorehitpause = 1

[State 0, ReversalDef]
type = null;ReversalDef
trigger1 = 1
reversal.attr = SCA
ignorehitpause = 1

[State 0, TargetState]
type = null;TargetState
trigger1 = !(target,ishelper)
value = 7720
ID = -1
;ignorehitpause = 
;persistent = 


[state 0]
type = palfx
trigger1 = prevstateno = 11000
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256




[state 0]
type = destroyself
trigger1 = ishelper

[state 0]
type = changeanim
trigger1 = (life >= 500) && (anim != 0)
value = 0

[state 0]
type = changeanim
trigger1 = (life < 500) && (anim != 1)
value = 1

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = velset
trigger1 = (time = 4) || (abs(vel x) < 2)
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y !=0
value = ifelse(pos y = 0,0,50)
ctrl = 1
ignorehitpause = 1



[state 0]
type = changestate
trigger1 = !alive
value = 5050

[statedef 10]
type = c
physics = c
anim = 10
sprpriority = 2

[state 0]
type = velmul
trigger1 = time = 0
x = .75

[state 0]
type = changestate
trigger1 = !animtime
value = 11

[statedef 11]
type = c
physics = c
anim = 11
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
;ignorehitpause = 
;persistent = 


[state 0]
type = changeanim
trigger1 = anim != 11
value = 11

[statedef 12]
type = s
physics = s
anim = 12
sprpriority = 2

[state 0]
type = changestate
trigger1 = !animtime
value = ifelse(pos y = 0,0,50)

[statedef 20]
type = s
movetype = i
physics = n
sprpriority = 2

[state 0]
type = velset
triggerall = !ailevel
trigger1 = time = 0
x = 0
y = 0

[state ]
type = Projectile
trigger1 = enemynear,name = "IKUSAOTOME"
projpriority = 2147483647
projid = 114514
projanim = 5199
projremove = 1
projhits = 1
projremovetime = 1
projmisstime = 1
attr = SCA,AA,AT,AP
hitflag = MAFDP     
guardflag =      
animtype = BACK        
air.animtype = BACK
damage = 0
pausetime = 0 ,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
ground.type = TRIP
fall=1
fall.recover=0
fall.damage=2147483648
p2getp1state=0
P2STATENO = 5110
pausemovetime = 9999999
supermovetime = 9999999
IgnoreHitPause = 1



[state 0]
type = palfx
trigger1 = prevstateno = 11000
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = playsnd
triggerall = vel x != 0
trigger1 = (animelem = 3) || (animelem = 6)
value = s9120, 0

[state 0]
type = velset
trigger1 = command = "holdfwd" 
x = const(velocity.walk.fwd.x) + ifelse(numhelper(99037) = 1,5,0) + ifelse(numhelper(99100) = 1,2,0)
[state 0]
type = velset
trigger1 = command = "holdback" 
x = const(velocity.walk.back.x) - ifelse(numhelper(99037) = 1,5,0) - ifelse(numhelper(99100) = 1,2,0)

[state 0]
type = changeanim
triggerall = vel x > 0
trigger1 = (anim != 20) && (anim != 5) && (anim != 2020) && (anim != 2005) && (anim != 15020) && (anim != 15005)
trigger2 = (anim = 5) || (anim = 2005) || (anim = 15005) && !animtime
value = 20

[state 0]
type = changeanim
triggerall = vel x < 0
trigger1 = (anim != 21) && (anim != 5) && (anim != 2021) && (anim != 2005) && (anim != 15021) && (anim != 15005)
trigger2 = (anim = 5) || (anim = 2005) || (anim = 15005) && !animtime
value = 21

[state 0]
type = changestate
triggerall = (roundstate = 2) && (animelemtime(2) >= 2)
trigger1 = ((ailevel) && ((p2bodydist x <= 90)) && ((var(58) = 1) || (var(58) = 3)))
value = 100

[State 0, Run]
type = ChangeState
;triggerall = numhelper(99100) = 0
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x > 100
trigger1 = random < 200
value = 60

[state 0]
type = changestate
triggerall = (roundstate = 2) && (animelemtime(2) >= 2)
trigger1 = ((ailevel) && ((p2bodydist x <= 50)) && ((var(58) = 2) || (var(58) = 4)))
value = 105

[state 0]
type = changestate
triggerall = vel x = 0
trigger1 = 1
value = 0

[statedef 40]
type = s
physics = s
anim = 40 + (var(11))
ctrl = 0
sprpriority = 2




[state 0]
type = playsnd
trigger1 = animelem = 1
value = s9140, 0



[state 0]
type = explod
trigger1 = var(23) = 2
trigger1 = !animtime
anim = cond((command = "holdfwd" || command = "holdback") = 1, 98111, 98110)
id = 98110
pos = 0, 3
postype = p1
facing = cond(command = "holdback" = 1, -1, 1)
bindtime = 1
removetime = -2
sprpriority = 0
scale = .35, .35
angle = 0
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub







[state 0]
type = explod
trigger1 = var(23) != 2
trigger1 = !animtime
anim = cond((command = "holdfwd" || command = "holdback") = 1, 98111, 98110)
id = 98110
pos = 0, 3
postype = p1
facing = cond(command = "holdback" = 1, -1, 1)
bindtime = 1
removetime = -2
sprpriority = 0
scale = .35, .35
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = var(23) != 2
trigger1 = !animtime
anim = cond((command = "holdfwd" || command = "holdback") = 1, 98111, 98110)
id = 98110
pos = 0, 3
postype = p1
facing = cond(command = "holdback" = 1, -1, 1)
bindtime = 1
removetime = -2
sprpriority = 3
scale = .35, .35
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = var(23) = 2
trigger1 = !animtime
anim = cond((command = "holdfwd" || command = "holdback") = 1, 98111, 98110)
id = 98110
pos = 0, 3
postype = p1
facing = cond(command = "holdback" = 1, -1, 1)
bindtime = 1
removetime = -2
sprpriority = 3
scale = .35, .35
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 0]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 0]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 0]
type = velset
trigger1 = !animtime
x = cond(sysvar(1) = 0, 0, cond(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[state 0]
type = veladd
trigger1 = prevstateno = 100
x = cond(vel x > 0, 1, -1)

[state 0]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 1

[statedef 45]
type = a
physics = n
ctrl = 0
velset = 0, 0

[state 0]
type = changeanim
trigger1 = !selfanimexist(44)
value = 41 + (var(11))

[state 0]
type = changeanim
trigger1 = selfanimexist(44)
value = 44 + (var(11))

[state 0]
type = varset
trigger1 = !time
sysvar(1) = 0

[state 0]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 0]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 0]
type = velset
trigger1 = time = 2
x = cond(sysvar(1) = 0, 0, cond(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[state 0]
type = changestate
trigger1 = time = 2
value = 50
ctrl = 1

[statedef 50]
type = a
physics = a
sprpriority = 2

[state ]
type = Projectile
trigger1 = enemynear,name = "IKUSAOTOME"
projpriority = 2147483647
projid = 114514
projanim = 5199
projremove = 1
projhits = 1
projremovetime = 1
projmisstime = 1
attr = SCA,AA,AT,AP
hitflag = MAFDP     
guardflag =      
animtype = BACK        
air.animtype = BACK
damage = 0
pausetime = 0 ,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
ground.type = TRIP
fall=1
fall.recover=0
fall.damage=2147483648
p2getp1state=0
P2STATENO = 5110
pausemovetime = 9999999
supermovetime = 9999999
IgnoreHitPause = 1
[state 0]
type = varset
trigger1 = time = 0
sysvar(1) = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 7580
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 7581
ignorehitpause = 1

[state 0]
type = palfx
trigger1 = prevstateno = 11000
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = changeanim
trigger1 = time = 0
value = 41

[state 0]
type = changeanim
trigger1 = vel y > -2
value = 44
persistent = 0

[statedef 51]
type = a
physics = a

[state 0]
type = null
trigger1 = 1

[statedef 52]
type = s
physics = s
anim = 10
ctrl = 0
sprpriority = 2





[state 0]
type = playsnd
trigger1 = animelem = 1
value = s9152, 0

[state 0]
type = explod
trigger1 = animelem = 1
anim = 98115
id = 98115
pos = 0, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .3, .3
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = animelem = 1
anim = 98115
id = 98115
pos = 0, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .3, .3
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

[statedef 100]
type = s
movetype = i
physics = n
anim = 100
ctrl = 0
sprpriority = 2
[State 0, Explod]
type = Explod
trigger1 = var(23) = 2
trigger1 = time%1=0 ;&& time <cond(root,stateno=500,9999,15)
anim = 7581
ID = 7581
pos = -15,-15
facing = 1
postype = P1  
vfacing = 1
bindtime = 0
random = 30,30
vel = -.1+(-random%1),-.5+(-random%3)
random = 20,10
removetime = -2
scale = .25,.25
remappal = 3,3
supermovetime = 999
pausemovetime = 999
sprpriority = cond(random<500,-4,4)
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = var(23) = 2
trigger1 = time%1=0 ;&& time <cond(root,stateno=500,9999,15)
anim = 7581
ID = 7581
pos = -15,-15
facing = 1
postype = P1  
vfacing = 1
bindtime = 0
random = 30,30
vel = -.1+(-random%1),-.5+(-random%3)
random = 20,10
removetime = -2
scale = .25,.25
supermovetime = 999
pausemovetime = 999
remappal = 3,3
sprpriority = cond(random<500,-4,4)
ownpal = 1
ignorehitpause = 1





[State 0, Explod]
type = Explod
trigger1 = var(23) != 2
trigger1 = time%1=0 ;&& time <cond(root,stateno=500,9999,15)
anim = 7581
ID = 7581
pos = -15,-15
facing = 1
postype = P1  
vfacing = 1
bindtime = 0
random = 30,30
vel = -.1+(-random%1),-.5+(-random%3)
random = 20,10
removetime = -2
scale = .25,.25
remappal = 7500,14
supermovetime = 999
pausemovetime = 999
sprpriority = cond(random<500,-4,4)
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = var(23) != 2
trigger1 = time%1=0 ;&& time <cond(root,stateno=500,9999,15)
anim = 7581
ID = 7581
pos = -15,-15
facing = 1
postype = P1  
vfacing = 1
bindtime = 0
random = 30,30
vel = -.1+(-random%1),-.5+(-random%3)
random = 20,10
removetime = -2
scale = .25,.25
supermovetime = 999
pausemovetime = 999
remappal = 7500,14
sprpriority = cond(random<500,-4,4)
ownpal = 1
ignorehitpause = 1

[State 0, Air Dash Wave]
type = Explod
trigger1 = var(23) = 2
triggerall = prevstateno != 2060
trigger1 = time = 2
anim = 7011
ID = 1051
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
vel = -2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 3,3


[State 0, Air Dash Wave]
type = Explod
trigger1 = var(23) != 2
triggerall = prevstateno != 2060
trigger1 = time = 2
anim = 7011
ID = 1051
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
vel = -2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999


[State 1702, Explod]
type = Explod
triggerall = numhelper(340)= 0
triggerall = numhelper(850)= 0
triggerall = numhelper(170122) = 0 
triggerall = numhelper(1701) = 0 
trigger1 = numexplod(1702)= 0
trigger1 = 1
anim = 1702
ID = 1702
pos = -6,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = const(size.xscale),const(size.yscale);1,1
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(340)= 1
trigger2 = numhelper(1701) = 1 
id = 1702
ignorehitpause = 1



[State 0,FX]
type=Helper
trigger1=Time>=0
Trigger1=GameTime%1=0
helpertype=normal
name="FX"
ID=715
stateno=715
pos=0,0
postype=p1
ownpal=1
supermovetime=99999
pausemovetime=99999


[State 0, Fly Lines]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Fly Lines"
ID = 65
stateno = 65
pos = 0,(0-random%40)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .125
Size.Yscale = .1
pausemovetime = 99999
supermovetime = 99999

[State 0, Fly Lines]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Fly Lines"
ID = 66
stateno = 66
pos = 10,(-5-random%40)
postype = p1
facing = 1
ownpal = 1
trans = sub
Size.Xscale = .125
Size.Yscale = .1
pausemovetime = 99999
supermovetime = 99999

[State 0]
Type = EnvShake
Trigger1 = !Time
Time = 10
Freq = 40
Ampl = -6
Phase = 90
[State 61, 1]
type = PalFX
trigger1 = time=0
time =5
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 61, 2]
type = AfterImage
trigger1 =time=0
time = 2
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd=0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 61, 1]
type = PalFX
trigger1 = time=0
time =5
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 61, 3]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 40
ampl = -6
phase = 90
ignorehitpause =1
persistent =  1

[State 0, Explod]
type = Explod
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 8000
ID = 8000
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .4,.4
vel = -2,0
sprpriority = 3
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
[State 0, Explod]
type = Explod
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 8005
ID = 8005
pos = 5,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .4,.4
vel = -2,0
sprpriority = 3
ownpal = 1
pausemovetime = 99999
supermovetime = 99999


[State 0, Explod]
type = Explod
triggerall = var(23) != 2
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 7001
ID = 7000
pos = 25,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
random = 0,5
scale = .35,.25
vel = -5,0
accel = .5,0
sprpriority = -3
pausemovetime = 99999
supermovetime = 99999
trans = add;alpha
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
[State 0, Explod]
type = Explod
triggerall = var(23) != 2
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 7001
ID = 7000
pos = 15,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .35,.38
vel = -5,0
accel = .5,0
sprpriority = -3
trans = sub
angle = 0
remappal = 700,0
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999


[State 0, Explod]
type = Explod
triggerall = var(23) = 2
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 7001
ID = 7000
pos = 25,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
random = 0,5
scale = .35,.25
vel = -5,0
accel = .5,0
remappal = 3,3
sprpriority = -3
pausemovetime = 99999
supermovetime = 99999
trans = add;alpha
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
[State 0, Explod]
type = Explod
triggerall = var(23) = 2
triggerall = anim=100
trigger1 = animelemtime(1)=0
anim = 7001
ID = 7000
pos = 15,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .35,.38
vel = -5,0
accel = .5,0
sprpriority = -3
trans = sub
angle = 0
remappal = 3,3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999



[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
anim =7022 ;1019;
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 99999
supermovetime = 99999
[state 0]
type = helper
trigger1 = (animelemtime(3) >= 0) && (time % 4 = 0)
stateno = 98060
id = 98060
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999
pausemovetime = 99999
supermovetime = 99999
[state 0]
type = playsnd
trigger1 = animelem = 3
value = s9160, 1
[state 0]
type = playsnd
trigger1 = animelem = 3
value = s9160, 3

[state 0]
type = helper
trigger1 = animelem = 3
stateno = 98100
id = 98100
postype = p1

[state 0]
type = explod
triggerall = var(23) = 2
trigger1 = (vel x > 0) && (time % 5 = 0)
anim = 98100
id = 98100
pos = 0, -35 + (random % 30)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = cond(random < 500, 3, 0)
scale = .25, .1
angle = 90
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 99999999
supermovetime = 99999999
vel = -1, 0

[state 0]
type = explod
triggerall = var(23) != 2
trigger1 = (vel x > 0) && (time % 5 = 0)
anim = 98100
id = 98100
pos = 0, -35 + (random % 30)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = cond(random < 500, 3, 0)
scale = .25, .1
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 99999999
supermovetime = 99999999
vel = -1, 0

[state 0]
type = helper
trigger1 = (vel x > 0) && (time % 10 = 0)
stateno = 98120
id = 98120
pos = 5, 0
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .25
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[state 0]
type = velset
trigger1 = animelem = 3
x = const(velocity.run.fwd.x) * 3.5 + ifelse(numhelper(99037) = 1,5,0)

[state 0]
type = velset
trigger1 = animelemtime(4) >= 0
x = const(velocity.run.fwd.x) * 2.25 + ifelse(numhelper(99037) = 1,5,0)

[State 0, VelSet]
type = VelSet
triggerall = time > 2
trigger1 = ailevel = 0 && command = "holdup"
trigger2 = ailevel > 0 && p2dist y < 0
trigger2 = (pos y = 0 && time > 15 && p2dist y < -20) || pos y != 0
y = ifelse(numhelper(850) = 1,-6,-4) - ifelse(numhelper(99100) = 1,2,0)

[State 0, VelSet]
type = VelSet
triggerall = pos y < 0
triggerall = time > 2
trigger1 = ailevel = 0 && command = "holddown"
trigger2 = ailevel > 0 && p2dist y > 0
y = ifelse(numhelper(850) = 1,6,4) + ifelse(numhelper(99100) = 1,2,0)


[state 0]
type = posset
trigger1 = pos y > 0
y = 0

[state 0]
type = null;changestate
triggerall = (pos y = 0) && (roundstate = 2) && (animelemtime(4) >= 0)
trigger1 = ((!ailevel) && (command = "up"))
trigger2 = ((ailevel) && (p2bodydist x = [50 + (random % 50), 125]) && (var(58) = 1))
value = 40





[state 0]
type = changestate
triggerall = (roundstate = 2) && (animelemtime(2) >= 2)
trigger1 = ((!ailevel) && (command = "BB"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 2))
value = 105
[state 0]
type = changestate
triggerall = pos y = 0
triggerall = (roundstate = 2) && (animelemtime(4) >= 0)
trigger1 = ((!ailevel) && (command = "a"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 3))
Trigger2 = var(6) = 0
value = ifelse(numhelper(850) =1,22100,200)
[state 0]
type = changestate
triggerall = pos y = 0
triggerall = numhelper(340) = 0
triggerall = (roundstate = 2) && (animelemtime(4) >= 0)
trigger1 = ((!ailevel) && (command = "b"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 4))
trigger2 = enemynear,stateno != [5100,5200]
Trigger2 = var(6) = 0
value = 300


[state 0]
type = changestate
triggerall = pos y = 0
triggerall = numhelper(340) = 0
triggerall = (roundstate = 2) && (animelemtime(4) >= 0)
trigger1 = ((!ailevel) && (command = "c"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 5))
Trigger2 = var(6) = 0
value = ifelse(numhelper(850) = 1,2320,400)



[state 0]
type = changestate
triggerall = (roundstate = 2) && (animelemtime(4) >= 0)
triggerall = stateno !=99610
trigger1 = ((!ailevel) && (command = "z"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 6))
trigger3 = (ailevel) && inguarddist || enemy,numproj || enemynear,numproj || enemy,hitdefattr = SCA,NA,SA,HA,NP,SP,HP,NT,ST || enemynear,hitdefattr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT || p2movetype = A
trigger3 = random < (ailevel * 100)/2 && (p2bodydist x <= 90)
trigger3= enemynear,movetype !=H
trigger4 = (ailevel) && var(51)=1 
trigger4 = random < (ailevel * 100)/2 && (p2bodydist x <= 90)
trigger4 = enemynear,movetype !=H
trigger5 = ((ailevel) && ((p2bodydist x <= 90) && (p2bodydist y = [-20, 10]) && (enemynear, stateno != [5100, 5150])) && (p2movetype = a))
trigger5 = enemynear,movetype !=H
trigger5 = random < (ailevel * 100)/2
value = 99610

[State , 对当身超反应对策]

type = ChangeState

value = 99610
triggerall = stateno !=99610

triggerall = ailevel >0

Triggerall = Roundstate = 2

Triggerall = Statetype != A

TriggerAll = Ctrl || (StateNo = [20,22]) || (StateNo = [100,101]) || (StateNo = [120,149])

Trigger1 = var(6) = 1

[State 0, End]
type = ChangeState
Triggerall = time >= cond(pos y >-1,17,8) 
Triggerall = pos Y !=0
triggerall = helper(340),stateno !=63111 && helper(340),stateno !=406
trigger1 = ailevel = 0 && command = "c" && command = "holddown"
trigger2 = roundstate = 2 && ailevel > 0 &&p2bodydist x < 50&& random < (ailevel * 100)/2
Trigger2 = var(6) = 0
value = ifelse(numhelper(850) = 1,2320,6301)





[state 0]
type = changestate
triggerall = animelemtime(6) >= 0
trigger1 = (ailevel = 0) && (command != "holdfwd")
trigger2 = (ailevel > 0) && (time = 100 + random % 200)
trigger3 = (ailevel > 0) && (p2bodydist x < 30)
value = 101

[statedef 101]
type = c
movetype = i
physics = s
ctrl = 0
sprpriority = 2
velset = 4, 0

[state 0]
type = changeanim
trigger1 = time <= 7
value = 12 + (var(11))
elem = 1
[state 0]
type = changeanim
trigger1 = time >= 7
value = 12 + (var(11))
elem = 2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9160, 2

[state 0]
type = explod
trigger1 = (time = 0) && (pos y = 0)
anim = 98120
id = 98120
pos = 10, 0
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 0
scale = .2, .25
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = (time = 0) && (pos y = 0)
anim = 98120
id = 98120
pos = 10, 0
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = .2, .25
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = ctrlset
trigger1 = animelemtime(2) >= 0
value = 1

[state 0]
type = changestate
trigger1 = time >= 10
value = ifelse(pos y = 0,0,50)
ctrl = 1

[statedef 105]
type = a
movetype = i
physics = n
anim = 44 + (var(11))
ctrl = 0
sprpriority = 2
[state 0]
type = helper
trigger1 = (time <= 5) && (time % 6 = 0)
stateno = 98060
id = 98060
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = playsnd
trigger1 = animelem = 1
value = s9160, 3

[state 0]
type = nothitby
trigger1 = time = [0, 10]
value = sca, na, sa, ha, np, sp, hp
time = 1
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = time = [0, 10]
value = 0

[state 0]
type = envshake
trigger1 = animelem = 1
time = 5
ampl = -5
freq = 25

[state 0]
type = explod
trigger1 = var(23) = 2
trigger1 = animelem = 1
anim = 98100
id = 98100
pos = 0, -27
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .6, .1
angle = 70
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
trigger1 = var(23) = 2
trigger1 = animelem = 1
anim = 98100
id = 98100
pos = 0, -27
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .625, .125
angle = 70
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add



[state 0]
type = explod
trigger1 = var(23) != 2
trigger1 = animelem = 1
anim = 98100
id = 98100
pos = 0, -27
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .6, .1
angle = 70
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
trigger1 = var(23) != 2
trigger1 = animelem = 1
anim = 98100
id = 98100
pos = 0, -27
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .625, .125
angle = 70
ownpal = 1
remappal = 3, (var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add

[state 0]
type = helper
trigger1 = animelem = 1
stateno = 98120
id = 98120
pos = -15, 0
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .2
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999
facing = -1

[state 0]
type = null;velset
trigger1 = time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 0, VelSet]
type = VelSet
trigger1 = time >= 4 && time < 10
x = -12
y = -5
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = time >= 10&& time < 15
x = -6
y = -3
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = time >= 15
x = -3
y = -1
ignorehitpause = 1
;persistent = 

[state 0]
type = statetypeset
trigger1 = time = 0
statetype = a
movetype = i
physics = a

[state 0]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 1

[statedef 120]
type = u   
physics = u 
hitdefpersist = 1
movehitpersist = 1


[state 0]
type = changeanim
trigger1 = time = 0
value = 120 + (statetype = c) + (statetype = a) * 2 + (var(11))

[state 0]
type = statetypeset
trigger1 = (time = 0) && (statetype = s)
physics = s
[state 0]
type = statetypeset
trigger1 = (time = 0) && (statetype = c)
physics = c
[state 0]
type = statetypeset
trigger1 = (time = 0) && (statetype = a)
physics = a

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c
[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[state 0]
type = changestate
trigger1 = animtime = 0
value = 130 + (statetype = c) + (statetype = a) * 2

[state 0]
type = changestate
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[statedef 130]
type = s
physics = s
sprpriority = 2
facep2 = 1
ctrl = 1

[state 0]
type = statetypeset
trigger1 = prevstateno = [150, 154]
movetype = h
ignorehitpause = 1
persistent = 0

[state 0]
type = statetypeset
trigger1 = movetype = h
trigger1 = !gethitvar(hitshaketime)
trigger1 = !gethitvar(hittime)
movetype = i
ignorehitpause = 1

[state 0]
type = changeanim
trigger1 = anim != 130
value = 130 + (var(11))
persistent = 0

[state 0]
type = changestate
trigger1 = !ailevel
trigger1 = command = "holddown"
trigger2 = ailevel && numenemy
trigger2 = roundstate = 2
trigger2 = enemynear, statetype = c
value = 131

[state 0]
type = changestate
triggerall = time >= 20
trigger1 = command != "holdback"
trigger1 = !ailevel
trigger1 = !inguarddist
trigger2 = ailevel && numenemy
trigger2 = !inguarddist
value = 140

[statedef 131]
type = c
physics = c
sprpriority = 2
facep2 = 1

[state 0]
type = statetypeset
trigger1 = prevstateno = [150, 154]
movetype = h
ignorehitpause = 1
persistent = 0

[state 0]
type = statetypeset
trigger1 = movetype = h
trigger1 = !gethitvar(hitshaketime)
trigger1 = !gethitvar(hittime)
movetype = i
ignorehitpause = 1

[state 0]
type = changeanim
trigger1 = anim != 131
value = 131 + (var(11))
persistent = 0

[state 0]
type = changestate
triggerall = time >= 20
trigger1 = command != "holdback"
trigger1 = !ailevel
trigger1 = !inguarddist
trigger2 = ailevel && numenemy
trigger2 = !inguarddist
value = 140

[statedef 132]
type = a
physics = a
sprpriority = 2
facep2 = 1

[state 0]
type = velset
trigger1 = pos y != 0
x = 0
y = 9

[state 0]
type = statetypeset
trigger1 = prevstateno = [150, 154]
movetype = h
ignorehitpause = 1
persistent = 0

[state 0]
type = statetypeset
trigger1 = movetype = h
trigger1 = !gethitvar(hitshaketime)
trigger1 = !gethitvar(hittime)
movetype = i
ignorehitpause = 1

[state 0]
type = changeanim
trigger1 =  anim != 132
value = 132 + (var(11))
persistent = 0

[state 0]
type = velset
trigger1 = pos y >= 0
y = 0

[state 0]
type = posset
trigger1 = pos y >= 0
y = 0

[state 0]
type = changestate
triggerall = time >= 20
trigger1 = command != "holdback"
trigger1 = !ailevel
trigger1 = !inguarddist
trigger2 = ailevel && numenemy
trigger2 = !inguarddist
value = 140

[statedef 140]
type = u    
physics = u
ctrl = 1
sprpriority = 2
facep2 = 1

[state 0]
type = changeanim
trigger1 = !time
value = 140 + (statetype = c) + (statetype = a) * 2 + (var(11))

[state 0]
type = statetypeset
trigger1 = (!time) && (statetype = s)
physics = s

[state 0]
type = statetypeset
trigger1 = (!time) && (statetype = c)
physics = c

[state 0]
type = statetypeset
trigger1 = (!time) && (statetype = a)
physics = a

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c

[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[statedef 145]
type = u
movetype = i
physics = s
ctrl = 0
velset = 0, 0 
anim = cond(pos y != 0, 122, 120) + (var(11))
sprpriority = 2

[state 0]
type = poweradd
trigger1 = !time
value = -500

[state 0]
type = helper
trigger1 = !time
stateno = 98085
id = 98085
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = statetypeset
trigger1 = pos y != 0
statetype = a
movetype = i
physics = a
ignorehitpause = 1

[state 0]
type = envshake
trigger1 = !time
time = 15
ampl = -5
freq = 15

[state 0]
type = pause
trigger1 = !time
time = 20
movetime = 20

[state 0]
type = bgpalfx
trigger1 = time = [0, 20]
time = 1
invertall = 1
color = 0

[state 0]
type = playsnd
trigger1 = !time
value = s9103, 0
[state 0]
type = playsnd
trigger1 = !time
value = s9104, 2

[state 0]
type = palfx
trigger1 = !time
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = helper
trigger1 = !time
stateno = 98000
id = 98000
pos = 0 + (random % 5), -35 + (random % 15)
postype = p1
ownpal = 1
size.xscale = .6
size.yscale = .8
ignorehitpause = 1
persistent = 0
pausemovetime = 9999999
supermovetime = 9999999

[state 0]
type = changestate
trigger1 = time = 10
value = cond(command = "holdback", cond(pos y != 0, 154, 150), 140)
ctrl = 1

[statedef 150]
type = s
movetype = h
physics = n
velset = 0, 0
sprpriority = 2
facep2 = 1

[state 0]
type = palfx
trigger1 = time = 0
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = helper
trigger1 = time = 0
stateno = 98000
id = 98000
pos = 5 + (random % 5), -30 + (random % 15)
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .8
ignorehitpause = 1
persistent = 0
pausemovetime = 9999999
supermovetime = 9999999

[state 0]
type = changeanim
trigger1 = 1
value = 150

[state 0]
type = changestate
trigger1 = hitshakeover
value = 151 + 2 * (command = "holddown")

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c

[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[state 0]
type = forcefeedback
trigger1 = time = 0
waveform = square
time = 3

[statedef 151]
type = s
movetype = h
physics = s
anim = 150
sprpriority = 2
facep2 = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing

[state 0]
type = velset
trigger1 = time = gethitvar(slidetime)
trigger2 = hitover
x = 0

[state 0]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c

[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[state 0]
type = changestate
trigger1 = hitover
value = 130
ctrl = 1

[statedef 152]
type = c
movetype = h
physics = n
velset = 0, 0
sprpriority = 2
facep2 = 1

[state 0]
type = palfx
trigger1 = time = 0
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = helper
trigger1 = time = 0
stateno = 98000
id = 98000
pos = 5 + (random % 5), -30 + (random % 15)
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .8
ignorehitpause = 1
persistent = 0
pausemovetime = 9999999
supermovetime = 9999999
[state 0]
type = changeanim
trigger1 = 1
value = 151

[state 0]
type = changestate
trigger1 = hitshakeover
value = 151 + 2 * (command = "holddown")

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c

[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[state 0]
type = forcefeedback
trigger1 = time = 0
waveform = square
time = 4

[statedef 153]
type = c
movetype = h
physics = c
anim = 151
sprpriority = 2
facep2 = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing

[state 0]
type = velset
trigger1 = time = gethitvar(slidetime)
trigger2 = hitover
x = 0

[state 0]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[state 0]
type = statetypeset
trigger1 = (statetype = s) && (command = "holddown")
statetype = c
physics = c

[state 0]
type = statetypeset
trigger1 = (statetype = c) && (command != "holddown")
statetype = s
physics = s

[state 0]
type = changestate
trigger1 = hitover
value = 131
ctrl = 1

[statedef 154]
type = a
movetype = h
physics = n
velset = 0, 0
sprpriority = 2
facep2 = 1

[state 0]
type = palfx
trigger1 = time = 0
time = 5
add = floor(fvar(35)), floor(fvar(36)), floor(fvar(37))
mul = 256, 256, 256
sinadd = floor(fvar(35)), floor(fvar(36)), floor(fvar(37)), 20
invertall = 0
color = 256

[state 0]
type = helper
trigger1 = time = 0
stateno = 98000
id = 98000
pos = 5 + (random % 5), -30 + (random % 15)
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .8
ignorehitpause = 1
persistent = 0
pausemovetime = 9999999
supermovetime = 9999999
[state 0]
type = changeanim
trigger1 = 1
value = 152

[state 0]
type = changestate
trigger1 = hitshakeover
value = 155

[state 0]
type = forcefeedback
trigger1 = time = 0
waveform = square
time = 4

[statedef 155]
type = a
movetype = h
physics = n
anim = 152
sprpriority = 2
facep2 = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing
y = gethitvar(yvel)

[state 0]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[state 0]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[state 0]
type = varset
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[state 0]
type = velset
trigger1 = sysvar(0)
y = 0

[state 0]
type = posset
trigger1 = sysvar(0)
y = 0

[state 0]
type = changestate
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[state 0]
type = changestate
trigger1 = sysvar(0)
value = 52

[statedef 175]
type = s
ctrl = 0
velset = 0, 0

[state 0]
type = changestate
trigger1 = time = 0
trigger1 = !selfanimexist(175)
value = 170

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1

[statedef 15120098]
type = l
movetype = i
physics = n
sprpriority = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1

[state 0]
type = changeanim
triggerall = time = 0
triggerall = life > 0
trigger1 = (anim != [5111, 5119]) + var(10)
trigger2 = !selfanimexist(5120 + (anim % 10))
value = 5120 + var(10)

[state 0]
type = changeanim
triggerall = time = 0
triggerall = life > 0
trigger1 = (anim = [5111, 5119]) + var(10)
trigger1 = selfanimexist(5120 + (anim % 10))
value = (5120 + var(10)) + (anim % 10)

[state 0]
type = velset
trigger1 = time = 0
x = 0

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1

[state 0]
type = hitfallset
trigger1 = !animtime
value = 1

[state 0]
type = nothitby
trigger1 = !animtime
value = , nt, st, ht
time = 12

[state 0]
type = nothitby
trigger1 = !animtime
value2 = sca
time = 3

[state 0]
type = selfstate
trigger1 = 1
value = 0
ctrl = 1

[statedef 5000]
type = s
movetype = h
physics = n
velset = 0, 0
sprpriority = 1

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) != [3, 5]
value = cond((gethitvar(groundtype) = 1), 5000 + var(10), 5010 + var(10)) + gethitvar(animtype)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) = [3, 5]
value = 5030 + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = (gethitvar(animtype) = [4, 5]) && (selfanimexist(5047 + var(10) + gethitvar(animtype)))
value = 5047 + var(10) + gethitvar(animtype)

[state 0]
type = changeanim
trigger1 = time > 0
value = anim

[state 0]
type = statetypeset
trigger1 = time = 0
trigger1 = gethitvar(yvel) != 0 || gethitvar(fall)
trigger2 = pos y != 0
statetype = a

[state 0]
type = changestate
trigger1 = hitshakeover
trigger1 = gethitvar(yvel) = 0 && !gethitvar(fall)
value = 5001

[state 0]
type = changestate
trigger1 = hitshakeover
value = 5030

[state 0]
type = forcefeedback
trigger1 = anim = 5000 + var(10)
trigger2 = anim = 5010 + var(10)
persistent = 0
time = 6
waveform = square

[state 0]
type = forcefeedback
trigger1 = anim = 5001 + var(10)
trigger2 = anim = 5011 + var(10)
persistent = 0
time = 8
waveform = sinesquare

[state 0]
type = forcefeedback
trigger1 = anim = 5012 + var(10)
trigger2 = anim = 5002 + var(10)
trigger3 = anim = 5030 + var(10)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[statedef 5001]
type = s
movetype = h
physics = s
sprpriority = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing

[state 0]
type = changeanim
trigger1 = !animtime
value = 5005 + var(10)

[state 0]
type = velmul
trigger1 = time >= gethitvar(slidetime)
x = .6

[state 0]
type = velset
trigger1 = hitover
x = 0

[state 0]
type = defencemulset
trigger1 = hitover
value = 1

[state 0]
type = changestate
trigger1 = hitover
value = 0
ctrl = 1

[statedef 5010]
type = c
movetype = h
physics = n
velset = 0, 0
sprpriority = 1

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) != [3, 5]
value = (5020 + gethitvar(animtype)) + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) = [3, 5]
value = 5030 + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = (gethitvar(animtype) = [4, 5]) && (selfanimexist(5047 + var(10) + gethitvar(animtype)))
value = (5047 + gethitvar(animtype)) + var(10)

[state 0]
type = changeanim
trigger1 = time > 0
value = anim

[state 0]
type = statetypeset
triggerall = time = 0
trigger1 = gethitvar(yvel) != 0 || gethitvar(fall)
trigger2 = pos y != 0
statetype = a

[state 0]
type = changestate
trigger1 = hitshakeover
trigger1 = (gethitvar(yvel) = 0) && (!gethitvar(fall))
value = 5011

[state 0]
type = changestate
trigger1 = hitshakeover
value = 5030

[state 0]
type = forcefeedback
trigger1 = anim = 5020 + var(10)
persistent = 0
time = 6
waveform = square

[state 0]
type = forcefeedback
trigger1 = anim = 5021 + var(10)
persistent = 0
time = 8
waveform = sinesquare

[state 0]
type = forcefeedback
trigger1 = anim = 5022 + var(10)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[statedef 5011]
type = c
movetype = h
physics = c
sprpriority = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing

[state 0]
type = changeanim
trigger1 = !animtime
value = (5025 + gethitvar(animtype)) + var(10)

[state 0]
type = velmul
trigger1 = time >= gethitvar(slidetime)
x = .6

[state 0]
type = velset
trigger1 = hitover
x = 0

[state 0]
type = defencemulset
trigger1 = hitover
value = 1

[state 0]
type = changestate
trigger1 = hitover
value = 11
ctrl = 1

[statedef 5020]
type = a
movetype = h
physics = n
velset = 0, 0
sprpriority = 1

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) != [3, 5]
value = (cond((gethitvar(airtype) = 1), 5000, 5010) + gethitvar(animtype)) + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = gethitvar(animtype) = [3, 5]
value = 5030 + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = (gethitvar(animtype) = [4, 5]) && (selfanimexist(5047 + gethitvar(animtype)))
value = (5047 + gethitvar(animtype)) + var(10)

[state 0]
type = changeanim
trigger1 = time > 0
value = anim

[state 0]
type = changestate
trigger1 = hitshakeover
value = 5030

[state 0]
type = forcefeedback
trigger1 = anim = 5000 + var(10)
trigger2 = anim = 5010 + var(10)
persistent = 0
time = 6
waveform = square

[state 0]
type = forcefeedback
trigger1 = anim = 5001 + var(10)
trigger2 = anim = 5011 + var(10)
persistent = 0
time = 8
waveform = sinesquare

[state 0]
type = forcefeedback
trigger1 = anim = 5012 + var(10)
trigger2 = anim = 5002 + var(10)
trigger3 = anim = 5030 + var(10)
trigger4 = (anim = [5051, 5059]) + var(10)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[statedef 5030]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 1

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing
y = gethitvar(yvel)

[state 0]
type = changestate
triggerall = !hitfall
trigger1 = hitover
trigger2 = vel y > 0
trigger2 = pos y >= 10
value = 5040

[state 0]
type = changestate
triggerall = hitfall
trigger1 = hitover
trigger2 = vel y > 0
trigger2 = pos y >= 10
value = 5050

[state 0]
type = changestate
trigger1 = !animtime
value = 5035

[statedef 5035]
type = a
movetype = h
physics = n
sprpriority = 1

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = selfanimexist(5035)
trigger1 = (anim != [5051, 5059]) + var(10)
trigger1 = anim != 5090 + var(10)
value = 5035 + var(10)

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = changestate
triggerall = !hitfall
trigger1 = hitover
trigger2 = !animtime
trigger3 = vel y > 0
trigger3 = pos y >= 10
trigger4 = time = 0
trigger4 = anim != 5035 + var(10)
value = 5040

[state 0]
type = changestate
triggerall = hitfall
trigger1 = hitover
trigger2 = !animtime
trigger3 = vel y > 0
trigger3 = pos y >= 10
trigger4 = time = 0
trigger4 = anim != 5035 + var(10)
value = 5050

[statedef 5040]
type = a
movetype = h
physics = n
sprpriority = 1

[state 0]
type = changestate
trigger1 = !alive
value = 5050

[state 0]
type = changeanim
trigger1 = !animtime
trigger1 = anim != 5040 + var(10)
trigger2 = time = 0
trigger2 = anim != 5035 + var(10)
value = 5040 + var(10)

[state 0]
type = ctrlset
trigger1 = hitover
value = 1

[state 0]
type = statetypeset
trigger1 = hitover
movetype = i

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52

[statedef 5050]
type = a
movetype = h
physics = n
sprpriority = 1

[state 0]
type = changeanim
trigger1 = !animtime
trigger1 = anim = 5035 + var(10)
trigger2 = time = 0
trigger2 = anim != 5035 + var(10)
trigger2 = (anim != [5051, 5059]) + var(10) && (anim != [5061, 5069]) + var(10)
trigger2 = anim != 5090 + var(10)
value = 5050 + var(10)

[state 0]
type = changeanim
trigger1 = (anim = [5050, 5059]) + var(10)
trigger1 = vel y >= cond(anim = 5050 + var(10), 1, -2)
trigger1 = selfanimexist(anim + 10)
value = (anim + 10) + var(10)
persistent = 0

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = changestate
triggerall = vel y > 0
triggerall = pos y >= -20
triggerall = alive
triggerall = canrecover
trigger1 = command = "recovery"
value = 5200

[state 0]
type = changestate
triggerall = vel y > -1
triggerall = alive
triggerall = canrecover
trigger1 = command = "recovery"
value = 5210

[state 0]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= cond((anim = [5051, 5059]) + var(10) || (anim = [5061, 5069]) + var(10), 0, 25)
value = 5100

[statedef 5070]
type = a
movetype = h
physics = n
velset = 0, 0
sprpriority = 1

[state 0]
type = changeanim
trigger1 = 1
value = 5070 + var(10)

[state 0]
type = changestate
trigger1 = hitshakeover
value = 5071

[state 0]
type = forcefeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

[statedef 5071]
type = a
movetype = h
physics = n
sprpriority = 1

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing
y = gethitvar(yvel)

[state 0]
trigger1 = vel y > 0
trigger1 = pos y >= 5
type = changestate
value = 5110

[statedef 5080]
type = l
movetype = h
physics = n
velset = 0, 0
sprpriority = 1

[state 0]
type = varset
trigger1 = time = 0
sysvar(2) = cond(gethitvar(yvel) = 0, 5080 + var(10), 5090 + var(10))

[state 0]
type = varadd
trigger1 = time = 0
trigger1 = (anim = [5081, 5089]) + var(10) || (anim = [5111, 5119]) + var(10)
trigger1 = selfanimexist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[state 0]
type = varset
trigger1 = time = 0
trigger1 = sysvar(2) = 5090 + var(10)
trigger1 = !selfanimexist(5090)
sysvar(2) = 5030 + var(10)

[state 0]
type = changeanim
trigger1 = 1
value = sysvar(2)

[state 0]
type = changestate
trigger1 = hitshakeover
trigger1 = gethitvar(yvel) = 0
value = 5081

[state 0]
type = changestate
trigger1 = hitshakeover
trigger1 = gethitvar(yvel) != 0
value = 5030

[statedef 5081]
type = l
movetype = h
physics = c
sprpriority = 1

[state 0]
type = velset
trigger1 = time = 0
x = gethitvar(xvel) * facing

[state 0]
type = velset
trigger1 = hitover
x = 0

[state 0]
type = varset
trigger1 = time = 0
sysvar(0) = 1

[state 0]
type = changestate
trigger1 = hitover
value = 5110

[statedef 5100]
type = l
movetype = h
physics = n
sprpriority = 1

[state 0]
type = velset
trigger1 = (time = 0) && (gethitvar(fall.yvel) = 0) && (vel x > 1)
x = 1

[state 0]
type = fallenvshake
trigger1 = time = 0

[state 0]
type = varset
trigger1 = time = 0
sysvar(1) = floor(vel y)

[state 0]
type = changeanim
triggerall = time = 0
trigger1 = (anim != [5051, 5059]) + var(10) && (anim != [5061, 5069]) + var(10)
trigger2 = !selfanimexist(5100 + (anim % 10))
value = 5100 + var(10)

[state 0]
type = changeanim
trigger1 = time = 0
trigger1 = (anim = [5051, 5059]) + var(10) || (anim = [5061, 5069]) + var(10)
trigger1 = selfanimexist(5100 + (anim % 10))
value = (5100 + var(10)) + (anim % 10)

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = velmul
trigger1 = time = 0
x = 0.75

[state 0]
type = changestate
trigger1 = time = 0
trigger1 = gethitvar(fall.yvel) = 0
value = 5110

[state 0]
type = hitfalldamage
trigger1 = time = 0

[state 0]
type = posfreeze
trigger1 = 1

[state 0]
type = changestate
trigger1 = !animtime
value = 5101

[state 0]
type = forcefeedback
trigger1 = time = 0
waveform = sinesquare
time = 20

[statedef 5101]
type = l
movetype = h
physics = n
sprpriority = 1

[state 0]
type = changeanim
triggerall = time = 0
trigger1 = (anim != [5101, 5109]) + var(10)
trigger2 = !selfanimexist(5160 + (anim % 10))
value = 5160 + var(10)

[state 0]
type = changeanim
triggerall = time = 0
trigger1 = (anim = [5101, 5109]) + var(10)
trigger1 = selfanimexist(5160 + (anim % 10))
value = (5160 + var(10)) + (anim % 10)

[state 0]
type = hitfallvel
trigger1 = time = 0

[state 0]
type = posset
trigger1 = time = 0
y = 20

[state 0]
type = veladd
trigger1 = 1
y = .4

[state 0]
trigger1 = vel y > 0
trigger1 = pos y >= 12
type = changestate
value = 5110

[statedef 5110]
type = l
movetype = h
physics = n
sprpriority = 1

[state 0]
type = fallenvshake
trigger1 = time = 0

[state 0]
type = changeanim
persistent = 0
trigger1 = selfanimexist(5110 + (anim % 10))
trigger1 = (anim = [5081, 5089]) + var(10)
value = (5110 + var(10)) + (anim % 10)

[state 0]
type = changeanim
triggerall = time = 0
triggerall = (anim != [5110, 5119]) + var(10)
trigger1 = (anim != [5161, 5169]) + var(10)
trigger2 = !selfanimexist(5170 + (anim % 10))
value = 5170 + var(10)

[state 0]
type = changeanim
triggerall = time = 0
triggerall = (anim != [5110, 5119]) + var(10)
trigger1 = (anim = [5161, 5169]) + var(10)
trigger1 = selfanimexist(5170 + (anim % 10))
value = (5170 + var(10)) + (anim % 10)

[state 0]
type = hitfalldamage
trigger1 = time = 0

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = varset
trigger1 = time = 0
trigger1 = gethitvar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = changeanim
persistent = 0
triggerall = (anim = [5171, 5179]) + var(10)
triggerall = selfanimexist(5110 + (anim % 10))
trigger1 = !animtime
trigger2 = sysvar(0)
value = (5110 + var(10)) + (anim % 10)

[state 0]
type = changeanim
persistent = 0
triggerall = (anim != [5111, 5119]) + var(10)
trigger1 = !animtime
trigger2 = sysvar(0)
value = 5110 + var(10)

[state 5110, 11]
type = changestate
triggerall = !alive
trigger1 = !animtime
trigger2 = sysvar(0)
trigger3 = (anim = [5110, 5119]) + var(10)
value = 5150

[state 0]
type = varset
trigger1 = sysvar(0)
trigger1 = time = 0
sysvar(0) = 0

[state 0]
type = velmul
trigger1 = 1
x = 0.85

[state 0]
type = forcefeedback
trigger1 = alive
trigger1 = time = 0
time = 8
ampl = 240
waveform = sine

[state 0]
type = forcefeedback
trigger1 = !alive
trigger1 = time = 0
time = 30
waveform = sine

[statedef 5120]
type = l
movetype = i
physics = n
sprpriority = 1

[state 0]
type = changeanim
triggerall = time = 0
triggerall = life > 0
trigger1 = (anim != [5111, 5119]) + var(10)
trigger2 = !selfanimexist(5120 + (anim % 10))
value = 5120 + var(10)

[state 0]
type = changeanim
triggerall = time = 0
triggerall = life > 0
trigger1 = (anim = [5111, 5119]) + var(10)
trigger1 = selfanimexist(5120 + (anim % 10))
value = (5120 + var(10)) + (anim % 10)

[state 0]
type = velset
trigger1 = time = 0
x = 0

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1

[state 0]
type = hitfallset
trigger1 = !animtime
value = 1

[state 0]
type = nothitby
trigger1 = !animtime
value = , nt, st, ht
time = 12

[state 0]
type = nothitby
trigger1 = !animtime
value2 = sca
time = 3

[state 0]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1




[statedef 515000]
type = U
sprpriority = 1

[state 0]
type = changeanim2
trigger1 = 1
value = 9999

[State 0, PosSet]
type = null;PosSet
trigger1 = 1
x = 0
y = -400
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1



[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1

[State 0, ChangeState]
type = null;ChangeState
trigger1 = roundstate = 2
value = 66554
ctrl = 0
ignorehitpause = 1


[statedef 5150]
type = U
movetype = U
physics = U
;sprpriority = 1
hitdefpersist = 1
movehitpersist = 1
[state 0]
type = changeanim
triggerall = !ishelper
triggerall = time = 0
triggerall = selfanimexist(5140)
triggerall = life > 0
trigger1 = (anim != [5111, 5119]) + var(10) && (anim != [5171, 5179]) + var(10)
trigger2 = !selfanimexist(5140 + (anim % 10))
value = 5140 + var(10)

[state 0]
type = changeanim
triggerall = !ishelper
trigger1 = time = 0
trigger1 = (anim = [5111, 5119]) + var(10) || (anim = [5171, 5179]) + var(10)
trigger1 = selfanimexist(5140 + (anim % 10))
value = (5140 + var(10)) + (anim % 10)

[state 0]
type = changeanim
triggerall = !ishelper
persistent = 0
trigger1 = time = 0
trigger1 = matchover = 1
trigger1 = (anim = [5140, 5149]) + var(10)
trigger1 = selfanimexist(anim + 10)
value = (anim + 10) + var(10)

[state 0]
type = changeanim
triggerall = !ishelper
trigger1 = time = 0
trigger1 = (anim != [5140, 5159]) + var(10)
trigger1 = (anim != [5110, 5119]) + var(10)
value = 5110 + var(10)

[state 0]
type = velmul
trigger1 = 1
triggerall = !ishelper
x = 0.85

[state 0]
type = velset
triggerall = !ishelper
trigger1 = vel x < .05
persistent = 0
x = 0

[state 0]
type = nothitby
triggerall = !ishelper
trigger1 = 1
value = sca
time = 1

[statedef 5200]
type = a
movetype = h
physics = n
sprpriority = 1

[state 0]
type = changeanim
trigger1 = anim = 5035 + var(10)
trigger1 = !animtime
value = 5050 + var(10)

[state 0]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[state 0]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 10
value = 5201

[statedef 5201]
type = a
movetype = h
physics = a
anim = 5200 + var(10)
sprpriority = 1




[state 0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < -5

[state 0]
type = velset
trigger1 = time = 0
x = - .15
y = -3.5

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1

[statedef 5210]
type = a
movetype = i
physics = n
anim = 5210 + var(10)
ctrl = 0
sprpriority = 1

[state 0]
type = posfreeze
trigger1 = time = 0
value = 4

[state 0]
type = turn
trigger1 = time = 0
trigger1 = p2dist x < -20

[state 0]
type = velmul
trigger1 = time = 4
x = .8
y = .8

[state 0]
type = veladd
trigger1 = time = 4
y = -4.5

[state 0]
type = velmul
trigger1 = time = 4
trigger1 = vel y > 0
y = .5

[state 0]
type = veladd
trigger1 = time = 4
trigger1 = vel y > -3
y = -2

[state 0]
type = veladd
trigger1 = time = 4
trigger1 = vel y > -2
y = -1

[state 0]
type = veladd
trigger1 = time = 4
trigger1 = command = "holdup"
y = -2

[state 0]
type = veladd
trigger1 = time = 4
trigger1 = command = "holddown"
y = 1.5

[state 0]
type = velmul
trigger1 = time = 4
trigger1 = command = "holdfwd"
x = 1

[state 0]
type = veladd
trigger1 = time = 4
trigger1 = command = "holdback"
x = -1

[state 0]
type = nothitby
trigger1 = time = 0
value = sca
time = 15

[state 0]
type = ctrlset
trigger1 = time = 20
value = 1

[state 0]
type = veladd
trigger1 = time >= 4
y = .35

[state 0]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1

[statedef 5300]
type = s
ctrl = 0
anim = 5300 + var(10)
velset = 0, 0
sprpriority = 1

[state 0]
type = changestate
trigger1 = time = 100
value = 0
ctrl = 1

[statedef 5900]
type = s

[state 0]
type = varrangeset
trigger1 = roundsexisted = 0
value = 0
first = 0
last = 1

[state 0]
type = varrangeset
trigger1 = roundsexisted = 0
value = 0
first = 3
last = 59

[state 0]
type = varrangeset
trigger1 = roundsexisted = 0
fvalue = 0

[state 0]
type = changestate
triggerall = time > 1
trigger1 = roundno = 1
value = 190

[state 0]
type = changestate
triggerall = time > 1
trigger1 = 1
value = 0

[statedef 98000]
type = u
anim = 98000
sprpriority = 4

[state 0]
type = remappal
trigger1 = root,var(23) = 2
source = 3, 0
dest = 3,3

[state 0]
type = remappal
trigger1 = root,var(23) != 2
source = 3, 0
dest = 3, (root, var(53))

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
trans = sub
supermovetime = 9999999
pausemovetime = 9999999


[state 0]
type = destroyself
trigger1 = !animtime

[statedef 98020]
type = u
anim = 99999

[state 0]
type = remappal
trigger1 = root,var(23) != 2
source = 3, 0
dest = 3, 11

[state 0]
type = remappal
trigger1 = root,var(23) = 2
source = 3, 0
dest = 3,3


[state 0]
type = varset
trigger1 = time = 0
v = 1
value = random % 360

[state 0]
type = explod
trigger1 = time = 0
anim = 98001
id = 98001
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98001
id = 98001
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999
trans = sub

[state 0]
type = explod
trigger1 = time = 0
anim = 98002
id = 98002
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98002
id = 98002
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999
trans = sub

[state 0]
type = destroyself
trigger1 = !animtime

[statedef 98025]
type = u
anim = 99999
[state 0]
type = remappal
trigger1 = root,var(23) = 2
source = 3, 0
dest = 3, 3

[state 0]
type = remappal
trigger1 = root,var(23) != 2
source = 3, 0
dest = 3, 11

[state 0]
type = varset
trigger1 = time = 0
v = 1
value = random % 360

[state 0]
type = explod
trigger1 = time = 0
anim = 98003
id = 98003
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98003
id = 98003
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
trans = sub

[state 0]
type = explod
trigger1 = time = 0
anim = 98004
id = 98004
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98004
id = 98004
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
trans = sub

[state 0]
type = explod
trigger1 = time = 0
anim = 98005
id = 98005
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98005
id = 98005
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
trans = sub

[state 0]
type = explod
trigger1 = time = 0
anim = 98006
id = 98006
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 0
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98006
id = 98006
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999999
pausemovetime = 999999999999
trans = sub

[state 0]
type = destroyself
trigger1 = !animtime

[statedef 98050]
type = u
anim = 99999

[state 0]
type = bindtoroot
trigger1 = 1
pos = var(2), var(3)

[state 0]
type = null
triggerall = root, stateno = [1000, 3999]
trigger1 = (var(2) := 0 || 1)
trigger1 = (var(3) := -24)

[state 0]
type = envshake
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
time = 10
ampl = -5
freq = 25

[state 0]
type = playsnd
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
value = s9600, 3

[state 0]
type = explod
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
anim = 98050
id = 98050
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .4, .4
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
triggerall = root, stateno = [1000, 3999]
trigger1 = time = 0
anim = 98050
id = 98050
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 10
scale = .4, .4
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = (time > 15) || (root, movetype = h)

[statedef 98051]
type = u

[state 0]
type = sprpriority
trigger1 = time % 1 = 0
value = cond(time <= 1, 3, 0)
ignorehitpause = 1
[state 0]
type = palfx
trigger1 = 1
time = 1
add = floor(parent, fvar(35) + (floor(sin((time / 6.0) * (pi)) * (parent, fvar(35))))), floor(parent, fvar(36) + (floor(sin((time / 6.0) * (pi)) * (parent, fvar(36))))), floor(parent, fvar(37) + (floor(sin((time / 6.0) * (pi)) * (parent, fvar(37)))))
[state 0]
type = changeanim
trigger1 = 1
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1
[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1
[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1
[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = -1
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .015), 1 + (time * .015)
value = 0
[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 120 - ((time) * 12), 150 + ((time) * 12)
[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = destroyself
trigger1 = time = 20

[statedef 98060]
type = a
movetype = i
physics = n
velset = 0, 0
sprpriority = 3
ctrl = 0
anim = 99999

[state 0]
type = null
trigger1 = !time
trigger1 = selfanimexist(root, anim)
trigger1 = var(0) := root, anim
ignorehitpause = 1
[state 0]
type = null
trigger1 = !time
trigger1 = selfanimexist(root, anim)
trigger1 = var(1) := root, animelemno(0)
ignorehitpause = 1
[state 0]
type = velset
trigger1 = !time
x = cond(root, stateno = 100, -1, 0)
y = 0
ignorehitpause = 1
[state 0]
type = changeanim
trigger1 = stateno = stateno
value = var(0)
elem = var(1)
ignorehitpause = 1
[state 0]
type = nothitby
trigger1 = !time
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 10
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = stateno = statenO
value = 0
scale = 1.0 + (time * 0.00375), 1.0 + (time * 0.00375)
ignorehitpause = 1
[state 0]
type = trans
trigger1 = stateno = stateno
trans = addalpha
alpha = 50 - cond(time > 5, ((time - 5) * 10), 0), 256
ignorehitpause = 1 

[state 0]
type = destroyself
trigger1 = time = 10
ignorehitpause = 1

[statedef 98061]
type = u
sprpriority = 10

[state 0]
type = changeanim
trigger1 = 1
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1
[state 0]
type = bindtoroot
trigger1 = time % 10 = 0
time = -1
ignorehitpause = 1
[state 0]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1
[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1
[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = -1
ignorehitpause = 1
[state 0]
type = trans
trigger1 = 1
trans = add
alpha = 50 - ((time) * 5), 256
[state 0]
type = afterimage
trigger1 = time = 0
time = -1
trans = add
length = 5
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = floor(root, fvar(35)), floor(root, fvar(36)), floor(root, fvar(37))
paladd = 0, 0, 0
palmul = .25, .25, .25

[state 0]
type = destroyself
trigger1 = time = 15

[statedef 98065]
type = u
movetype = i
physics = s
anim = 98050
ctrl = 0
sprpriority = 5
facep2 = 1

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, (root, var(53))

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0, -25

[state 0]
type = envshake
trigger1 = time = 0
time = 10

[state 0]
type = playsnd
trigger1 = time = 0
value = s9104, 3

[state 0]
type = destroyself
trigger1 = (time = 10) || (root, movetype = h)

[statedef 98080]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = 3

[state 0]
type = destroyself
trigger1 = time = 140

[statedef 98085]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = 3

[state 0]
type = destroyself
trigger1 = time = 200

[statedef 98100]
type = u
anim = 99999




[state 0]
type = envshake
trigger1 = time = 0
time = 5
ampl = -5
freq = 25

[state 0]
type = playsnd
trigger1 = time = 0
value = s9160, 0

[state 0]
type = explod
trigger1 = time = 0
anim = 98100
id = 98100
pos = 5, -25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .15
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 99999999
supermovetime = 99999999
[state 0]
type = explod
trigger1 = time = 0
anim = 98100
id = 98100
pos = 5, -25
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .525, .175
angle = 90
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 99999999
supermovetime = 99999999
trans = add

[state 0]
type = helper
trigger1 = (time = 0) && (pos y = 0)
stateno = 98120
id = 98120
pos = 15, 0
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .2
size.yscale = .25
ignorehitpause = 1
persistent = 0

[state 0]
type = destroyself
trigger1 = time = 15

[statedef 98120]
type = u
anim = 98120
velset = -1, 0
sprpriority = 3

[state 0]
type = remappal
trigger1 = root,var(23) != 2
source = 3, 0
dest = 3, 9

[State 0, RemapPal]
type = RemapPal
trigger1 = root,var(23) = 2
source = 3, 0
dest = 3,3

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1, 0
trans = sub

[state 0]
type = destroyself
trigger1 = !animtime

[statedef 98240]
type = u
movetype = i
physics = a
sprpriority = 4

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, 9

[state 0]
type = velset
trigger1 = time = 0
x = -2 + (random % 5)
y = -4 - (random % 4)

[state 0]
type = varadd
trigger1 = 1
v = 3
value = cond(vel x >= 0, -10 - (random % 5), 10 + (random % 5))

[state 0]
type = angledraw
trigger1 = 1
value = var(3)

[state 0]
type = varset
trigger1 = time = 0
v = 2
value = random % 4

[state 0]
type = changeanim
trigger1 = 1
value = 98241
elem = var(2)

[state 0]
type = changestate
trigger1 = (time > 5) && (pos y >= -10)
value = 98241

[statedef 98241]
type = u
movetype = i
physics = s
sprpriority = 3

[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 3

[state 0]
type = explod
trigger1 = time = 0
anim = 98240
id = 98240
pos = 0, 5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0




[state 0]
type = explod
trigger1 =root,var(23) = 2
trigger1 = time = 0
anim = 99050
id = 99050
pos = 0, 7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = sub
[state 0]
type = explod
trigger1 =root,var(23) = 2
trigger1 = time = 0
anim = 99050
id = 99050
pos = 0, 7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0


[state 0]
type = explod
trigger1 =root,var(23) != 2
trigger1 = time = 0
anim = 99050
id = 99050
pos = 0, 7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = sub
[state 0]
type = explod
trigger1 =root,var(23) != 2
trigger1 = time = 0
anim = 99050
id = 99050
pos = 0, 7
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0

[state 0]
type = velset
trigger1 = time = 0
y = 0

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = angledraw
trigger1 = 1
value = var(3)

[state 0]
type = changeanim
trigger1 = 1
value = anim
elem = var(2)

[state 0]
type = varadd
trigger1 = time >= 20
v = 1
value = 25

[state 0]
type = trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1), 0+var(1)

[state 0]
type = destroyself
trigger1 = var(1) >= 256

[statedef 98500]
type = u
anim = 99999

[state 0]
type = null
trigger1 = (fvar(1) := (4)) && (fvar(2) := (-26))


[state 0]
type = envshake
trigger1 = time = 0
time = 15
ampl = -10
freq = 30

[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 1
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 1
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2

[state 0]
type = explod
trigger1 = time = 0
anim = 98501
id = 98501
pos = (fvar(1)), (fvar(2))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .3, .8
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 98501
id = 98501
pos = (fvar(1)), (fvar(2))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 1
scale = .3, .8
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0

[state 0]
type = explod
trigger1 = time = 0
anim = 98502
id = 98502
pos = (fvar(1)), (fvar(2))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 98502
id = 98502
pos = (fvar(1)), (fvar(2))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0

[state 0]
type = helper
trigger1 = time = 0
stateno = 98510
id = 98510
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = numhelper(98510) = 0

[statedef 98510]
type = u
anim = 99999

[state 0]
type = explod
trigger1 = time = 0
anim = 98503
id = 98503
pos = 160, floor((1.33 * gameheight / gamewidth) * 120)
postype = back
facing = 1
bindtime = 1
removetime = -1
scale = 1.1, 1.1
sprpriority = -1
ownpal = 1
remappal = 3, 0
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 98503
id = 98503
pos = 160, floor((1.33 * gameheight / gamewidth) * 120)
postype = back
facing = 1
bindtime = 1
removetime = -1
scale = 1.1, 1.1
sprpriority = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999

[state 0]
type = varadd
trigger1 = var(5) > -50
v = 5
value = -10

[state 0]
type = bgpalfx
trigger1 = 1
time = 2
add = var(5), var(5), var(5)

[state 0]
type = removeexplod
trigger1 = root, stateno != [3000, 3006]
id = 98503

[state 0]
type = changestate
trigger1 = root, stateno != [1203, 1204]
trigger1 = root, stateno != [3000, 3006]
value = 98511

[statedef 98511]
type = u

[state 0]
type = varadd
trigger1 = var(5) < 0
v = 5
value = 5

[state 0]
type = bgpalfx
trigger1 = 1
time = 2
add = var(5), var(5), var(5)

[state 0]
type = destroyself
trigger1 = time = 10

[statedef 99035]
type = u
movetype = i
physics = a
anim = 98051
sprpriority = 8

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, (root, var(53))

[state 0]
type = explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = sub

[state 0]
type = velset
trigger1 = time = 0
x = -2 + (random % 4)
y = -2 - (random % 3)

[state 0]
type = varadd
trigger1 = 1
v = 3
value = cond(vel x >= 0, -10 - (random % 5), 10 + (random % 5))

[state 0]
type = angledraw
trigger1 = 1
value = var(3)

[state 0]
type = changestate
trigger1 = (time > 5) && (pos y >= -10)
value = 99036

[statedef 99036]
type = u
movetype = i
physics = s
anim = 98051

[state 0]
type = explod
trigger1 = time % 20 = 0
anim = 98050
id = 98050
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 9
scale = .075, .075
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = velset
trigger1 = 1
x = 0
y = 0

[state 0]
type = posset
trigger1 = time = 0
y = -5 + (random % 4)

[state 0]
type = helper
triggerall = rootdist y >= 0
trigger1 = ((rootdist x >= -12) && (rootdist x <= 12))
stateno = 99037
id = 99037
pos = 0, 0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
triggerall = rootdist y >= 0
trigger1 = ((rootdist x >= -12) && (rootdist x <= 12))
trigger2 = time = 250

[statedef 99037]
type = u
anim = 99999

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 100
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = s9104, 3
volumescale = 50

[state 0]
type = destroyself
trigger1 = !animtime

[statedef 99050]
type = s
movetype = h
physics = n
;anim = 5050 + (var(10))
ctrl = 0
velset = 0, 0
sprpriority = 1
facep2 = 1

[State 0, Turn]
type = Turn
trigger1 = p2dist x <0 && time = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1



[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050 + (var(10))
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 5030
;ignorehitpause = 
;persistent = 


[state 0]
type = velset
trigger1 = time >= 0
x = -16
y = 0
ignorehitpause = 1

[state 0]
type = posset
trigger1 = pos y >= 0
y = 0

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = null;nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 5

[state 0]
type = changestate
trigger1 = backedgebodydist <= 5
value = 99051

[statedef 99051]
type = a
movetype = h
physics = a
ctrl = 0
velset = 0, 0
sprpriority = 1

[state 0]
type = lifeadd
trigger1 = time = 0
value = -50
kill = 1
[state 0]
type = envshake
trigger1 = time = 0
time = 15
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1


[state 0]
type = velset
trigger1 = time = 0
x = 1.5
y = -4
ignorehitpause = 1

[state 0]
type = selfstate
trigger1 = time = 1
value = 5050

[statedef 99055]
type = s
movetype = i
physics = n
anim = 99999
ctrl = 0

[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0

[state 0]
type = posset
trigger1 = 1
y = 0

[state 0]
type = explod
triggerall = p2stateno = 99050
trigger1 = (time = 0) || (time % 6 = 0)
anim = 98050
id = 98050
pos = 0, -28
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
scale = .09, .6
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = (time = 0) || (time % 2 = 0)
anim = 98100
id = 98100
pos = 60 - (random % 40), -10 - (random % 30)
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .25, .1
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 5, 0

[state 0]
type = explod
trigger1 = (pos y = 0) && ((time = 0) || (time % 6 = 0))
anim = 98120
id = 98120
pos = 0, 0
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1.5, 0
trans = sub
[state 0]
type = explod
trigger1 = (pos y = 0) && ((time = 0) || (time % 6 = 0))
anim = 98120
id = 98120
pos = 0, 0
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 10
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1.5, 0

[state 0]
type = destroyself
trigger1 = enemy, stateno != 99050

[statedef 99056]
type = a
movetype = a
physics = s
anim = 99999
ctrl = 0
sprpriority = 2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 4
[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 4

[state 0]
type = explod
trigger1 = time = 0
anim = 99050
id = 99050
pos = -15, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3, 0
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999
vel = .25, 0
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 99050
id = 99050
pos = -15, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3, 9
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999
vel = .25, 0

[state 0]
type = explod
trigger1 = time = 0
anim = 99060
id = 99060
pos = -20, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 99060
id = 99060
pos = -20, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3, 11
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = time = 1

[statedef 99060]
type = s
movetype = h
physics = n
anim = 99999
ctrl = 0
sprpriority = 1
facep2 = 1

[state 0]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[state 0]
type = velset
trigger1 = time = 0
x = -7
y = 6

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0
ignorehitpause = 1



[state 0]
type = changeanim
trigger1 = 1
value = 5100
elem = 1

[state 0]
type = changestate
trigger1 = pos y >= 0 && time >10
value = 99061

[statedef 99061]
type = s
movetype = h
physics = n
ctrl = 0
sprpriority = 1
facep2 = 1

[state 0]
type = removeexplod
trigger1 = time = 0
id = 98100

[state 0]
type = lifeadd
trigger1 = time <= 15
value = -1
kill = 1

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = velset
trigger1 = time = 0
x = -7
y = 2

[state 0]
type = velset
trigger1 = time >= 15
x = 0
y = 0

[state 0]
type = assertspecial
trigger1 = 1
flag = noautoturn

[state 0]
type = changeanim
trigger1 = time <= 15
value = 5101
elem = 1

[state 0]
type = changeanim
trigger1 = time >= 15
value = 5110
elem = 1

[state 0]
type = changestate;selfstate
triggerall = alive
trigger1 = pos y >=0
value = 8175;5120

[state 0]
type = changestate
triggerall = !alive
trigger1 = time = 70
value = 5150

[state 0]
type = changestate
trigger1 = backedgebodydist <= 5
value = 99050

;-------------------------------------------------------------------------------
[Statedef 81750]
type    = U
movetype= H
physics = N
juggle  = 1
velset = -5,10
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1



[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, VelSet]
type = VelSet
trigger1 = pos y>=-2
y = 0
ignorehitpause = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030+var(10)
elem = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y>=-2
y = 0
ignorehitpause = 1



[state 0]
type = changestate
trigger1 = time >2 && backedgebodydist <= 5
value = 99050

[State 0, End]
type = selfState
trigger1 = pos y >= -2
value = 5050
;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
[Statedef 8175]
type    = U
movetype= H
physics = N
juggle  = 1
velset = -2,16
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030+var(10)
elem = 1

[state 0]
type = changestate
trigger1 = time >2 && backedgebodydist <= 5
value = 99050

[State 0, End]
type = ChangeState
trigger1 = pos y <= 0
value = 8171
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 8171]
type    = A
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1


[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 1,0 && time < 5
time = 15
ampl = -6
freq = 30

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -20
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 5
x = -1
y = -6

[State 0, Gravity]
type = Gravity
trigger1 = time > 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 999
value = 5101+var(10)
elem = 1

[State 0, End]
type = selfstate
trigger1 = time = 5
value = 5050
;-------------------------------------------------------------------------------


[statedef 99065]
type = s
movetype = a
physics = s
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = 2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 1
[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 1

[state 0]
type = explod
trigger1 = (time % 2 = 0) && (time <= 10)
anim = 98100
id = 98100
pos = 10 - (random % 30), -5 - (random % 20)
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = cond(random < 500, 0, 3)
scale = .3, .1
angle = -75
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = time = 50

[statedef 99066]
type = s
movetype = i
physics = n
anim = 99999
ctrl = 0

[state 0]
type = posadd
trigger1 = 1
x = p2dist x

[state 0]
type = posset
trigger1 = 1
y = 0

[state 0]
type = explod
trigger1 = ((pos y = 0) && (time % 4 = 0)) && (time <= 12)
anim = 98120
id = 98120
pos = -15, 3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 2, 0
trans = sub
[state 0]
type = explod
trigger1 = ((pos y = 0) && (time % 4 = 0)) && (time <= 12)
anim = 98120
id = 98120
pos = -15, 3
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 2, 0

[state 0]
type = destroyself
trigger1 = enemy, stateno != 99061

[statedef 99100]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = -1

[state 0]
type = helper
trigger1 = time % 8 = 0
stateno = 99006
id = 99006
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[state 0]
type = helper
trigger1 = time = 0
stateno = 99005
id = 99005
pos = 0, -25
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1
supermovetime = 999
pausemovetime = 999
persistent = 0

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s7788, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s7788, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s7788, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s7788, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s7788, 2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2

[state 0]
type = explod
trigger1 = time = 0
trigger2 = (time <= 15) && (time % 10 = 0)
anim = 98050
id = 98050
pos = 0, -22
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 10
scale = cond(time = 0, .5, .04 * (time)), cond(time = 0, .5, .04 * (time))
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = helper
triggerall = root, stateno != [3000, 4999]
trigger1 = time % 8 = 0
stateno = 98061
id = 98061
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = poweradd
triggerall = (root, var(57) = 1)
trigger1 = time = 0
value = powermax / 5

[state 0]
type = poweradd
triggerall = (root, var(57) = 1)
triggerall = (root, power < root, powermax)
trigger1 = time % 80 = 0
value = 150
ignorehitpause = 1

[state 0]
type = playsnd
triggerall = (root, var(57) = 1)
triggerall = (root, power < root, powermax)
trigger1 = time % 80 = 0
value = s9500, 0
volumescale = 45

[state 0]
type = explod
triggerall = (root, var(57) = 1)
triggerall = (root, power < root, powermax)
trigger1 = time % 80 = 0
anim = 98502
id = 98502
pos = 0, -30 + (random % 10)
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = cond(random % 2 = 0, 3, 1)
scale = .3, .3
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add
alpha = 200, 256
vel = 0, 0
persistent = 1

[state 0]
type = explod
triggerall = (root, var(57) = 1)
trigger1 = time % 10 = 0 
anim = 98050
id = 98050
pos = (random % 11) * cond(random < 500, -1, 1), -25 + (random % 30) * cond(random < 500, -1, 1)
postype = p1
vel = random % 100 * cond(random <= 500, 0.01 * (random % 2), -0.01 * (random % 2)), -0.5
accel = 0.02, -0.05 - 0.01 * (random % 4)
scale = .075, .075
ownpal = 1
ignorehitpause = 1
sprpriority = cond(random % 2 = 0, 3, 1)
supermovetime = 999
pausemovetime = 999
remappal = 3, (root, var(53))

[state 0]
type = explod
triggerall = (root, var(57) = 2)
trigger1 = time % 10 = 0
anim = 99100
id = 99100
pos = 0 + (random % 5), -15 - (random % 25)
postype = p1
facing = cond(random % 1 = 0, 1, 0)
vfacing = cond(random % 1 = 0, 1, 0)
bindtime = 2
removetime = -2
sprpriority = 3
scale = .4, .4
angle = 0 + (random % 360)
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
triggerall = (root, var(57) = 6)
trigger1 = time % 10 = 0
anim = 98100
id = 99100
pos = -12 + (random % 24), -25 + (random % 25)
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .25, .075
angle = -25 + (random % 50)
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add
vel = 0, -1

[state 0]
type = removeexplod
trigger1 = root, stateno = [5090, 5120]
id = 99100

[state 0]
type = destroyself
trigger1 = (roundstate != 2) || (!alive)

[statedef 99110]
type = u
movetype = h
physics = n
velset = 0, 0
ctrl = 0
anim = 99110
sprpriority = 3

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = -1
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = posadd
trigger1 = 1
x = p2dist x - 1
y = p2bodydist y - 20

[state 0]
type = hitdef
affectteam = B
triggerall = (root, var(57) = 3)
triggerall = ((p2movetype != h) && (p2movetype != a) && (p2stateno != [5100, 5150]))
trigger1 = time % 60 = 0
attr = sca, ha
hitflag = maf
guardflag = maf
damage = 12, 12
pausetime = 0, 6
animtype = light
sparkno = -1
guard.sparkno = -1
hitsound = s9103, 0
guardsound = s9104, 0
ground.type = low
ground.slidetime = 0
ground.hittime = 0
fall = 0
kill = 0
palfx.time = 10
palfx.add = 0, -125, -125
palfx.sinadd = 25, 0, 80, 50

[state 0]
type = explod
triggerall = (root, var(57) = 3)
triggerall = ((p2movetype != h) && (p2movetype != a) && (p2stateno != [5100, 5150]))
trigger1 = time % 60 = 0
anim = 99111
id = 99111
pos = 0, -25
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 1
scale = .4, .4
angle = -45
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1

[state 0]
type = hitdef
affectteam = B
triggerall = (root, var(57) = 5)
triggerall = ((p2movetype != a) && (p2stateno != [5100, 5150]))
trigger1 = time % 60 = 0
attr = sca, ha
hitflag = maf
guardflag = maf
damage = 5, 5
animtype = light
sparkno = -1
guard.sparkno = -1
hitsound = s9160, 0
guardsound = s9104, 0
ground.type = low
ground.slidetime = 0
ground.hittime = 0
fall = 0
palfx.time = 10
palfx.add = -120, -60, 0
palfx.sinadd = 25, 0, 80, 50
givepower = -(powermax / 10)

[state 0]
type = explod
triggerall = (root, var(57) = 5)
triggerall = ((p2movetype != a) && (p2stateno != [5100, 5150]))
trigger1 = time % 60 = 0
anim = 98004
id = 98004
pos = -4 + (random % 12), -12 - (random % 24)
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = 0 + (random % 360)
ownpal = 1
remappal = 3, 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = time = 400

[statedef 99120]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = -1

[state 0]
type = changeanim
trigger1 = 1
value =  root, anim
elem = root, animelemno(0) 
ignorehitpause = 1
[state 0]
type = bindtoroot
trigger1 = 1
time = -1
ignorehitpause = 1
[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1
[state 0]
type = hitoverride
trigger1 = 1
attr = sca, na, sa, ha, np, sp, hp, nt, st, ht
stateno = stateno
time = -1
ignorehitpause = 1
[state 0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1
[state 0]
type = null
trigger1 = !time && !var(0)
trigger1 = var(0) := (root, stateno)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time && (root, stateno) != var(0)
ignorehitpause = 1

[statedef 99500]
type = s
movetype = i
physics = n
anim = 115 + (var(11))
ctrl = 0
velset = 0, 0
sprpriority = 2
facep2 = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = palno < 11
trigger1 = timemod = 18,0
trigger1 = roundstate = 2
value = 2
kill = 1
ignorehitpause = 1

[State 0, The world Dogde]
type = HitOverride
triggerall = numhelper(560) = 0
triggerall = Power >= 1000
triggerall = ailevel > 0 && roundstate = 2
triggerall = life > 50
trigger1 = numhelper(99980) = 0
trigger1 = random < (ailevel * 100)
trigger2 = numhelper(99980) = 1
trigger2 = random < (ailevel * 150)
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
stateno = 1600;381
time = 1
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = time = 12
value = s0, 11
channel = 2
[state 0]
type = playsnd
trigger1 = time = 12
value = s0, 11
channel = 3

[state 0]
type = poweradd
triggerall = time >= 12
trigger1 = 1
value = ifelse(numhelper(99100) = 0,powermax / 250,powermax / 190) + ifelse(palno >=11,10,0)


[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0



[state 0]
type = helper
trigger1 = (time % 10 = 0) && (time >= 12)
stateno = 98060
id = 98060
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = playsnd
trigger1 = time = 6
value = s9500, 0

[state 0]
type = explod
trigger1 =var(23) !=2
trigger1 = time = 6
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 =var(23) !=2
trigger1 = time = 6
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, (var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 =var(23) =2
trigger1 = time = 6
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 =var(23) =2
trigger1 = time = 6
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = helper
trigger1 = time = 12
stateno = 99550
id = 99550
pos = 0, 0
ownpal = 1
postype = p1
supermovetime = 999
pausemovetime = 999
size.xscale = .8
size.yscale = .8

[state 0]
type = ctrlset
triggerall = time >= 20
trigger1 = (!ailevel)
trigger2 = (ailevel) && (((cond(p2bodydist x <= (115 + (random % 25)), 1, 0)) || ((cond(p2movetype = a, 1, 0)))) || (power >= powermax))
value = 1

[State 200, End]
type = ChangeState
triggerall = numhelper(99100) = 1
triggerall = ailevel > 0
triggerall = stateno !=99610
triggerall = p2bodydist x < 100 && abs(p2bodydist y) <= 20
triggerall = backedgebodydist > 50
trigger1 = random < (ailevel * 100)
trigger2 = p2movetype = A && p2stateno != 500
trigger2 = random < (ailevel * 150)
value = 99610

[State 200, End]
type = ChangeState
triggerall = numhelper(99100) = 1
triggerall = ailevel > 0
triggerall = stateno !=99610
triggerall = p2bodydist x < 100 && abs(p2bodydist y) <= 20
trigger1 = random < (ailevel * 100)
trigger2 = p2movetype = A && p2stateno != 500
trigger2 = random < (ailevel * 150)
value = 99610

[State 200, End]
type = ChangeState
triggerall = numhelper(560) = 0
triggerall = numhelper(1911) = 0
Triggerall = power >= 300 || numhelper(850) = 1
triggerall = ailevel > 0
triggerall = p2bodydist x < 100 && abs(p2bodydist y) <= 20
trigger1 = random < (ailevel * 50)
trigger2 = p2movetype = A && p2stateno != 500
trigger2 = random < (ailevel * 100)
value = 380


[State 0, The world Dogde]
type = HitOverride
triggerall = numhelper(560) = 0
triggerall = Power >= 1000
triggerall = ailevel > 0 && roundstate = 2
triggerall = life > 50
trigger1 = numhelper(99100) = 0
trigger1 = random < (ailevel * 100)
trigger2 = numhelper(99100) = 1
trigger2 = random < (ailevel * 150)
attr = SCA,NA,SA,HA,NP,SP,HP,ST,HT
stateno = 1600
time = 1
ignorehitpause = 1

[state 0]
type = changestate
triggerall = (!ailevel) && (time >= 20)
trigger1 = ((command != "hold_s") || (power >= powermax))
value = 99501

[State 200, End]
type = ChangeState
triggerall = numhelper(850) = 0
triggerall = ailevel > 0
triggerall = p2bodydist x < 100 && abs(p2bodydist y) <= 20
trigger1 = random < (ailevel * 100)
trigger2 = p2movetype = A && p2stateno != 500
trigger2 = random < (ailevel * 150)
value = 99501

[statedef 99501]
type = s
movetype = i
physics = n
ctrl = 0
velset = 0, 0
sprpriority = 2

[state 0]
type = changeanim
trigger1 = time = 0
value = 115 + (var(11))
elem = 3
[state 0]
type = changeanim
trigger1 = time = 2
value = 115 + (var(11))
elem = 2
[state 0]
type = changeanim
trigger1 = time = 4
value = 115 + (var(11))
elem = 1

[state 0]
type = changestate
trigger1 = time = 5
value = cond(pos y = 0,0,50)
ctrl = 1

[statedef 99550]
type = u
anim = 99999

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = bindtoroot
trigger1 = 1
pos = 2, 3

[state 0]
type = remappal
trigger1 = 1
source = 3, 0
dest = 3, (root, var(53))

[state 0]
type = envshake
trigger1 = time % 10 = 0
time = 10
ampl = -2
freq = 6

[state 0]
type = playsnd
trigger1 = time % 120 = 0
value = s9500, 1
channel = 2

[state 0]
type = stopsnd
trigger1 = ((root, stateno != 99500) || (root, movetype = h))
channel = 2
[state 0]
type = stopsnd
trigger1 = ((root, stateno != 99500) || (root, movetype = h))
channel = 3
[state 0]
type = removeexplod
trigger1 = ((root, stateno != 99500) || (root, movetype = h))
id = 9550




[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 26 = 0
anim = 99550
id = 99550
pos = 0, -3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .15 + (const(size.xscale)), .05 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 26 = 0
anim = 99550
id = 99550
pos = 0, -3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .15 + (const(size.xscale)), .05 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 99552
id = 99550
pos = 0, 10
postype = p1
facing = 1
bindtime = 0
removetime = -2
sprpriority = 0
scale = .05 + (const(size.xscale)), .15 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
vel = 0, -2
[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 99552
id = 99550
pos = 0, 10
postype = p1
facing = 1
bindtime = 0
removetime = -2
sprpriority = 3
scale = .05 + (const(size.xscale)), .15 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 0, -2

[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = .5, 0
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = .5, 0

[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -.5, 0
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) = 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3,3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -.5, 0





















[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 26 = 0
anim = 99550
id = 99550
pos = 0, -3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .15 + (const(size.xscale)), .05 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 26 = 0
anim = 99550
id = 99550
pos = 0, -3
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .15 + (const(size.xscale)), .05 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 1

[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 99552
id = 99550
pos = 0, 10
postype = p1
facing = 1
bindtime = 0
removetime = -2
sprpriority = 0
scale = .05 + (const(size.xscale)), .15 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
vel = 0, -2
[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 99552
id = 99550
pos = 0, 10
postype = p1
facing = 1
bindtime = 0
removetime = -2
sprpriority = 3
scale = .05 + (const(size.xscale)), .15 + (const(size.yscale))
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 0, -2

[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = .5, 0
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = .5, 0

[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -.5, 0
trans = sub
[state 0]
type = explod
trigger1 = root,var(23) != 2
trigger1 = time % 10 = 0
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -.5, 0

[state 0]
type = destroyself
trigger1 = (root, stateno != 99500) || (root, movetype = h)

[statedef 99551]
type = u
anim = 99999

[state 0]
type = removeexplod
trigger1 = time = 0
id = 99550

[state 0]
type = playsnd
trigger1 = time = 0
value = s9160, 0
volumescale = 20

[state 0]
type = envshake
trigger1 = time = 0
time = 15
ampl = -5
freq = 12

[state 0]
type = explod
trigger1 = time = 0
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 99551
id = 99551
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = 0
ownpal = 1
remappal = 3, (root, var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = (pos y = 0) && (time = 0)
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .8, .8
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 1, 0
trans = sub
[state 0]
type = explod
trigger1 = (pos y = 0) && (time = 0)
anim = 98125
id = 98125
pos = 9, 0
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .8, .8
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 1, 0

[state 0]
type = explod
trigger1 = (pos y = 0) && (time = 0)
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .8, .8
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1, 0
trans = sub
[state 0]
type = explod
trigger1 = (pos y = 0) && (time = 0)
anim = 98125
id = 98125
pos = -9, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .8, .8
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1, 0

[state 0]
type = destroyself
trigger1 = time >= 10

[statedef 99610] 
type = s
movetype = i
physics = s
ctrl = 0
sprpriority = 2

[State 0, End]
type = ChangeState
Triggerall = time >= cond(pos y >-1,17,8) 
Triggerall = pos Y !=0
triggerall = helper(340),stateno !=63111 && helper(340),stateno !=406
trigger1 = ailevel = 0 && command = "c" && command = "holddown"
trigger2 = roundstate = 2 && ailevel > 0 &&p2bodydist x < 50&& random < (ailevel * 100)/2
value = ifelse(numhelper(850) = 1,2320,6301)


[State 0,FX]
type=Helper
trigger1=Time>=0
Trigger1=GameTime%1=0
helpertype=normal
name="FX"
ID=715
stateno=715
pos=0,0
postype=p1
ownpal=1
supermovetime=99999
pausemovetime=99999


[State 0, Fly Lines]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Fly Lines"
ID = 65
stateno = 65
pos = 0,(0-random%40)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .125
Size.Yscale = .1
pausemovetime = 99999
supermovetime = 99999

[State 0, Fly Lines]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Fly Lines"
ID = 66
stateno = 66
pos = 10,(-5-random%40)
postype = p1
facing = 1
ownpal = 1
trans = sub
Size.Xscale = .125
Size.Yscale = .1
pausemovetime = 99999
supermovetime = 99999

[State 0]
Type = EnvShake
Trigger1 = !Time
Time = 10
Freq = 40
Ampl = -6
Phase = 90
[State 61, 1]
type = PalFX
trigger1 = time=0
time =5
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 61, 2]
type = AfterImage
trigger1 =time=0
time = 2
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd=0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 61, 1]
type = PalFX
trigger1 = time=0
time =5
add = 100,100,100
mul = 256,256,256
invertall = 0
color = 0
ignorehitpause = 1
persistent = 1

[State 61, 3]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 40
ampl = -6
phase = 90
ignorehitpause =1
persistent =  1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
anim =7022 ;1019;
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S55662,0+random%2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = var(23) = 2
triggerall = anim=701
trigger1 = animelemtime(1)=0
trigger2 = animelemtime(1)>=0 && animelemtime(3)<0 &&time %2=0
anim = 7000
ID = 7000
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .6,.15
sprpriority = -3
trans = add
angle = 90
remappal = 3,3
ownpal = 1
removeongethit = 1


[State 0, Explod]
type = Explod
triggerall = var(23) != 2
triggerall = anim=701
trigger1 = animelemtime(1)=0
trigger2 = animelemtime(1)>=0 && animelemtime(3)<0 &&time %2=0
anim = 7000
ID = 7000
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .6,.15
sprpriority = -3
trans = add
angle = 90
remappal = 700,1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(1)=0
anim = 8005
ID = 8005
pos = 10,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .3,.3
vel = -2,0
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(1)=0
anim = 8002
ID = 8002
pos = 15,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
scale = .3,.3
vel = -2,0
sprpriority = 3
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent = 

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = 
;value2 = S,NA
time = 1
ignorehitpause = 1
;persistent = 


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
;ignorehitpause = 
;persistent = 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 256,256
ignorehitpause = 1




[state 0]
type = changeanim
trigger1 = time <= 3
value = cond(pos y != 0, 41, 10) + (var(11))
elem = 1
[state 0]
type = changeanim
trigger1 = time >= 3
value = cond(pos y != 0, 41, 10) + (var(11))
elem = 2
[state 0]
type = changeanim
trigger1 = time >= 6
value = 110 + (var(11))

[state 0]
type = helper
trigger1 = (numhelper(99615) = 0) && (time = 0)
stateno = 99615
id = 99615
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = statetypeset
triggerall = pos y != 0
trigger1 = time = 0
statetype = a
movetype = a
physics = a

[state 0]
type = turn
triggerall = time = 0
trigger1 = command = "holdback"

[state 0]
type = helper
trigger1 = time = 6
stateno = 98060
id = 98060
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = playsnd
trigger1 = time = 6
value = s9160, 1
[state 0]
type = playsnd
trigger1 = time = 6
value = s9160, 3

[state 0]
type = envshake
trigger1 = time = 6
time = 5
ampl = -5
freq = 25



[state 0]
type = explod
triggerall = var(23) = 2
triggerall = (command = "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = -5, -25
postype = p1
facing = 1
bindtime = 3
removetime = -2
sprpriority = 3
scale = .6, .1
angle = -70
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
triggerall = var(23) = 2
triggerall = (command = "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = -5, -25
postype = p1
facing = 1
bindtime = 3
removetime = -2
sprpriority = 4
scale = .6, .1
angle = -70
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add






[state 0]
type = explod
triggerall = var(23) != 2
triggerall = (command = "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = -5, -25
postype = p1
facing = 1
bindtime = 3
removetime = -2
sprpriority = 3
scale = .6, .1
angle = -70
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
triggerall = var(23) != 2
triggerall = (command = "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = -5, -25
postype = p1
facing = 1
bindtime = 3
removetime = -2
sprpriority = 4
scale = .6, .1
angle = -70
ownpal = 1
remappal = 3, (var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add



[state 0]
type = explod
triggerall = var(23) != 2
triggerall = (command != "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = 10, -20
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .15
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
triggerall = var(23) != 2
triggerall = (command != "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = 10, -20
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .525, .175
angle = 90
ownpal = 1
remappal = 3, (var(53))
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add




[state 0]
type = explod
triggerall = var(23) = 2
triggerall = (command != "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = 10, -20
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .15
angle = 90
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
[state 0]
type = explod
triggerall = var(23) = 2
triggerall = (command != "holdup") && (pos x != 0)
trigger1 = time = 6
anim = 98100
id = 98100
pos = 10, -20
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
scale = .525, .175
angle = 90
ownpal = 1
remappal = 3, 3
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add

[state 0]
type = velset
trigger1 = time = 6
x = cond(command = "holdup", 5.5, (cond(pos y != 0, (const(velocity.run.fwd.x) * 3.4 / 2), (const(velocity.run.fwd.x) * 3.4))))
y = cond(pos y != 0, cond(command = "holdup", -5, -3), 0)

[state 0]
type = changestate
trigger1 = frontedgebodydist < 5
trigger1 = time >= 12
value = 105

[state 0]
type = changestate
trigger1 = time = 16
value = 99611

[statedef 99611] 
type = s
movetype = i
physics = s
ctrl = 0
sprpriority = 2
velset = 4, 0

[state 0]
type = statetypeset
triggerall = pos y != 0
trigger1 = time = 0
statetype = a
movetype = a
physics = a

[state 0]
type = changeanim
trigger1 = time <= 8
value = cond(pos y != 0, 44, 12) + (var(11))
elem = 1
[state 0]
type = changeanim
trigger1 = time >= 8
value = cond(pos y != 0, 44, 12) + (var(11))
elem = 2

[state 0]
type = playsnd
trigger1 = (time = 0) && (pos y = 0)
value = s9160, 2

[state 0]
type = explod
trigger1 = (time = 0) && (pos y = 0)
anim = 98120
id = 98120
pos = 10, 0
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 0
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = (time = 0) && (pos y = 0)
anim = 98120
id = 98120
pos = 10, 0
postype = p1
facing = 1
bindtime = 5
removetime = -2
sprpriority = 3
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = ctrlset
trigger1 = time >= 7
value = 1

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = time >=6
ignorehitpause = 1


[State 0, Chance? Counter]
type = ChangeState
triggerall = numhelper(560) = 0
triggerall = power >= 500
triggerall = pos y = 0
triggerall = ailevel > 0 && roundstate = 2
triggerall = p2bodydist x < 150 && abs(p2bodydist y) <= 20
trigger1 = p2movetype = A && p2stateno != 500
trigger1 = enemynear,facing != facing
trigger1 = random < (ailevel * 100)/2
trigger2 = numhelper(850) = 1
trigger2 = p2movetype != H
trigger2 = enemynear,facing != facing
trigger2 = p2bodydist x < 40 && abs(p2bodydist y) <= 20
trigger2 = random < (ailevel * 100)/4
trigger3 = (ailevel) && inguarddist || enemy,numproj || enemynear,numproj || enemy,hitdefattr = SCA,NA,SA,HA,NP,SP,HP,NT,ST || enemynear,hitdefattr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT || p2movetype = A
trigger3 = random < (ailevel * 100)/4
trigger3= enemynear,movetype !=H
trigger4 = (ailevel) && var(51)=1 
trigger4 = random < (ailevel * 100)/4
trigger4 = enemynear,movetype !=H
trigger5 = ((ailevel) && ((p2bodydist x <= 90) && (p2bodydist y = [-20, 10]) && (enemynear, stateno != [5100, 5150])) && (p2movetype = a))
trigger5 = enemynear,movetype !=H
trigger5 = random < (ailevel * 100)/4
value = 1800



[State 200, Into C]
type = ChangeState
Triggerall =  power >=1200 && pos y = 0 
trigger1 = ((!ailevel) && ((command = "holddown") && (command = "z")))
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
trigger2 = p2bodydist x <35
value = 4600



[State 0, Instant TimeStop Teleport]
type = ChangeState
triggerall = numhelper(1911) = 0
Triggerall = power >= 300 || numhelper(99100) = 1
;triggerall = statetype != A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl; || numhelper(700) > 0
triggerall = !(numhelper(99100) = 0 && prevstateno = 310 && p2movetype = H && power < 2000)
trigger1 = p2bodydist y < -20
trigger1 = random < (ailevel * 50)
trigger2 = enemynear,alive
trigger2 = enemynear,pos y > -20
trigger2 = pos y < -20
trigger2 = random < 100
trigger3 = numhelper(99100) = 1
trigger3 = enemynear,alive
trigger3 = enemynear,pos y > -10
trigger3 = random < 100
value = 380

[State 0, Instant TimeStop Counter]
type = ChangeState
triggerall = stateno !=[380,381]
triggerall = stateno !=38111
triggerall = numhelper(1911) = 0
Triggerall = power >= 300 || numhelper(99100) = 1
triggerall = statetype != A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
triggerall = p2bodydist x < 100 && abs(p2bodydist y) <= 20
trigger1 = !(numhelper(99100) = 0 && prevstateno = 310 && p2movetype = H && power < 2000)
trigger1 = random < (ailevel * 50)
trigger2 = p2movetype = A && p2stateno != 500
trigger2 = random < (ailevel * 100)
value = 380


[State 0, Instant TimeStop Counter]
type = ChangeState
triggerall = stateno !=[380,381]
triggerall = stateno !=38111
triggerall = numhelper(1911) = 0
Triggerall = power >= 300 || numhelper(99100) = 1
triggerall = statetype != A
triggerall = ailevel > 0 && roundstate = 2
triggerall = ctrl
trigger1 = p2bodydist x >=100 
trigger1 = power >=2800
trigger1 = random < (ailevel * 500)
value = 380

[state 0]
type = changestate
trigger1 = time = 16
value = cond(pos y != 0, 50, 0)
ctrl = 1

[statedef 99615]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 99999
sprpriority = 3

[state 0]
type = destroyself
trigger1 = time = 20

[statedef 99620]
type = s
movetype = a
physics = s
anim = 112 + (var(11))
ctrl = 0
sprpriority = 2
facep2 = 1

[state 0]
type = helper
trigger1 = movecontact = 1
stateno = 98080
id = 98080
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 4
[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 4

[state 0]
type = helper
trigger1 = animelem = 3
stateno = 98100
id = 98100
postype = p1

[state 0]
type = velset
trigger1 = animelem = 3
x = const(velocity.run.fwd.x) * 1.2

[state 0]
type = velset
trigger1 = movecontact
x = 0

[state 0]
type = playsnd
trigger1 = animelem = 3
value = s9160, 3

[state 0]
type = explod
trigger1 = animelem = 3
anim = 98100
id = 98100
pos = 18, -30
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .15, .1
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = assertspecial
trigger1 = 1
flag = unguardable
ignorehitpause = 1

[state 0]
type = hitdef
affectteam = B
trigger1 = animelem = 3
attr = s, nt
animtype = hard
damage = 0
hitflag = maf
guardflag = ma
pausetime = 12, 24
sparkno = -1
hitsound = s9104, 1
guardsound = s9104, 0
ground.type = high
ground.slidetime = 12
ground.hittime = 15
ground.cornerpush.veloff = 0
ground.velocity = -1, 0
air.velocity = 0, 0
fall = 0
forcenofall = 1
envshake.time = 10
getpower = 0, 0
numhits = 0

[state 0]
type = helper
triggerall = p2movetype = h
trigger1 = movehit
stateno = 98020
pausemovetime = 9999999
supermovetime = 9999999
id = 98020
pos = -5 + (random % 5), -35 + (random % 15)
postype = p2
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = 0

[state 0]
type = changestate
triggerall = (roundstate = 2) && (movecontact)
trigger1 = ((!ailevel) && (command = "a"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 2))
value = 200
[state 0]
type = changestate
triggerall = (roundstate = 2) && (movecontact)
trigger1 = ((!ailevel) && (command = "b"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 3))
value = 300
[state 0]
type = changestate
triggerall = (roundstate = 2) && (movecontact)
trigger1 = ((!ailevel) && (command = "c"))
trigger2 = ((ailevel) && ((p2bodydist x <= 60)) && (var(58) = 4))
value = ifelse(numhelper(850) = 1,2320,400)

[state 0]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

[statedef 99980]
type = u
physics = n
sprpriority = 0

[state 0]
type = varset
trigger1 = !time
v = 10
value = root, stateno
ignorehitpause = 1

[state 0]
type = statetypeset
trigger1 = root, movetype = i
movetype = i
ignorehitpause = 1

[state 0]
type = statetypeset
trigger1 = root, movetype = a
movetype = a
ignorehitpause = 1

[state 0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0]
type = changeanim
trigger1 = 1
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1
ignorehitpause = 1

[state 0]
type = reversaldef
trigger1 = root, hitdefattr != sca, at
trigger1 = enemynear, hitdefattr != sca, at
reversal.attr = sca, na, sa, ha
pausetime = 0, 0
sparkno = -1
hitsound = s9104, 0
p1stateno = 99981
ignorehitpause = 1

[state 0]
type = bindtoroot
trigger1 = 1
time = 1
pos = 0, 0
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = root, stateno != var(10)
trigger2 = root, movetype != a
ignorehitpause = 1

[statedef 99981]
type = u
movetype = i
physics = n
sprpriority = 0

[state 0]
type = assertspecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[state 0]
type = changeanim
trigger1 = 1
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1

[state 0]
type = nothitby
trigger1 = 1
value = sca
time = 1
ignorehitpause = 1

[state 0]
type = pause
trigger1 = !time
time = 10 + (root, life <= 5) * 2
endcmdbuftime = 10 + (root, life <= 5) * 2
pausebg = 1
ignorehitpause = 1

[state 0]
type = bindtoroot
trigger1 = 1
time = 1
pos = 0, 0
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing!= root, facing
ignorehitpause = 1

[state 0]
type = envshake
trigger1 = teamside = 1
time = 10
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1
persistent = 0

[state 0]
type = allpalfx
trigger1 = teamside = 1
time = 10
add = 0, 0, 0
mul = 256, 256, 256
sinadd = 16, 16, 16, 10
invertall = 0
color = 256
ignorehitpause = 1
persistent = 0

[state 0]
type = helper
trigger1 = teamside = 1
stateno = cond(random % 2 = 0, 98020, 98025)
id = 98020
pos = floor(p2dist x / 2), floor(p2dist y / 2 - (18 + random % 6))
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7
ignorehitpause = 1
persistent = 0
supermovetime = 999999999999
pausemovetime = 999999999999
[state 0]
type = destroyself
trigger1 = time >= 3
ignorehitpause = 1

[statedef 99999]
type = u

[state 0]
type = destroyself
trigger1 = (time = 15) || (root, time < 5)




; HITG_SHAKE
[Statedef 15000]
type    = S
movetype= H
physics = N
velset = 0,0
facep2 = 1








[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1




[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper
ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5200, 5]
type = Offset
triggerall=time<=10
trigger1=gametime%2=1
x = -3

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = cond((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030


[State 0, Explod]
type = Explod
trigger1 = enemynear,stateno =[3000,3001]
trigger1 = numexplod(5030) = 0
anim = 5030
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 800
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 0, Explod]
type = Explod
trigger1 = enemynear,stateno !=[3000,3001]
anim = 5030
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 0, Explod]
type = null;Explod
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
anim = 5047 + GetHitVar(animtype)
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 15
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1




[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 15001 ;HITG_SLIDE

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 15030
;=================================================================
; HITG_SLIDE
[Statedef 15001]
type    = S
movetype= H
physics = S
facep2 = 1
[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
;ignorehitpause = 
;persistent = 



[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1


[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030
[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1
[State 5001, 2]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5000, 7]
type = ChangeState
trigger1 = time>=300
value = 15100

[State 5001, 6]
type = selfState
trigger1 = !ishelper
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 15010]
type    = C
movetype= H
physics = N
velset = 0,0
[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1
[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
;ignorehitpause = 
;persistent = 



[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5020
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = null;ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 15011 ;HITC_SLIDE

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 15030

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 15011]
type    = C
movetype= H
physics = C
[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5025 + GetHitVar(animtype)
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5011, 2]
type = null;ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = selfState
trigger1 = HitOver
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 15020]
type    = A
movetype= H
physics = N
velset = 0,0
[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1



[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5030 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = cond((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type =null; ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 15030

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 15030]
type    = A
movetype= H
physics = N
ctrl = 0

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5030 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 15040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 15050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = time >=15;AnimTime = 0
value = 15035 ;HITA_UP (transition)

[State 5000, 7]
type = ChangeState
trigger1 = time>=300
value = 15100
;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 15035]
type    = A
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5035 
ID = 5035
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5035, 1]
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = time >=15;AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 15040 ;HITA_RECOV

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = time >=15;AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 15050 ;HITA_FALL

[State 5000, 7]
type = ChangeState
trigger1 = time>=300
value = 15100

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 15040]
type    = A
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5040
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1


[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 15050

[State 5040, 2]
type = null;ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 15050]
type    = A
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5050 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5050, 1] ;Change anim when done with transition
type = null;ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = null;ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= cond(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= cond((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 15100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 15070]
type    = A
movetype= H
physics = N
velset = 0,0

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1


[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5070 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5070, 1]
type = null;ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 15071


;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 15071]
type    = A
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5070 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 15110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 15080]
type    = L
movetype= H
physics = N
velset = 0,0

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = cond (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = sysvar(2);5070 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5080, 3] ;Freeze
type = null;ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 15081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 15030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 15081]
type    = L
movetype= H
physics = C

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;Downed get-hit (lying down)

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 15100]
type    = L
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1


[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0



[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 15100;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5100 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5100, 2] ;Hit ground anim (normal)
type = null;ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = null;ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 15110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5)
pos = 0, 0
under = sysvar(0) <= 5

[State 5100, Explod]
type = Explod
trigger1 = Time = 0
trigger1 = (sysvar(1) > 14)
anim = f62
pos = 0,0
postype = p1
removetime = -2
pausemove = 1
sprpriority = 9

[State 5100, Explod]
type = Explod
trigger1 = Time = 0
trigger1 = (sysvar(1) > 14)
anim = f63
pos = 0,0
postype = p1
removetime = -2
pausemove = 1
sprpriority = -9

[State 5100, KOFM]
type = EnvShake
trigger1 = Time = 0
trigger1 = (sysvar(1) > 14)
time = 25
freq = 210
ampl = 10

[State 5100, 11]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 12]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5100, 13]
type = PosFreeze
trigger1 = 1

[State 5100, 14]
type = ChangeState
trigger1 = time >=5;AnimTime = 0
value = 15101


;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 15101]
type    = L
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ishelper
ignorehitpause = 1


[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 15160;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5160 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5101, 1] ;Coming hit ground anim (normal)
type = null;ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = null;ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 10

[State 5101, 5] ;Acceleration
type = Velset
triggerall = (sysvar(1) > 14)
trigger1 = time = 0
y = -9

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .8

[State 5100 ,KOFM]
type = pause
trigger1 = (sysvar(1) > 14)
trigger1 = Timemod = 3,0
time = 3

[State 5101, 6] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
value = 15110
;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 15110]
type    = L
movetype= H
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 15110 ;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5110 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type =null; ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = null;ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = null;ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60
pos = 0, 0
under = 0

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(1)
value = 61
pos = 0, 0
under = 1

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = null;ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = null;ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = selfState
triggerall = !alive
trigger1 = time >=15;AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, ChangeState]
type = ChangeState
triggerall = alive
trigger1 = time >=20
value = 15120
ctrl = 0

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 15120]
type    = L
movetype= I
physics = N

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 15120;5030

[State 0, Explod]
type = Explod
trigger1 = numexplod(5090) = 0
anim = 5120 
ID = 5090
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1


[State 5120, 1a] ;Get up anim (normal)
type = null;ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type =null; ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 4]
type = HitFallSet
trigger1 = time >=17;AnimTime = 0
value = 1

[State 5120, 7]
type = changeState
trigger1 = time >=17;AnimTime = 0
value = 15120098
ctrl = 0

[Statedef 15800]
type    = S
movetype= H
physics = N
velset = 0,0

[State ]
type = defencemulSet
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = -gethitvar(damage)
kill = 1
ignorehitpause = 1



[state ]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = HitBy
trigger1 = 1
value2 = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[state ]
type = DestroySelf
trigger1 = IsHelper

ignorehitpause = 1


[State 0, LifeSet]
type = LifeSet
trigger1 = !ishelper
trigger1 = 0
trigger1 = alive!=0
value = 0
ignorehitpause = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = cond((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = null;ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = 1
value = 1109313;5030

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 5040 
ID = 5030
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = 1
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -2
removeongethit =1

[State 5000, 4] ;Freeze anim
type = null;ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 15001 ;HITG_SLIDE

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 15030






;-------------------------------------------------------------------------------
; Helper Stand intro padro
[Statedef 1851]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3225
sprpriority = 0

[State 0, AssertSpecial]
type = null;AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause  = 1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 2
pos = -15,-5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,180
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,180
volume = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno !=190
trigger2 = root,command = "back" || root,command = "fwd" 
ignorehitpause = 1


;--------------------------------------------------------------------------
; Flame Particles
[Statedef 1206]
type=A
velset=0,0
anim=9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,399
volume = 255
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,399
volume = 255


[State 1206, Pos]
type=posset
trigger1= 1
x= enemynear,pos x
y= enemynear,pos y


[State 12060, flames]
type=explod
trigger1= 1
anim=130621
sprpriority=3
postype=p1
random=40,40
vel= (random/2000.0), -.5-(random/2000.0)
scale = .5,.5
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
ownpal=1

[State 12060, flames]
type=explod
trigger1= 1
anim=130621
sprpriority=3
postype=p1
random=40,40
vel= (random/2000.0), -.5-(random/2000.0)
scale = .5,.5
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
ownpal=1

[State 1206, End]
type=destroyself
trigger1= time >90
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; New Hit Spark
[Statedef 98021]
type    = A
movetype= I
physics = N
anim = 701021
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0

;-------------------------------------------------------------------------------
;===========================================================================
; 气化冷冻法
;===========================================================================
;---------------------------------------------------------------------------
; 气化冷冻法 发动
[Statedef 4600]
type    = S
movetype = A
physics = S
juggle = 8
velset = 0,0
ctrl = 0
anim = 4600
poweradd = -300
facep2 = 1
[state 0]
type = null;turn
trigger1 = time = 0
trigger1 = p2dist x < -5


[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,118
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time <10
x = 5
ignorehitpause = 1

[State 0, 无敌Helper]
type = Helper
triggerall =!ishelper
trigger1 = !numhelper(14522)
trigger1 = AnimElemTime(9) >= 0
helpertype = normal ;player
name = "14522"
ID = 14522
stateno = 14524
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 4600, 无敌]
type = NotHitBy
trigger1 = AnimElemNo(0) >= 1
value = SCA

[State 4600, AfterImage]
type = AfterImageTime
trigger1 = time = 0
value = 0

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 3001, Width]
type = Width
trigger1 = AnimElemTime(9) < 0
player = 30,0

[State 220, Position]
type = PosSet
trigger1 = time = 0
y = 0



[State 901, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 5
value = 3, 0
channel = 1
[State 901, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 5
value = 3, 0
channel = 1
[State 901, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 5
value = 3, 0
channel = 1



[State 1000, Spark]
type = null;Explod
trigger1 = AnimElem = 5
Anim = 7601
pos = 10,-10
postype = P1
ownpal = 1
sprpriority = 5
scale = 0.3,0.3
pausemovetime = 99999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 20
hitflag   = MAFDE
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,7
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -2,-6
air.velocity = -2,-6
Fall = 1
Fall.recovertime = 30
kill = 0
Getpower = 0,0
Envshake.time = 10
id = 1500
palfx.time=70
palfx.add = 100,91,205
palfx.mul = 229,253,241
palfx.sinadd = -60,-66,-86,1
palfx.invertall
p2stateno = 4620
p1stateno = 4610



[State 900, 2]
type = null;ChangeState
;Trigger1 = numTarget > 0
Trigger1 = (enemy, stateno = 4620) || (enemynear, stateno = 4620)
value = 4610

[State 900, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 气化冷冻法 成功 相手
[Statedef 4620]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA


;-------------------------------------------------------------------------------
; Hielo P2 - Start
[Statedef 70761]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7076
sprpriority = 3

[State 0, Explod]
type = Explod
triggerall = numexplod(7076) = 0
trigger1 = time = 0
anim = 7076
ID = 7076
pos = 0,-30
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S1,222
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S1,222
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S1,222
volume = 999

[State 3000, Mist]
type = Explod
trigger1 = timemod = 3,0
anim = 2176
ID = 2176
pos = -20+random%45,20-random%55
postype = p2
sprpriority = 4
supermove = 1
removetime = -2
facing = ifelse(random < 500,1,-1)
bindtime = 1
vel = -.5,-1.5
ownpal = 1
scale = 0.25,0.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Estellas]
type = Explod
trigger1 = timemod = 3,0
anim = 7062
ID = 7062
pos = random%15,0-random%20
postype = p2
bindtime = 1
vel = 0,-2
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = invisible

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0



; 气化冷冻法 成功 自分
[Statedef 4610]
type    = S
movetype = A
physics = N
velset = 0,0
anim = 4610
poweradd = -500
[State 0, Helper]
type = null;Helper
trigger1 = numhelper(70761) = 0
helpertype = normal ;player
name = ""
ID = 70761
stateno = 70761
pos = 0,30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1



[State ];获得目标后常时当身
Type = ReversalDef
Trigger1 = NumTarget > 0;目标大于0时发动
;trigger1 = !Target,IsHelper;确保获得的目标不是helper
Reversal.Attr = SCA,AA,AP,AT
PauseTime = 0,0
SparkNo = -1
HitSound = -1
numhits = 0
IgnoreHitPause = 1 

[State 4610, AfterImage]
type = AfterImageTime
trigger1 = time = 0
value = 0

[State 901, Throw]
type = TargetState
trigger1 = Time = 0
value = 4611

[State 901, Throw]
type = TargetState
trigger1 = animelem = 4
value = 4612

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 3001, Width]
type = Width
trigger1 = animelem = 1
edge = 45,0
[State 810, Grab Sound];莼中
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3,4

[State 810, Grab Sound];莼完了
type = PlaySnd
trigger1 = AnimElemTime(1) = 24
value = 3,5
[State 810, Grab Sound];莼中
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3,4

[State 810, Grab Sound];莼完了
type = PlaySnd
trigger1 = AnimElemTime(1) = 24
value = 3,5

[State 901, Effect];冷鐾炅
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = animelem = 2
value = 3, 6
[State 901, Effect];冷鐾炅
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = animelem = 2
value = 3, 6
[State 810, Grab Sound];莼中
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3,4

[State 810, Grab Sound];莼完了
type = PlaySnd
trigger1 = AnimElemTime(1) = 24
value = 3,5

[State 901, Effect];冷鐾炅
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = animelem = 2
value = 3, 6

[State -2, 1]
type = PalFX
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = time = (14,30]
time = 1
add = 9*(time-14),9*(time-14),16*(time-14)
color = 64


[State 2601, EnvShake]
type = EnvShake
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 2
time = 20
ampl = 5

[State 812, 1]
type = null;Explod
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 1
anim = 7602
pos = ceil(-49*const(size.xscale)),ceil(-29*const(size.yscale))
postype = p1
ownpal = 1
sprpriority = 5
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)

[State 901,1]
type = TargetBind
trigger1 = 1
pos = 10,-20


[State 901, Hurt]
type = TargetLifeAdd
trigger1 = 1
value = -2

[State 901, State End]
type = ChangeState
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
value = 4614


[State 901, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 气化冷冻法派生 开始
[Statedef 4614]
type    = S
movetype= A
physics = S
anim = 4614
velset = 0,0
ctrl = 0
sprpriority = 3

[State ];获得目标后常时当身
Type = ReversalDef
Trigger1 = NumTarget > 0;目标大于0时发动
;trigger1 = !Target,IsHelper;确保获得的目标不是helper
Reversal.Attr = SCA,AA,AP,AT
PauseTime = 0,0
SparkNo = -1
HitSound = -1
numhits = 0
IgnoreHitPause = 1 

[State 901, Throw]
type = TargetState
trigger1 = time = 0
value = 4625

[State 3000, Superpause]
type = SuperPause
trigger1 = numhelper(560) = 0
trigger1 = animelemtime(1) = 0
time = 30
movetime = 30
anim = -1
sound = S8000,10
pos = 0,0
darken = 0
p2defmul = 1
unhittable = 0
persistent = 0

[State 8000, Super]
type = Helper
trigger1 = animelemtime(1) = 0
id = 8000
name = "Super"
pos = ceil(-16*const(size.xscale)+50),ceil(-75*const(size.yscale))
postype = P1
stateno = 8000
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
persistent = 0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 4002,1
;value = 3300,0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 4002,1
;value = 3300,0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 4002,1
;value = 3300,0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 4002,1
;value = 3300,0


[State 901, State End]
type = ChangeState
trigger1 = animtime = 0
value = 4615

;---------------------------------------------------------------------------
; 气化冷冻法派生 自分
[Statedef 4615]
type    = S
movetype= A
physics = S
anim = 4615
velset = 0,0
ctrl = 0
sprpriority = 3

[State ];获得目标后常时当身
Type = ReversalDef
Trigger1 = NumTarget > 0;目标大于0时发动
;trigger1 = !Target,IsHelper;确保获得的目标不是helper
Reversal.Attr = SCA,AA,AP,AT
PauseTime = 0,0
SparkNo = -1
HitSound = -1
numhits = 0
IgnoreHitPause = 1 



[State 1027, No scroll]
type = null;ScreenBound
trigger1 = animelemtime(1) >= 0 && animelemtime(5) < 0
value = 1
movecamera = 0,0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 182,0
[State 810, Bind 1]
type = TargetBind
trigger1 = target,stateno !=4626 && time <100
pos = 10, -20

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 3,7

[State 810, Grab Sound]
type = PlaySnd
trigger1 = animelemtime(5) = 0
value = 2,8

[State 4000, Explod];背景
type = Explod
trigger1 = animelemtime(5) = 0
anim = 8725
id = 8725
postype = Left
pos = 160,104
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = -106
pausemovetime = -1
supermovetime = -1
removetime = 30
scale = const(size.xscale),const(size.yscale)
persistent = 0
pausemovetime = 99999999*(var(0)>0)

[state 0]
type = explod
trigger1 = animelemtime(5) = 10
anim = 1139
id = 1139
pos = -15,-30
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 999
scale = .65,.65
angle = 0
ownpal = 1
remappal = 3,7
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = add
[state 0]
type = explod
trigger1 = animelemtime(5) = 10
anim = 1139
id = 1139
pos = -15,-30
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 999
scale = .65,.65
angle = 0
ownpal = 1
remappal = 3,0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[State 8001]
type = null;Explod
trigger1 = AnimElemTime(5) = 0
anim = 70050
id = 7005
sprpriority = 3
pos = -14,-100
postype = p1

[State 810, Hurt 11]
type = null;TargetLifeAdd
Trigger1 = NumTarget <= 1
trigger1 = animelemtime(5) = 0
trigger1 = !target,Ishelper
value = -ifelse(ceil(0.333 * (target,lifemax))<1,1,ceil(0.333 * (target,lifemax)))
absolute = 1	

[State 810, Hurt 11]
type = TargetLifeAdd
Trigger1 = NumTarget > 1
trigger1 = animelemtime(5) = 0
;trigger1 = !target,Ishelper
value = -150
absolute = 1

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(5) = 0
value = 4626

[State 440, 1]
type = EnvShake
trigger1 = AnimElemTime(5) = 0
time = 30
ampl = 6

[State -1, Kung Fu Throw]
type = ChangeState
trigger1 = time >=133
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 气化冷冻法派生 气化完了后 相手
[Statedef 4625]
type    = A
movetype= H
physics = N
;anim = 4625
velset = 0,0
sprpriority = 1
facep2 = 1
;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 170, 1]
type = DefenceMulSet
trigger1 = 1
value = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 5201, 3]
type = PosAdd
trigger1 = time >= 0
trigger1 = time%2 = 1
x = 1

[State 5201, 3]
type = PosAdd
trigger1 = time >= 0
trigger1 = time%2 = 0
x = -1

[State 170, 1]
type = ChangeAnim
trigger1 = 1
value = 5000
elem = 1

[State 2200, 2]
type = PalFX
trigger1 = time = 0
time = 38
add = 128,128,228
invertall = 1

;[State -1, Kung Fu Throw]
;type = ChangeState
;trigger1 = time = 38
;value = 4626

;---------------------------------------------------------------------------
; 气化冷冻法派生 粉碎 相手
[Statedef 4626]
type    = A
movetype= H
physics = N
velset = 0, 0
facep2 = 1
[State 0, TargetLifeAdd]
type = LifeAdd
trigger1 = !time
value = -(lifemax*0.11)
kill = 1
ignorehitpause = 1



;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 1027, No scroll]
type = ScreenBound
trigger1 = time < 30
value = 1
movecamera = 0,0
[State -2, 1]
type = PalFX
trigger1 = 1
time = 1
add = 128,128,228
invertall = 1
[State 170, 1]
type = DefenceMulSet
trigger1 = 1
value = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5201, 3]
type = PosAdd
trigger1 = time < 30
trigger1 = time%2 = 1
x = 9

[State 5201, 3]
type = PosAdd
trigger1 = time < 30
trigger1 = time%2 = 0
x = -9

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 30
y = -15

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 30
x = -2

[State 1028, Gravity]
type = VelAdd
trigger1 = time >= 30
y = .33

[State 1028, Anim 5050] 
type = ChangeAnim
trigger1 = Time >= 0 && Time < 30
trigger1 = !SelfAnimExist(5052)
value = 5050
elem = 1

[State 1028, Anim 5052] 
type = ChangeAnim
trigger1 = Time >= 0 && Time < 30
trigger1 = SelfAnimExist(5052)
value = 5052
elem = 1

[State 1028, Anim 5050] 
type = ChangeAnim
trigger1 = Time = 30
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] 
type = ChangeAnim
trigger1 = Time = 30
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] 
type = ChangeAnim
trigger1 = time = 30
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] 
type = ChangeAnim
trigger1 = time = 30
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;ＫＯしたとき
;[State -1, Kung Fu Throw]
;type = AssertSpecial
;trigger1 = 1
;flag = nokosnd

;[State -1, Kung Fu Throw]
;type = AssertSpecial
;trigger1 = Time >= 30
;trigger1 = alive = 0
;trigger1 = matchover
;flag = invisible

;[State 1027, No scroll]
;type = ScreenBound
;trigger1 = Time >= 30
;trigger1 = alive = 0
;trigger1 = matchover
;value = 1
;movecamera = 0,0

;[State 5201, 3]
;type = PosSet
;trigger1 = Time >= 30
;trigger1 = alive = 0
;trigger1 = (Vel y > 0) && (Pos y >= 0)
;trigger1 = matchover
;y = 9999

;[State 5201, 3]
;type = PosAdd
;trigger1 = Time >= 30
;trigger1 = alive = 0
;trigger1 = (Vel y > 0) && (Pos y >= 0)
;trigger1 = matchover
;x = -54

;[State 5201, 3]
;type = PlayerPush
;trigger1 = Time >= 30
;trigger1 = alive = 0
;trigger1 = matchover
;value = 0

;---------------------------------------------------------------------------
; 气化冷冻法 相手2
[Statedef 4611]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 903, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 5000

[State -2, 1]
type = PalFX
trigger1 = time >= 30
time = 1
add = 100,91,205
invertall = 1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

;---------------------------------------------------------------------------
; 气化冷冻法 相手3
[Statedef 4612]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1



;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 903, Anim]
type = ChangeAnim
trigger1 = 1
value = ifelse(alive,5000,5030)

[State 903, Anim]
type = null;ChangeAnim
trigger1 = 1
value = anim

[State -2, 1]
type = PalFX
trigger1 = 1
time = 1
add = 100,91,205
invertall = 1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 903, Vel]
type = VelAdd
trigger1 = 1
y = .3

[State 903, 2]
type = SelfState
trigger1 = time >=60
value = 5000

[State 903, 2]
type = null;SelfState
trigger1 = time >=120
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = !alive
value = 5050

[State 0, PosSet]
type = PosSet
trigger1 = pos y >=0
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >=0
x = 0
y = 0
ignorehitpause = 1



[State 903, 2]
type = null;ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 4613

;---------------------------------------------------------------------------
; 气化冷冻法 相手4
[Statedef 4613]
type    = S
movetype = H
physics = S
velset = 0,0
sprpriority = -1
anim = 5000

;注销helper
[State 0]
type = DestroySelf
trigger1 = ishelper

[State 220, Position]
type = PosSet
trigger1 = Time >= 0
y = 0

[State -2, 1]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 903, Anim]
type = ChangeAnim
trigger1 = 1
value = anim

[State -2, 1]
type = PalFX
trigger1 = 1
time = 1
add = 100,91,205
invertall = 1

[State 903, 2]
type = SelfState
trigger1 = time = 25
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;无敌3---------------------------------------------------------------------------
[statedef 14524]
type      =S
movetype  =I
physics   =N
juggle    =0
velset    =0,0
ctrl      =0
poweradd  =0
sprpriority= -1

[State ];无框动画
Type = ChangeAnim
Trigger1 = 1
Value = 9999
IgnoreHitPause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 999

;注销
[State 0]
type = DestroySelf
trigger1 = time = 5

;---------------------------------------------------------------------------
;ス`パ`コンボk鹰ē榨Дト
[Statedef 8000]
ctrl = 0
anim = 9999

[State 8000, Explod-1]
type = Explod
trigger1 = time = 0
Anim = 80000
pos = 0,0
postype = P1
ownpal = 1
ontop = 1
scale = const(size.xscale),const(size.yscale)
pausemovetime = 30
supermovetime = 30

[State 8000, Explod-2]
type = Explod
trigger1 = time = 0
Anim = 8700
pos = 0,0
postype = Left
ownpal = 1
bindtime = -1
removetime = 30
scale = .84,1.08
sprpriority = -105
pausemovetime = 30
supermovetime = 30

[State 8000, Explod-3]
type = Explod
trigger1 = time = 7
Anim = 7900
id = 7900
pos = -30,380
postype = back
ownpal = 1
bindtime = -1
removetime = 23
sprpriority = -90
pausemovetime = 23
supermovetime = 23

[State 8000, ModifyExplod-3]
type = ModifyExplod
trigger1 = Numexplod(7900)
Id = 7900
postype = back
pos = ceil(-20+((random%16)*ifelse((time%6=[1,3]),-1,1))),ceil(170+((random%16)*ifelse((time%6=[1,3]),-1,1)))
scale = ifelse(time>=22,2,.2+((time-6)*.125))*.833,ifelse(time>=22,2,.2+((time-6)*.125))*1.07

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = time <= 29
flag = NoFG
flag2 = NoBG

[State 8000, DestroySelf]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;===============================================================================
; Stand defesa - Helper
[Statedef 170122]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1701
sprpriority = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1702
ignorehitpause = 1
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 2
pos = -10,-5
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time > 8
triggerall = anim = 1701
trigger1 = root,var(52) != gametime
value = anim
elem = animelemno(-1)
ignorehitpause = 1

[State 0, PlaySnd]
type = null;PlaySnd
triggerall = root,stateno != [1901,1905]
trigger1 = time = 0
value = S1,18
volume = 50

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = root, stateno = [0,105]
trigger2 = root,stateno = 195
trigger3 = root,stateno = 196
value = S1,180
volume = 50

[State 200, 0]
type = destroyself
triggerall = root,stateno != 195
triggerall = root,stateno != 196
trigger1 = root, stateno != [0,12]
trigger2 = numexplod(1702)= 1

;-------------------------------------------------------------------------------

[statedef 99006]
type = u
movetype = i
physics = n
velset = 0, 0
ctrl = 0
anim = 6

[state 0]
type = nothitby
trigger1 = stateno = stateno
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
ignorehitpause = 1
[state 0]
type = assertspecial
trigger1 = stateno = stateno
flag = noshadow
ignorehitpause = 1
[state 0]
type = null
trigger1 = fvar(0) := 0 + (time * (0.125 / 10))
ignorehitpause = 1
[state 0]
type = bindtoroot
trigger1 = stateno = stateno
ignorehitpause = 1
[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1
[state 0]
type = changeanim
trigger1 =  selfanimexist(root, anim)
value = root, anim
elem = root, animelemno(0)
ignorehitpause = 1
[state 0]
type = angleset
trigger1 = root, anim = 41 || root, anim = 44
trigger1 = root, vel x > 0
value = -5
ignorehitpause = 1
[state 0]
type = angleset
trigger1 = root, anim = 5040
trigger1 = root, animelemtime(2) < 0
value = 0 + ((root, time -1) * (270/10))
ignorehitpause = 1
[state 0]
type = angleset
trigger1 = root, anim != 41 && root, anim != 44 &&  root, vel x = 0
trigger1 = root, anim != 5040 || (root, anim = 5040 && root, animelemtime(2) >= 0)
value = 0
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = root, anim = 0
scale = (1.0 + fvar(0)) , (1.0 + fvar(0)) + (sin((root, time/ 60.0) * (pi / 2)) * 0.0125)
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = root, anim = 20
trigger1 = root, command = "holdback"
scale = -(1.0 + fvar(0)) , (1.0 + fvar(0))
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = root, anim = 20
trigger1 = root, command = "holdfwd"
scale = (1.0 + fvar(0)) , (1.0 + fvar(0))
ignorehitpause = 1
[state 0]
type = angledraw
trigger1 = root, anim != 0 && root, anim != 20
scale = (1.0 + fvar(0)) , (1.0 + fvar(0))
ignorehitpause = 1

[state 0]
type = trans
trigger1 = stateno = stateno
trans = addalpha
alpha = 256 - ceil(time * (256/10)), 256
ignorehitpause = 1 

[state 0]
type = palfx
trigger1 = !time
time = -1
add = (floor(root, fvar(35)) * 2), (floor(root, fvar(36)) * 2), (floor(root, fvar(37)) * 2)
mul = (floor(root, fvar(35)) * 2), (floor(root, fvar(36)) * 2), (floor(root, fvar(37)) * 2)
ignorehitpause = 1

[state 0]
type = sprpriority
trigger1 = root, stateno = 0
trigger2 = root, stateno = [10, 12]
trigger3 = root, stateno = 20
trigger4 = root, stateno = 45
trigger5 = root, stateno = 50
trigger6 = root, stateno = 51
trigger7 = root, stateno = 52
trigger8 = root, stateno = [120, 155]
trigger9 = root, stateno = [5000, 5403]
value = 0
ignorehitpause = 1

[state 0]
type = sprpriority
trigger1 = root, stateno = 40
value = 1
ignorehitpause = 1

[state 0]
type = sprpriority
trigger1 = root, stateno != 0
trigger1 = root, stateno != [10, 12]
trigger1 = root, stateno != 20
trigger1 = root, stateno != 40
trigger1 = root, stateno != 45
trigger1 = root, stateno != 50
trigger1 = root, stateno != 51
trigger1 = root, stateno != 52
trigger1 = root, stateno != [120, 155]
trigger1 = root, stateno != [5000, 5403]
value = 2
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time = 10
trigger2 = !selfanimexist(root, anim) 
trigger3 = root, movetype = h && ((root, stateno != [150, 155]) && (root, stateno != [5000, 5210]))
ignorehitpause = 1


[statedef 99005]
type = u
movetype = A
physics = n
ctrl = 0
anim = 99005
sprpriority = 10

[state 0]
type = remappal
trigger1 = var(23) = 2
source = 3, 0
dest = 3, 3

[state 0]
type = remappal
trigger1 = var(23) != 2
source = 3, 0
dest = 3, (root, var(53))

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + time * .1, 1 + time * .1

[state 0]
type = envshake
trigger1 = time = 0
time = 80
ampl = -2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2
[state 0]
type = playsnd
trigger1 = time = 0
value = s9600, 2

[state 0]
type = varset
trigger1 = time = 0
v = 13
value = 150

[state 0]
type = varadd
trigger1 = time >= 20
v = 13
value = 9

[state 0]
type = allpalfx
trigger1 = time > 0
time = 3
color = var(13)

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[state 0]
type = hitdef
affectteam = E
triggerall = (!movecontact) && (!movereversed)
trigger1 = 1
attr = s, np
hitflag = mafde
animtype = medium
damage = 75
guardflag = ma
pausetime = 0, 170
sparkno = -1
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 12
ground.hittime = 20
ground.velocity = 0
air.velocity = 0,0
fall = 0
envshake.time = 20

[state 0]
type = destroyself
trigger1 = animtime = 0



;-------------------------------------------------------------------------------
; Helper Knife
[Statedef 1352]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2175
sprpriority = 3

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 200, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 2174
ID = 2174
postype = P1
pos = 0,0
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1,20
volume = 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = medium
damage    = 160,80
guardflag = MA
Hitflag = MAFDE
pausetime = 5,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-5
hitsound   = S1,23
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = -4,-5
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3
envshake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7001
postype = P2
pos = 20-random%10,-5-random%50
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360
[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7002) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7002
postype = P2
pos = 20-random%30,-5-random%50
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360
[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7003) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7003
postype = P2
pos = 20-random%30,-5-random%50
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360
[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7004) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7004
postype = P2
pos = 20-random%20,-5-random%50
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360
[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7005) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7005
postype = P2
pos = 10-random%20,-5-random%50
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360
[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7006) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7006
postype = P2
pos = 20-random%20,-5-random%50
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
angle = 0+random%360

[State 200, End]
type = ChangeState
trigger1 = movecontact
trigger2 = animtime = 0
value = 1351

;-------------------------------------------------------------------------------
; Helper Knife - Noroi Noroi
[Statedef 1351]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = 1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10
[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = 1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10
[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = 1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10
[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = -1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10
[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = -1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10
[State 0, 110]
type = Helper
trigger1 = time = 0
helpertype = normal
name = ""
ID = 451
stateno = 451
facing = -1
pos = -15+random%30,-5-random%50
postype = p2
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
supermovetime 	= 10



[State 200, End]
type = destroyself
trigger1 = time = 5