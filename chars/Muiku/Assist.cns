
;===============================================================================
; ASSIST SYSTEM:
;-------------------------------------------------------------------------------
[Statedef 4000]
type    = A
movetype= I
physics = N
anim = 9999
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

;---------------------------------- Var System

[State 0, Game Start]
type = VarSet
trigger1 = !time 
v = 55
value = cond(roundstate=2,cond(roundno = 1,100,20),255)
ignorehitpause = 1
[State 0, Game Start]
type = VarSet
trigger1 = roundstate = 2
v = 55
value = cond(roundno = 1,100,20)
ignorehitpause = 1
persistent = 0

[State 0, Assist Ready]
type = VarSet
trigger1 = var(55) >= 255
v = 55   
value = 256
[State 0, Assist Cooldown]
type = VarAdd
triggerall = !numhelper(4100) 
triggerall = time
triggerall = timemod = 1,0;3,0
trigger1 = var(55) = [0,255]
v = 55   
value = 1;1

[State 0, Summon PLAYER Normal]
type = VarSet
;triggerall = root,pos y > -1000;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel = 0
trigger1 = root,command = "x"
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA VegetaB Normal]
type = VarSet
triggerall = var(58) = 1
triggerall = root,pos y = [-400,-50];root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 620 && root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&& root,movehit)
trigger1= random < ((root,ailevel*600) +enemy, gethitvar(hitcount)*100);/(8-cond((root,stateno = 1801&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA MGohan Normal]
type = VarSet
triggerall = var(58) = 2
triggerall = root,pos y > -400;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 310&& root,movehit)||(root,stateno = 620&& root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&& root,movehit)
trigger1= random < ((root,ailevel*500) +enemy, gethitvar(hitcount)*100);/(8-cond((root,stateno = 1310&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA A17 Normal]
type = VarSet
triggerall = var(58) = 3
triggerall = root,pos y > -500;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
;trigger1 = (root,stateno = 620&& movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& movehit)||(root,stateno = 1801&& movehit)
trigger1= random < ((root,ailevel*400) +enemy, gethitvar(hitcount)*100);/(7-cond((root,stateno = 1801&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
trigger2 = p2stateno = [1000,1900] 
trigger2 = p2bodydist x < 70 || (enemy,numproj > 0) 
trigger2 = random < (root,ailevel * 200)
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA GFrieza Normal]
type = VarSet
triggerall = var(58) = 4
triggerall = root,pos y = [-400,-50];root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 100
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 620&& root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&& root,movehit)
trigger1= random < ((root,ailevel*600) +enemy, gethitvar(hitcount)*100);/(8-cond((root,stateno = 1801&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA Kuririn Normal]
type = VarSet
triggerall = var(58) = 5
triggerall = root,pos y = [-400,-50];root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 620&& root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&& root,movehit)
trigger1= random < ((root,ailevel*600) +enemy, gethitvar(hitcount)*100);/(7-cond((root,stateno = 1310&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA A18 Normal]
type = VarSet
triggerall = var(58) = 6
triggerall = root,pos y > -200;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 100
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 620&& root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&&root, movehit)
trigger1= random < ((root,ailevel*500) +enemy, gethitvar(hitcount)*100);/(10-cond((root,stateno = 1310&&root,movehit),8,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA Piccolo Normal]
type = VarSet
triggerall = var(58) = 7
triggerall = root,pos y = [-400,-50];root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 620&& root,movehit)||(stateno = 920 && animelemtime(4)>0)||(root,stateno = 1310&& root,movehit)||(root,stateno = 1801&& root,movehit)
trigger1= random < ((root,ailevel*500) +enemy, gethitvar(hitcount)*100);/(8-cond((root,stateno = 1801&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA Tien Normal]
type = VarSet
triggerall = var(58) = 8
triggerall = root,pos y > -300;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 100
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = !(root,stateno = 620)||!(stateno = 920 && animelemtime(4)>0)||!(root,stateno = 1310)||!(root,stateno = 1801)
trigger1= random < ((root,ailevel*400) +enemy, gethitvar(hitcount)*100);/(10-cond((root,stateno = 220&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1

[State 0, Summon IA GogetaB Normal]
type = VarSet
triggerall = var(58) = 9
triggerall = root,pos y > -600;root,statetype != A
triggerall = root,movetype != H ;|| root,stateno != [120,155]
triggerall = root,var(25) = 0
triggerall = gametime > 200
triggerall = roundstate = 2
triggerall = var(55) > 255
triggerall = root,ailevel > 0
trigger1 = (root,stateno = 650&& root,movehit)||(root,stateno = 651&& root,movehit)||(root,stateno = 1800&& root,movehit)
trigger1= random < ((root,ailevel*500) +enemy, gethitvar(hitcount)*100);/(7-cond((root,stateno = 651&&root,movehit),6,0))
trigger1= root,p2bodydist x = [0,205]
trigger1= enemynear,statetype != L
trigger1= enemynear,vel x > -.7
trigger1= enemynear,vel y > -1
v = 55   
value = -1
ignorehitpause = 1
;IA

;--------------------------------- Var System 

;--------------------------- HUD

;VegetaB
[State 0, Character Portrait BG 1 VegetaB]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4110)
anim = 4010
ID = 4110
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life < root,lifemax/2)
id = 4110
ignorehitpause = 1
[State 0, Character Portrait BG 2 VegetaB]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4115)
anim = 4015
ID = 4115
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life < root,lifemax/2)
id = 4115
ignorehitpause = 1
[State 0, Character Portrait VegetaB]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4130)
anim = 4130
ID = 4130
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life < root,lifemax/2)
id = 4130
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 1
trigger1 = 1
ID = 4130
trans = addalpha
alpha = var(55),0

[State 0, Character Portrait BG 1 VegetaE]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4111)
anim = 4010
ID = 4111
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life > root,lifemax/2)
id = 4111
ignorehitpause = 1
[State 0, Character Portrait BG 2 VegetaB]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4116)
anim = 4015
ID = 4116
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life > root,lifemax/2)
id = 4116
ignorehitpause = 1
[State 0, Character Portrait VegetaB]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = !numexplod(4131)
anim = 4130
ID = 4131
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 2,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 1
trigger2 = (root,life > root,lifemax/2)
id = 4131
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 1
trigger1 = 1
ID = 4131
trans = addalpha
alpha = var(55),0
;VegetaB

;UGohan
[State 0, Character Portrait BG 1 UGohan]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 2
trigger1 = !numexplod(4210)
anim = 4010
ID = 4210
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,3
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 2
id = 4210
ignorehitpause = 1
[State 0, Character Portrait BG 2 UGohan]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 2
trigger1 = !numexplod(4215)
anim = 4015
ID = 4215
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,4
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 2
trigger2 = (root,life < root,lifemax/2)
id = 4215
ignorehitpause = 1
[State 0, Character Portrait UGohan]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 2
trigger1 = !numexplod(4230)
anim = 4230
ID = 4230
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 2
trigger2 = (root,life < root,lifemax/2)
id = 4230
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 2
trigger1 = 1
ID = 4230
trans = addalpha
alpha = var(55),0

[State 0, Character Portrait BG 2 BGohan]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 2
trigger1 = !numexplod(4216)
anim = 4015
ID = 4216
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,15
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 2
trigger2 = (root,life > root,lifemax/2)
id = 4216
ignorehitpause = 1
[State 0, Character Portrait BGohan]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 2
trigger1 = !numexplod(4231)
anim = 4231
ID = 4231
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 2
trigger2 = (root,life > root,lifemax/2)
id = 4231
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 2
trigger1 = 1
ID = 4231
trans = addalpha
alpha = var(55),0
;UGohan

;A17
[State 0, Character Portrait BG 1 A17]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 3
trigger1 = !numexplod(4310)
anim = 4010
ID = 4310
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,6
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 3
id = 4310
ignorehitpause = 1
[State 0, Character Portrait BG 2 A17]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 3
trigger1 = !numexplod(4315)
anim = 4015
ID = 4315
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,7
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 3
id = 4315
ignorehitpause = 1
[State 0, Character Portrait A17]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 3
trigger1 = !numexplod(4330)
anim = 4330
ID = 4330
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9997
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 3
id = 4330
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 3
trigger1 = 1
ID = 4330
trans = addalpha
alpha = var(55),0
;A17

;GFrieza
[State 0, Character Portrait BG 1 GFrieza]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4410)
anim = 4010
ID = 4410
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,9
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life < root,lifemax/2)
id = 4410
ignorehitpause = 1
[State 0, Character Portrait BG 2 GFrieza]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4415)
anim = 4015
ID = 4415
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,8
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life < root,lifemax/2)
id = 4415
ignorehitpause = 1
[State 0, Character Portrait GFrieza]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4430)
anim = 4430
ID = 4430
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life < root,lifemax/2)
id = 4430
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 4
trigger1 = 1
ID = 4430
trans = addalpha
alpha = var(55),0

[State 0, Character Portrait BG 1 BFrieza]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4411)
anim = 4010
ID = 4411
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,10
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life > root,lifemax/2)
id = 4411
ignorehitpause = 1
[State 0, Character Portrait BG 2 BFrieza]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4416)
anim = 4015
ID = 4416
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,11
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life > root,lifemax/2)
id = 4416
ignorehitpause = 1
[State 0, Character Portrait BFrieza]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = !numexplod(4431)
anim = 4430
ID = 4431
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 2,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 4
trigger2 = (root,life > root,lifemax/2)
id = 4431
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 4
trigger1 = 1
ID = 4431
trans = addalpha
alpha = var(55),0
;GFrieza

;Kuririn
[State 0, Character Portrait BG 1 KURIRIN]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 5
trigger1 = !numexplod(4510)
anim = 4010
ID = 4510
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,3
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 5
id = 4510
ignorehitpause = 1
[State 0, Character Portrait BG 2 KURIRIN]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 5
trigger1 = !numexplod(4515)
anim = 4015
ID = 4515
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,4
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 5
id = 4515
ignorehitpause = 1
[State 0, Character Portrait KURIRIN]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 5
trigger1 = !numexplod(4530)
anim = 4530
ID = 4530
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9997
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 5
id = 4530
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 5
trigger1 = 1
ID = 4530
trans = addalpha
alpha = var(55),0
;Kuririn

;A18
[State 0, Character Portrait BG 1 A18]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 6
trigger1 = !numexplod(4610)
anim = 4010
ID = 4610
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,13
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 6
id = 4610
ignorehitpause = 1
[State 0, Character Portrait BG 2 A18]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 6
trigger1 = !numexplod(4615)
anim = 4015
ID = 4615
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,12
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 6
id = 4615
ignorehitpause = 1
[State 0, Character Portrait A18]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 6
trigger1 = !numexplod(4630)
anim = 4630
ID = 4630
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9997
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 6
id = 4630
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 6
trigger1 = 1
ID = 4630
trans = addalpha
alpha = var(55),0
;A18

;Piccolo
[State 0, Character Portrait BG 1 PICCOLO]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 7
trigger1 = !numexplod(4710)
anim = 4010
ID = 4710
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,11
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 7
id = 4710
ignorehitpause = 1
[State 0, Character Portrait BG 2 PICCOLO]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 7
trigger1 = !numexplod(4715)
anim = 4015
ID = 4715
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,6
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 7
trigger2 = (root,life < root,lifemax/2)
id = 4715
ignorehitpause = 1
[State 0, Character Portrait PICCOLO]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 7
trigger1 = !numexplod(4730)
anim = 4730
ID = 4730
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 7
trigger2 = (root,life < root,lifemax/2)
id = 4730
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 7
triggerall = (root,life > root,lifemax/2)
trigger1 = 1
ID = 4730
trans = addalpha
alpha = var(55),0

[State 0, Character Portrait BG 2 PICCOLO]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 7
trigger1 = !numexplod(4716)
anim = 4015
ID = 4716
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,17
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 7
trigger2 = (root,life > root,lifemax/2)
id = 4716
ignorehitpause = 1
[State 0, Character Portrait PICCOLO]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 7
trigger1 = !numexplod(4731)
anim = 4730
ID = 4731
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 2,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 7
trigger2 = (root,life > root,lifemax/2)
id = 4731
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 7
triggerall = (root,life < root,lifemax/2)
trigger1 = 1
ID = 4731
trans = addalpha
alpha = var(55),0
;Piccolo

;Tien
[State 0, Character Portrait BG 1 Tien]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 8
trigger1 = !numexplod(4810)
anim = 4010
ID = 4810
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,13
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 8
id = 4810
ignorehitpause = 1
[State 0, Character Portrait BG 2 Tien]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 8
trigger1 = !numexplod(4815)
anim = 4015
ID = 4815
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,16
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 8
id = 4815
ignorehitpause = 1
[State 0, Character Portrait Tien]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 8
trigger1 = !numexplod(4830)
anim = 4840
ID = 4830
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9997
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 8
id = 4830
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = var(58) = 8
trigger1 = 1
ID = 4830
trans = addalpha
alpha = var(55),0
;Tien

;GogetaB
[State 0, Character Portrait BG 1 GOGETAB]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 9
trigger1 = !numexplod(4910)
anim = 4010
ID = 4910
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9999
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,8
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 9
id = 4910
ignorehitpause = 1
[State 0, Character Portrait BG 2 GOGETAB]
type = Explod
triggerall = !root,numhelper(3070)
triggerall = var(58) = 9
trigger1 = !numexplod(4915)
anim = 4015
ID = 4915
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9998
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 20,14
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 9
id = 4915
ignorehitpause = 1

[State 0, Character Portrait GogetaB]
type = Explod
triggerall = (root,life > root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 9
trigger1 = !numexplod(4930)
anim = 4930
ID = 4930
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 9
trigger2 = (root,life < root,lifemax/2)
id = 4930
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life > root,lifemax/2)
triggerall = var(58) = 9
trigger1 = 1
ID = 4930
trans = addalpha
alpha = var(55),0
[State 0, Character Portrait GogetaBE]
type = Explod
triggerall = (root,life < root,lifemax/2)
triggerall = !root,numhelper(3070)
triggerall = var(58) = 9
trigger1 = !numexplod(4931)
anim = 4930
ID = 4931
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9897
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 2,2
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(58) != 9
trigger2 = (root,life > root,lifemax/2)
id = 4931
ignorehitpause = 1
[State 0, ModifyExplod]
type = ModifyExplod
triggerall = (root,life < root,lifemax/2)
triggerall = var(58) = 9
trigger1 = 1
ID = 4931
trans = addalpha
alpha = var(55),0
;GogetaB

;----Actions
[State 0, Character Portrait ASSIST READY]
type = Explod
triggerall = !numexplod(4011)
triggerall = !root,numhelper(3070)
trigger1 = var(55) = 255 && roundstate = 2
trigger2 = !root,alive
trigger3 = root,stateno = 170
;trigger4 = !time 
anim = 4011
ID = 4011
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .16,.16
postype = back
facing = 1
bindtime = -1
removetime = -2
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9996
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 0,33
[State 0, Character Portrait PRESS]
type = Explod
triggerall = !root,numhelper(3070)
trigger1 = var(55) = -1
anim = 4016
ID = 4016
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .22,.22
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9996
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 0,33
[State 0, Character Portrait FIN]
type = Explod
triggerall = !numexplod(4030)
triggerall = !root,numhelper(3070)
trigger1 = !root,alive 
trigger2 = root,stateno = 170 
;trigger3 = !time
anim = 4030
ID = 4030
pos= 17,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,(root,var(27)+32),(root,var(27)-3))))
scale= .21,.21
postype = back
facing = 1
bindtime = -1
removetime = -2
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -9995
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 0,33

[State 0, Character Portrait RUEDA]
type = Explod
triggerall = !numexplod(4012)
triggerall = !root,numhelper(3070)
triggerall = root,alive
triggerall = root,stateno != 170
triggerall = root,stateno != 181
trigger1 = root,var(26) = 1 && time>0
anim = 4012
ID = 4012
pos= 20,Floor((1.33*GameHeight/GameWidth)*Cond(teammode = turns,root,var(27),Cond((root,numexplod(69) = 1) ,root,var(27)+35,root,var(27))))
scale= .7,.7
postype = back
facing = 1
bindtime = -1
removetime = -1
vel = 0,0
accel = 0,0
pausemovetime = 9999
supermovetime = 9999
sprpriority = -8996
ontop = 1
ownpal = 1
removeongethit = 0
remappal = 0,33
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(26)!=1
id = 4012
ignorehitpause = 1
;----Actions

;----Sound
[State 0, Call VegetaB]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 1
trigger1 = var(55) = -1
value = S601,8
volumescale = 100
[State 0, Call MGohan]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 2
trigger1 = var(55) = -1
value = S601,4
volumescale = 100
[State 0, Call A17]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 3
trigger1 = var(55) = -1
value = S601,1
volumescale = 100
[State 0, Call GFrieza]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 4
trigger1 = var(55) = -1
value = S601,3
volumescale = 100
[State 0, Call Kuririn]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 5
trigger1 = var(55) = -1
value = S601,5
volumescale = 100
[State 0, Call Juuhachigo]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 6
trigger1 = var(55) = -1
value = S601,2
volumescale = 100
[State 0, Call Piccolo]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 7
trigger1 = var(55) = -1
value = S601,6
volumescale = 100
[State 0, Call Tien]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
triggerall = var(58) = 8
trigger1 = var(55) = -1
value = S601,7
volumescale = 100

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
trigger1 = var(55) = -1
value = S5,9
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
trigger1 = var(55) = 255 && roundstate = 2
;trigger2 = !time
value = S5,10
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno != [3000,3006]
triggerall = !root,numhelper(3070)
trigger1 = !root,alive
trigger2 = root,stateno = 170
value = S6,1
volumescale = 999
persistent = 10
;----Sound

;----------------------------- HUD

;--------------------------------- Helpers
[State 0, VegetaB Helper]
type = Helper
triggerall = var(58) = 1
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "VegetaB"
ID = 4100
stateno = cond(var(57) = 1,4115,4100)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, UGohan Helper]
type = Helper
triggerall = var(58) = 2
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "UGohan"
ID = 4100
stateno = cond(var(57) = 1,4215,4200)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, A17 Helper]
type = Helper
triggerall = var(58) = 3
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "A17"
ID = 4100
stateno = cond(var(57) = 1,4315,4300)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, GFrieza Helper]
type = Helper
triggerall = var(58) = 4
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "GFrieza"
ID = 4100
stateno = cond(var(57) = 1,4415,4400)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, Kuririn Helper]
type = Helper
triggerall = var(58) = 5
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "Kuririn"
ID = 4100
stateno = cond(var(57) = 1,4515,4500)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, A18 Helper]
type = Helper
triggerall = var(58) = 6
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "A18"
ID = 4100
stateno = cond(var(57) = 1,4615,4600)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, Piccolo Helper]
type = Helper
triggerall = var(58) = 7
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "Piccolo"
ID = 4100
stateno = cond(var(57) = 1,4715,4700)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, Tien Helper]
type = Helper
triggerall = var(58) = 8
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "Tien"
ID = 4100
stateno = cond(var(57) = 1,4815,4800)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),cond(var(57)=1,topedge,-50)
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)

[State 0, GogetaB Helper]
type = Helper
triggerall = var(58) = 9
triggerall = !numhelper(4100)
trigger1 = var(55) = -1
helpertype = normal
name = "GogetaB"
ID = 4100
stateno = cond(var(57) = 1,4915,4900)
pos = cond(teamside = 1,cond(root,facing = 1,-backedgebodydist -40,backedgebodydist+40),cond(root,facing = 1,backedgebodydist +40,-backedgebodydist-40)),rootdist y-60
postype = p1  
facing = cond(teamside = 1,cond(root,facing = 1,1,-1),cond(root,facing = 1,-1,1))
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1*parent,const(size.xscale)
size.yscale = 1*parent,const(size.xscale)
;---------------------------------- Helpers

;-Character Selection
[State 0, VegetaB]
type = VarSet
trigger1 = root,var(26) = 2
v = 58   
value = 1
ignorehitpause = 1
[State 0, UGohan]
type = VarSet
trigger1 = root,var(26) = 3
v = 58   
value = 2
ignorehitpause = 1
[State 0, A17]
type = VarSet
trigger1 = root,var(26) = 4
v = 58   
value = 3
ignorehitpause = 1
[State 0, Frieza]
type = VarSet
trigger1 = root,var(26) = 5
v = 58   
value = 4
ignorehitpause = 1
[State 0, Kuririn]
type = VarSet
trigger1 = root,var(26) = 6
v = 58   
value = 5
ignorehitpause = 1
[State 0, A18]
type = VarSet
trigger1 = root,var(26) = 7
v = 58   
value = 6
ignorehitpause = 1
[State 0, Piccolo]
type = VarSet
trigger1 = root,var(26) = 8
v = 58   
value = 7
ignorehitpause = 1
[State 0, TienShinHan]
type = VarSet
trigger1 = root,var(26) = 9
v = 58   
value = 8
ignorehitpause = 1
[State 0, GogetaB]
type = VarSet
trigger1 = root,var(26) = 10
v = 58   
value = 9
ignorehitpause = 1
[State 0, ALL Start]
type = VarSet
trigger1 = root,var(26) = 1 && !time
trigger2 = (root,var(26) = 1) && (root,stateno = [190,191]) && (var(58)!=1)
v = 58  
value = 1
ignorehitpause = 1
[State 0, ALL Rotation]
type = VarAdd
triggerall = root,var(26) = 1 && var(58) < 10
trigger1 = var(55) = -1
v = 58
value = 1;cond(var(58) = 1,1,cond(var(58) = 5,-4,1))
[State 0, ALL Rotation]
type = VarAdd
triggerall = root,var(26) = 1 && var(58) > 9
trigger1 = var(55) = -1
v = 58
value = -9;cond(var(58) = 1,1,cond(var(58) = 5,-4,1))
;-Character Selection

;----- self destruct
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4930
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4910
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4915
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4931
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4830
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4810
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4815
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4731
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4716
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4730
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4710
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4715
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4630
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4610
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4615
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4530
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4510
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4515
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4430
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4410
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4415
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4431
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4411
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4416
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4330
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4310
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4315
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4230
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4231
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4210
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4215
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4216
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4130
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4110
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4115
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4131
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4111
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4116
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = root,stateno = 181
trigger2 = root,stateno = 170
trigger3 = root,stateno = [3001,3099]
trigger4 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4030
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4016
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,stateno = [3001,3099]
trigger5 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4012
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = (root,stateno != [120,155])
trigger1 = root,stateno = 181
trigger2 = root,stateno = 170
trigger3 = root,stateno = [3001,3099]
trigger4 = root,movetype = H && (root,stateno != [5000,5150]) && enemynear,hitdefattr=SCA,HA,HP,HT
id = 4011
ignorehitpause = 1
;----- self destruct

[State 0, NoHit]
type = VarSet
trigger1 = !numhelper(4100)
v = 5    
value = 0
ignorehitpause = 1

[State 200, End]
type = Destroyself
triggerall = !numhelper(4100)
trigger1 = !root,alive
trigger2 = root,stateno = 181
trigger3 = root,stateno = 170
trigger4 = root,var(28) = 0
;-------------------------------------------------------------------------------
; VegetaB Spawn
[Statedef 4100]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4100
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = !time && (root,life < root,lifemax/2)
v = 3  
value = 1
ignorehitpause = 1
[State 0, RemapPal]
type = RemapPal
trigger1 = var(3) = 1
source = 2,1
dest = 2,2
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(28*const(size.xscale)))*.92,2+(rootdist x+(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4100, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4105
ctrl = 0
;-------------------------------------------------------------------------------
; VegetaB DESpawn
[Statedef 4101]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4100
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = !numhelper(4110)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; VegetaB Idle
[Statedef 4105]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4105
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4100 && !time
trigger2 = prevstateno = 4115 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4100 && !time
trigger2 = prevstateno = 4115 && !time
value = S52,1
volume = 50

[State 4105, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4101
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4120
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4120
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4120
trigger2 = prevstateno = 4115
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4100 && !time
trigger2 = prevstateno = 4110 && !time
trigger3 = prevstateno = 4115 && !time
value = 4101
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4101 && animtime = 0
value = 4105
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4100 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4105, Attack]
type = ChangeState
trigger1 = prevstateno = 4100 && anim != 4101 
value = 4110
ctrl = 0
[State 4105, Despawn]
type = ChangeState
trigger1 = prevstateno = 4110 && time = 40
trigger2 = prevstateno = 4120 && time = 30
trigger3 = prevstateno = 4115 && time = 35
value = 4101
ctrl = 0
;-------------------------------------------------------------------------------
; Big Bang Attack
[Statedef 4110]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 1,0
ctrl = 0
anim = 4110
poweradd = 0
sprpriority = 3

[State 0, Aura]
type = Explod
trigger1 = animelem = 4
anim = 550
ID = 4550
pos = -2*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .35*const(size.xscale),.4*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
trans = addalpha 
alpha = 80,255
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = animelem = 4
anim = 550
ID = 4550
pos = -2*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .35*const(size.xscale),.4*const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
trans = addalpha 
alpha = 175,255
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = animelem = 4
anim = 550
ID = 4550
pos = -2*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .35*const(size.xscale),.4*const(size.yscale)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,33
trans = sub

[State 0, Aura]
type = Explod
trigger1 = animelem = 22
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = animelem = 22
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = animelem = 22
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
trans = sub
remappal = 0,33
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  animelem = 22
id = 4550
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,4
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4105, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4101
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4120
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4110, Despawn]
type = ChangeState
trigger1 = root,movetype = H
value = 4101
ctrl = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7016
ID = 7016
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .19*const(size.xscale),.2*const(size.yscale)
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = -2
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 0
y = 0
[State 0, Gravity]
type = Gravity
trigger1 = animelemtime(22)>0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S600,1
volumescale = 70

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "BigBang"
ID = 4111
stateno = 4111
pos = 37*const(size.xscale),-35*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem= 15||animelem = 16
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = var(3)= 0
trigger1 = !movecontact
trigger2 = var(3)= 1
trigger2 = hitcount <2
persistent = 5
attr = S,NP        
hitflag = MAF        
guardflag = MA       
animtype = medium     
air.animtype = medium
damage = 5,2
pausetime = 2,5
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S1,18
guardsound = S4,0
ground.type = high
ground.slidetime = 16
ground.hittime = 28
air.hittime = 33
guard.dist = 50
ground.velocity = -3
guard.velocity = -5*const(size.xscale)
air.velocity = (cond(p2bodydist x > 3,.5,-1.5))*const(size.xscale),(cond(p2dist y > -36,-1.2,-.12))*const(size.yscale)
airguard.velocity = -6*const(size.xscale),-4
ground.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -11
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 25
down.bounce = 0
envshake.time = 11
yaccel = .25
priority = 1

[State 0, Helper]
type = Helper
triggerall = var(3) = 0
trigger1 = moveguarded = 1
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 37*const(size.xscale),-35*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .55*const(size.xscale)
size.yscale = .55*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
triggerall = var(3) = 1
trigger1 = moveguarded = 1
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 37*const(size.xscale),-35*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .55*const(size.xscale)
size.yscale = .55*const(size.yscale)
ignorehitpause = 1
persistent = 5

[State 0, Helper]
type = Helper
triggerall = var(3) = 0
trigger1 = movehit = 1
helpertype = normal
name = "sparkpeta"
ID = 020
stateno = 801
pos = 37*const(size.xscale),-35*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .55*const(size.xscale)
size.yscale = .55*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
triggerall = var(3) = 1
trigger1 = movehit = 1
helpertype = normal
name = "sparkpeta"
ID = 020
stateno = 801
pos = 37*const(size.xscale),-35*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .55*const(size.xscale)
size.yscale = .55*const(size.yscale)
ignorehitpause = 1
persistent = 5

[State 0, Explod]
type = Explod
trigger1 = animelem = 15
anim = 411
ID = 4550
pos = 22*const(size.xscale),-36*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .15*const(size.xscale),.18*const(size.yscale)
sprpriority = 4
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
angle = -15
remappal = 20,1+var(3)
[State 0, Explod]
type = Explod
trigger1 = animelem = 15
anim = 411
ID = 4550
pos = 22*const(size.xscale),-36*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .15*const(size.xscale),.18*const(size.yscale)
sprpriority = 0
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
angle = -15
trans = sub

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animelemtime(6)>0 && !numhelper(4111)
value = 4110
elem = 16
ignorehitpause = 1
persistent = 0

[State 4105, Idle]
type = ChangeState
trigger1 = pos y >= 0 && vel y >0 && !animtime
value = 4105
ctrl = 0
;-------------------------------------------------------------------------------
; Big Bang
[Statedef 4111]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4111
poweradd = 0
sprpriority = 2

;Active Damage Scaling
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (cond(var(54) >= 70,.1,1-var(54)*.009))+var(2)*.2
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
triggerall = parent,stateno = 4110
trigger1 = parent,animelemtime(15)<0
time = 1
pos = 37*const(size.xscale),-35*const(size.yscale)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = parent,animelem = 15
x = 12
y = 5
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent,animelem = 15
value = S600,3
volumescale = 70
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 4111
elem = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = !movecontact
trigger1 = vel x >0
anim = 7020
ID = 7020
pos = 5*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .2*const(size.xscale),.25*const(size.yscale)
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle = 90-vel y*3
remappal = 20,1+parent,var(3)

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = vel x >0
attr = A, NP
animtype  = Medium
damage    = 60,10
Hitflag = MAF
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
air.hittime = 35
ground.velocity = -2,-8
air.velocity = -2,-7
envshake.time = 15
Fall = 1
guard.kill = 0
air.fall = 1
fall.recovertime = 24
PalFX.time = 17
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,30
PalFX.invertall = 0
PalFX.color = 256
priority = 1

[State 0, Glow]
type = Explod
trigger1 = !time
anim = 7019
ID = 7019
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .5*const(size.xscale),.04*const(size.yscale)
sprpriority = -6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,1+parent,var(3)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 7019
pos = 0,-pos y
postype = p1  

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4115
ID = 4111
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,1+parent,var(3)
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4115
ID = 4111
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = sub
remappal = 0,33

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 4118
ID = 4111
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = -5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,1+parent,var(3)
[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 4118
ID = 4111
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = -6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = sub
remappal = 0,33

[State 0, Explod]
type = Explod
triggerall = time>6
trigger1 = time%5=0
anim = cond(random<500,560,561)
ID = 4111
pos = (-30+random%60)*const(size.xscale),(-30+random%60)*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = (.1)*const(size.xscale),(.1)*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 20,1+parent,var(3)
angle = random%180

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 10    
value = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
id = 4115
ignorehitpause = 1
[State 0, DestroySelf]
type = DestroySelf
triggerall = vel x >0
trigger1 = frontedgebodydist < -60
ignorehitpause = 1
removeexplods = 1
[State 0, ChangeState]
type = ChangeState
triggerall = vel x >0
trigger1 = movecontact
trigger2 = frontedgedist < -2
trigger3 = pos y >=-9
value = 4112
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
trigger1 = parent,stateno != 4110
value = 4112
ctrl = 0
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4112
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Ki Blast Explosion
[Statedef 4112]
type    = A
movetype= I
physics = N
juggle  = 0
velset = .01,0
ctrl = 0
anim = 4111
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 11
freq = 70
ampl = -6
phase = 105
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 4111
elem = 2
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4111
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 7019
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(10)=0
statetype = A    
movetype = A      
physics = N         
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = var(10)=0
attr = A, NP
animtype  = Medium
damage    = 60,10
Hitflag = MAFD
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
air.hittime = 35
ground.velocity = -2,-7
air.velocity = -2,-8
envshake.time = 15
Fall = 1
guard.kill = 0
air.fall = 1
fall.recovertime = 24
PalFX.time = 17
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,30
PalFX.invertall = 0
PalFX.color = 256
priority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S600,2
volumescale = 70

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4116
ID = 4116
pos = 4*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = cond(random < 500,-1,1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*.8,const(size.yscale)*.8
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%180
remappal = 20,1+parent,var(3)
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 436
ID = 4116
pos = 4*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = cond(random < 500,-1,1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*1.2,const(size.yscale)*1.2
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%180
remappal = 0,40
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 436
ID = 4116
pos = 4*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = cond(random < 500,-1,1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*1.4,const(size.yscale)*1.4
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = sub
angle = 0+random%180
remappal = 0,33

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 3
ignorehitpause = 1
;-------------------------------------------------------------------------------
; VegetaB Damaged
[Statedef 4120]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4120
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, Aura]
type = Explod
trigger1 = numexplod(4550)
persistent = 0
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = numexplod(4550)
persistent = 0
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,1+var(3)
[State 0, Aura]
type = Explod
trigger1 = numexplod(4550)
persistent = 0
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
trans = sub
remappal = 0,33
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  time = 0
id = 4550
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,5
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4105, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4101
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4110, Back to idle]
type = ChangeState
trigger1 = !animtime && pos y >= 0
value = 4105
ctrl = 0
;-------------------------------------------------------------------------------
; UGohanSpawn
[Statedef 4200]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4200+var(3)*50
poweradd = 0
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim!= 4250 && var(3)>0
value = 4250
elem = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time && (root,life < root,lifemax/2)
v = 3  
value = 1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(28*const(size.xscale)))*.92,2+(rootdist x+(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4200, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4205
ctrl = 0
;-------------------------------------------------------------------------------
; UGohanDESpawn
[Statedef 4201]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4200+var(3)*50
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = !numhelper(4210)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; UGohanIdle
[Statedef 4205]
type    = S
movetype= I
physics = S
juggle  = 0
Velset = 0,0
ctrl = 0
anim = 4205+var(3)*50
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = anim = 4201+var(3)*50
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = !time||prevstateno = 4200
value = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4200 && !time
trigger2 = prevstateno = 4215 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4200 && !time
trigger2 = prevstateno = 4215 && !time
value = S52,1
volume = 50

[State 4205, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4201
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4220
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4220
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4220
trigger2 = prevstateno = 4215
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4200 && !time
trigger2 = prevstateno = 4210 && !time
trigger3 = prevstateno = 4215 && !time
value = 4201+var(3)*50
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4201+var(3)*50 && animtime = 0
value = 4205+var(3)*50
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4200 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4205, Attack]
type = ChangeState
trigger1 = prevstateno = 4200 && anim != 4201 +var(3)*50
value = 4210
ctrl = 0
[State 4205, Despawn]
type = ChangeState
trigger1 = prevstateno = 4210 && time = 40
trigger2 = prevstateno = 4220 && time = 30
trigger3 = prevstateno = 4215 && time = 35
value = 4201
ctrl = 0
;-------------------------------------------------------------------------------
; Jet Uppercut
[Statedef 4210]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 2,0
ctrl = 0
anim = 4210+var(3)*50
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = animelem = 1
value = S600,6
channel = 5
volumescale = 100
[State 0, Voz]
type = PlaySnd
trigger1 = animelem = 6
value = S600,7
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1||!time
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = !time
value = A,NA,SA,NP,SP,NT,ST,HT
time = 25
[State 0, HitBy]
type = HitBy
trigger1 = !time
value = SC,HA,HP
time = 25

[State 4205, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4201
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 20
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4220
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 2.9
y = -6
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
statetype = A      
movetype = A      
physics = N        
ignorehitpause = 1
[State 0, Gravity]
type = Gravity
trigger1 = animelemtime(7)>0
ignorehitpause = 0

[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 2
anim = 7022
ID = 7022
pos = 6,0
postype = p1
scale = .3*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
bindtime = 0
ontop = 0
ownpal = 1
removeongethit = 1
Facing = 1
remappal = 0,38
[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 7
anim = 7023
ID = 7023
pos = 0,2.5
postype = p1
scale = .2*const(size.xscale),.2*const(size.yscale)
sprpriority = 2
bindtime = 0
ontop = 0
ownpal = 1
removeongethit = 1
Facing = -1
remappal = 0,38
[State 0, Explod]
type = Explod
trigger1 = animelem = 7
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .28*const(size.xscale),.4*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(10)>0
x = vel x*.96
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
animtype  = Medium
damage    = 20,5
guardflag = HA
pausetime = 7,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,5
guardsound = S4,1
ground.type = High
ground.slidetime = 28
ground.hittime  = 36
air.hittime = 60
ground.velocity = -.5*const(size.xscale),-2
air.velocity = -.5*const(size.xscale),-2*const(size.yscale);.3
yaccel = .2
Fall = 1
fall.recover = 0
air.fall = 1 
Envshake.time = 7
down.bounce = 1
id = 4210
priority = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 8
attr = A, NA
animtype  = Up
damage    = 30,5
guardflag = HA
pausetime = 10,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 28
ground.hittime  = 78
air.hittime = 90
ground.velocity = -2*const(size.xscale),-7
air.velocity = -2*const(size.xscale),-7*const(size.yscale);.3
Fall = 1
fall.recover = 1
air.fall = 1 
fall.recovertime = 30
Envshake.time = 13
down.bounce = 1
id = 4211
priority = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 6999
ID = 6999
pos = 18*const(size.xscale),-61*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 5
angle = 80
removetime = -2
pausemovetime = 99
supermovetime = 99
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = numtarget(4210) && moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 27*const(size.xscale),-33*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = numtarget(4210) && movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 27*const(size.xscale),-33*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = numtarget(4211) && moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 18*const(size.xscale),-61*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .21*const(size.xscale)
size.yscale = .25*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = numtarget(4211) && movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 18*const(size.xscale),-61*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .21*const(size.xscale)
size.yscale = .25*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Voz]
type = PlaySnd
trigger1 = animelem = 7
value = S500,4
volumescale = 80

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,4
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S5,7
volume = 50

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4211
ID = 4211
pos = 27*const(size.xscale),-35*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
remappal = 20,cond(var(3)=1,15,5)
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4211
ID = 4211
pos = 27*const(size.xscale),-35*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 4212
ID = 4212
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
remappal = 20,cond(var(3)=1,15,5)
[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 4212
ID = 4212
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 4213
ID = 4213
pos = 0,-28*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
remappal = 20,cond(var(3)=1,15,5)
trans = addalpha
alpha = 50,255
[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 4213
ID = 4213
pos = 0,-28*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
persistent = 0
remappal = 20,cond(var(3)=1,15,5)
trans = addalpha
alpha = 205,255

[State 4205, Idle]
type = ChangeState
trigger1 = pos y >=-3 && vel y >0
value = 4205
ctrl = 0
;-------------------------------------------------------------------------------
; UGohanDamaged
[Statedef 4220]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4220+var(3)*50
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4213
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4212
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S5000,3
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4205, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4201
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4210, Back to idle]
type = ChangeState
trigger1 = !animtime && pos y >= 0
value = 4205
ctrl = 0

;-------------------------------------------------------------------------------
; A17Spawn
[Statedef  4300]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim =  4300
poweradd = 0
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(28*const(size.xscale)))*.92,2+(rootdist x+(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State  4300, End]
type = ChangeState
trigger1 = pos Y >= -6
value =  4305
ctrl = 0
;-------------------------------------------------------------------------------
; A17DESpawn
[Statedef  4301]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim =  4300
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4311
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4313
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4314
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = !numhelper( 4310)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; A17Idle
[Statedef  4305]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim =  4305
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0
ignorehitpause = 1

[State 0, NoHit]
type = ParentVarSet
trigger1 = 1
v = 5    
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno =  4300 && !time
trigger2 = prevstateno =  4315 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno =  4300 && !time
trigger2 = prevstateno =  4315 && !time
value = S52,1
volume = 50

[State  4305, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value =  4301
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno !=  4320
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno =  4320
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno =  4320
trigger2 = prevstateno =  4315
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno =  4300 && !time
trigger2 = prevstateno =  4310 && !time
trigger3 = prevstateno =  4315 && !time
value =  4301
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim =  4301 && animtime = 0
value =  4305
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno =  4300 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State  4305, Attack]
type = ChangeState
trigger1 = prevstateno =  4300 && anim !=  4301 
value =  4310
ctrl = 0
[State  4305, Despawn]
type = ChangeState
trigger1 = prevstateno =  4310 && time = 40
trigger2 = prevstateno =  4320 && time = 30
trigger3 = prevstateno =  4315 && time = 35
value =  4301
ctrl = 0
;-------------------------------------------------------------------------------
; Barrier
[Statedef  4310]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 1,0
ctrl = 0
anim =  4310
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,11
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = A,NA,SA
time = 1
[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SC,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = A,HA,NP,SP,HP,NT,ST,HT
time = 1

[State  4305, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value =  4301
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno =  4320
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = .5
y = -1
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = N        ;A,C,S,N
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = animelemtime(16)>0
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = animelem = 3
value = S600,8
volumescale = 100
[State 0, Voz]
type = PlaySnd
trigger1 = animelem = 12
value = S600,9
volumescale = 100

[State 0, Super Armor]
type = Helper
triggerall = !numhelper(9000)
trigger1 = animelem = 3
helpertype = Normal
name = "Super Armor"
ID = 9000
stateno = 9000
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = numhelper(9000)
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, NoHit]
type = ParentVarSet
trigger1 = (rootdist x != [-37*const(size.xscale),37*const(size.xscale)]) || (root,pos y <-55*const(size.yscale)) 
trigger2 = animelemtime(16)>0
v = 5    
value = 0
ignorehitpause = 1
[State 0, NoHit]
type = ParentVarSet
triggerall = (animelemtime(3)>0 && animelemtime(16) <0)
trigger1 = (rootdist x = [-37*const(size.xscale),37*const(size.xscale)]) && (root,pos y >-55*const(size.yscale))
v = 5    
value = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4311
ID = 4311
pos = 0,-34*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .6*const(size.xscale),.6*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
remappal = 20,6
removeongethit = 1
ignorehitpause = 0
angle =90
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4313
ID = 4313
pos = 0,-34*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.38*const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
remappal = 20,6
removeongethit = 1
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4314
ID = 4314
pos = 0,-34*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .4*const(size.xscale),.43*const(size.yscale)
sprpriority = -1
ontop = 0
ownpal = 1
remappal = 20,6
removeongethit = 1
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = numexplod(4311) && (timemod = 9,0)
anim = 4312
ID = 4312
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.15*const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
remappal = 20,6
removeongethit = 1
ignorehitpause = 0
[State 0, Explod]
type = Explod
trigger1 = numexplod(4311) && (timemod = 9,0)
anim = 4312
ID = 4312
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.15*const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
trans = sub
removeongethit = 1
ignorehitpause = 0

[State 200, 1]
type = HitDef
triggerall = !movereversed
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = HARD
damage    = 40,10
guardflag = MA
hitflag = MAF
pausetime = 11,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
air.hittime = 55
ground.velocity = -9*const(size.xscale),-2
air.velocity = -8*const(size.xscale),-2.6*const(size.yscale)
Fall = 1
air.fall = 1
kill = 0
fall.recover = 1
Envshake.time = 15
down.bounce = 1
hitonce = 1
yaccel = .35
id = 4300
priority = 1
palfx.time = 8
palfx.add = 80,40,5
palfx.mul = 256,256,256
palfx.sinadd = 60,30,10,8
palfx.invertall = 0
palfx.color = 0
p2facing = 1

[State 0, TargetState]
type = TargetState
triggerall = time
triggerall = movehit
triggerall = numtarget(4300)
trigger1 = !target(4300),ishelper
value = 82754
ID = 4300
ignorehitpause = 0
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 43*const(size.xscale),-38*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 43*const(size.xscale),-38*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 411
ID = 432
pos = 22*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .15*const(size.xscale),.18*const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
remappal = 20,8
[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 411
ID = 432
pos = 22*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .15*const(size.xscale),.18*const(size.yscale)
sprpriority = -4
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
remappal = 0,33
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 4315
ID = 4315
pos = 22*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 0
remappal = 20,8
[State 0, Explod]
type = Explod
trigger1 = animelem = 12
anim = 4315
ID = 4315
pos = 22*const(size.xscale),-38*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 0
remappal = 0,33
trans = sub

[State  4305, Idle]
type = ChangeState
trigger1 =  pos y >= 0 && vel y >0 && !animtime
value =  4305
ctrl = 0
;-------------------------------------------------------------------------------
; A17Damaged
[Statedef  4320]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim =  4320
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, NoHit]
type = ParentVarSet
trigger1 = 1
v = 5    
value = 0
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,12
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State  4305, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value =  4301
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State  4310, Back to idle]
type = ChangeState
trigger1 = !animtime; && pos y >= 0
value =  4305
ctrl = 0

;-------------------------------------------------------------------------------
; GFriezaSpawn
[Statedef 4400]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4400
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = !time && (root,life < root,lifemax/2)
v = 3  
value = 1
ignorehitpause = 1
[State 0, RemapPal]
type = RemapPal
trigger1 = var(3) = 1
source = 2,1
dest = 2,2
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(28*const(size.xscale)))*.92,2+(rootdist x+(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4400, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4405
ctrl = 0
;-------------------------------------------------------------------------------
; GFriezaDESpawn
[Statedef 4401]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4400
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
;triggerall = !numhelper(4410)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; GFriezaIdle
[Statedef 4405]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4405
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4400 && !time
trigger2 = prevstateno = 4415 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4400 && !time
trigger2 = prevstateno = 4415 && !time
value = S52,1
volume = 50

[State 4405, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4401
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4420
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4420
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4420
trigger2 = prevstateno = 4415
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4400 && !time
trigger3 = prevstateno = 4415 && !time
value = 4401
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4401 && animtime = 0
value = 4405
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4400 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4405, Attack]
type = ChangeState
trigger1 = prevstateno = 4400 && anim != 4401 
value = 4410
ctrl = 0
[State 4405, Despawn]
type = ChangeState
trigger1 = prevstateno = 4410 && time = 40
trigger2 = prevstateno = 4420 && time = 30
trigger3 = prevstateno = 4415 && time = 35
value = 4401
ctrl = 0
;-------------------------------------------------------------------------------
; poder
[Statedef 4410]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 1,0
ctrl = 0
anim = 4410
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,13
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = A,NA,SA
time = 1
[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SC,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = A,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 4405, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4401
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4420
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movereversed
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = HARD
damage    = 15,5
guardflag = MA
hitflag = MAF
pausetime = 8,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,8
guardsound = S4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
air.hittime = 55
ground.velocity = -3*const(size.xscale),0
air.velocity = -2*const(size.xscale),-1*const(size.yscale)
Fall = 0
air.fall = 1
kill = 0
fall.recover = 1
Envshake.time = 15
down.bounce = 1
hitonce = 1
yaccel = .35
id = 4400
priority = 1
palfx.time = 8
palfx.add = 80,10,65
palfx.mul = 256,256,256
palfx.sinadd = 60,10,70,8
palfx.invertall = 0
palfx.color = 0
p2facing = 1

[State 0, Smash Hit]
type = VarSet
trigger1 = !movecontact
v = 4   
value = cond(enemynear,movetype= H,0,1)
ignorehitpause = 1

[State 0, TargetState]
type = null
triggerall = time
triggerall = var(4) = 1
triggerall = movehit
triggerall = numtarget(4400)
trigger1 = !target(4400),ishelper
value = 82761
ID = 4400
ignorehitpause = 0
persistent = 0
[State 0, TargetBind]
type = null
triggerall = time
triggerall = var(4) = 1
triggerall = movehit
triggerall = numtarget(4400)
trigger1 = !target(4400),ishelper
time = 1
id = 4400
pos = (p2dist x)+cond(target(4400),facing = 1,2,2),0
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 32*const(size.xscale),-30*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .24*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 32*const(size.xscale),-30*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .24*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Piedras]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
stateno = 4411
ID = 4411
pos = 30*const(size.xscale),0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1
[State 0, Piedras]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
stateno = 4411
ID = 4421
pos = 30*const(size.xscale),-4*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1
[State 0, Piedras]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
stateno = 4411
ID = 4431
pos = 30*const(size.xscale),-6*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 0
[State 0, Piedras]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
stateno = 4411
ID = 4441
pos = 30*const(size.xscale),-5*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1
[State 0, Piedras]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
stateno = 4411
ID = 4451
pos = 30*const(size.xscale),0
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1
[State 0, Piedras]
type = Helper
trigger1 = animelem = 4 && var(3) =1
helpertype = normal ;player
stateno = 4411
ID = 4441
pos = 26*const(size.xscale),-12*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1

[State 0, Ondas]
type = Explod
trigger1 = animelem = 4
anim = 7018
ID = 7018
pos = 30*const(size.xscale),0
postype = p1
scale = .35*const(size.xscale),.3*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 1
[State 0, Ondas]
type = Explod
trigger1 = animelem = 4
anim = 8220
ID = 8220
pos = 30*const(size.xscale),0
postype = p1
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 4415
ID = 4415
pos = 30*const(size.xscale),5*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)*1.4
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,11
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 4415
ID = 4415
pos = 30*const(size.xscale),5*const(size.yscale)*1.4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 0,33
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 7030
ID = 7030
pos = 30*const(size.xscale),0;-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .34*const(size.xscale),.25*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,35
[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 7030
ID = 7030
pos = 30*const(size.xscale),0;-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .3402*const(size.xscale),.25*const(size.yscale)
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
trans = sub

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 6999
ID = 6999
pos = 30*const(size.xscale),-5*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 5
angle = 90
removetime = -2
pausemovetime = 99
supermovetime = 99
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Aura]
type = Explod
trigger1 = animelem = 2
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,cond(var(3)=1,11,9)
[State 0, Aura]
type = Explod
trigger1 = animelem = 2
anim = 551
ID = 551
pos = 0,3*const(size.yscale)
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .22*const(size.xscale),.25*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,cond(var(3)=1,11,9)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,8
volumescale = 80
[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 3
ignorehitpause = 1

[State 4405, Idle]
type = ChangeState
trigger1 = !animtime
value = 4405
ctrl = 0

;-------------------------------------------------------------------------------
; Piedras 
[Statedef 4411]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 4411
sprpriority = 2

;Active Damage Scaling
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (cond(var(54) >= 70,.1,1-var(54)*.009))+var(2)*.2
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4416
ID = 4416
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,11
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4416
ID = 4416
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 0,33
trans = sub

[State 0, Explod]
type = Explod
triggerall = !movecontact
trigger1 = vel x > 11
anim = 7020
ID = 7020
pos = 2*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
pausemovetime = 0
scale = .06*const(size.xscale),.09*const(size.yscale)
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle = 90-vel y*3
remappal = 20,11

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 1  
value = -20+random%20
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4411)
value = 4411
elem = 1
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4421)||ishelper(4451)
value = 4411
elem = 2
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4431)
value = 4411
elem = 3
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4441)
value = 4411
elem = 4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4411)
x = 0
y = -2
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4421)
x = 0
y = -5
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4431)
x = -2
y = -3.5
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4441)
x = 2
y = -3.5
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4451)
x = .2
y = -3.5
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = 0
y = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(50)-time*8
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
trigger1 = vel x != 0
v = 50
value = -ceil(vel x*4);4

[State 0, VelSet]
type = VelSet
trigger1 = parent,animelem = 10||parent,stateno != 4410
x = 11
y = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact 
trigger1 = vel x >10
attr = A, NP
animtype  = Medium
damage    = 7,1
Hitflag = MAF
guardflag = MA
pausetime = 3,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,13
guardsound = -1
ground.type = High
ground.slidetime = 25
air.hittime = 35
ground.hittime  = 15
ground.velocity = -1,-7
air.velocity = -1,-6
envshake.time = 7
Fall = 1
air.fall = 1
fall.recovertime = 15
yaccel = .3

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .14*const(size.xscale)
size.yscale = .14*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .14*const(size.xscale)
size.yscale = .16*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = (movecontact)||(frontedgedist < -5&& vel x >0);||(parent,stateno != 4410)
value = 4412
ctrl = 0
ignorehitpause = 0
;-------------------------------------------------------------------------------
; Piedras Fin
[Statedef 4412]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 4411
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4416
ignorehitpause = 1

[State 0, webosB]
type = Explod
trigger1 = !time
anim = 7010
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .11*const(size.xscale),.11*const(size.yscale)
sprpriority = 10
ownpal = 1
angle = var(1)
trans = add
remappal = 0,35
[State 0, webosB]
type = Explod
trigger1 = !time
anim = 7010
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .11*const(size.xscale),.11*const(size.yscale)
sprpriority = -1
ownpal = 1
trans = sub
angle = var(1)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4411)
value = 4411
elem = 1
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4421)||ishelper(4451)
value = 4411
elem = 2
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4431)
value = 4411
elem = 3
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = ishelper(4441)
value = 4411
elem = 4
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(50)
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
trigger1 = vel x != 0
v = 50
value = -ceil(vel x*4);4

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*40

[State 0, VarAdd]
type = VarAdd
trigger1 = time
v = 40
value = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(40) = 7
ignorehitpause = 1
;-------------------------------------------------------------------------------
; GFriezaDamaged
[Statedef 4420]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4420
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,14
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4405, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4401
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4410, Back to idle]
type = ChangeState
trigger1 = !animtime; && pos y >= 0
value = 4405
ctrl = 0

;-------------------------------------------------------------------------------
; KuririnSpawn
[Statedef 4500]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4500
poweradd = 0
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x-(28*const(size.xscale)))*.92,2+(rootdist x-(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4500, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4505
ctrl = 0
;-------------------------------------------------------------------------------
; KuririnDESpawn
[Statedef 4501]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4500
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = !numhelper(4510)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; KuririnIdle
[Statedef 4505]
type    = S
movetype= I
physics = S
juggle  = 0
Velset = 2,0
ctrl = 0
anim = 4505
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4500 && !time
trigger2 = prevstateno = 4515 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4500 && !time
trigger2 = prevstateno = 4515 && !time
value = S52,1
volume = 50

[State 4505, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4501
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4520
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4520
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4520
trigger2 = prevstateno = 4515
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4500 && !time
trigger2 = prevstateno = 4510 && !time
trigger3 = prevstateno = 4515 && !time
value = 4501
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4501 && animtime = 0
value = 4505
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4500 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4505, Attack]
type = ChangeState
trigger1 = prevstateno = 4500 && anim != 4501 
value = 4510
ctrl = 0
[State 4505, Despawn]
type = ChangeState
trigger1 = prevstateno = 4510 && time = 40
trigger2 = prevstateno = 4520 && time = 30
trigger3 = prevstateno = 4515 && time = 35
value = 4501
ctrl = 0
;-------------------------------------------------------------------------------
; Pedrolo
[Statedef 4510]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 2,0
ctrl = 0
anim = 4510
poweradd = 0
sprpriority = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4505, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4501
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 20
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4520
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7031
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =  animelem = 3
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = N         ;A,C,S,N
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2
y = -6
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = -2
y = -2
ignorehitpause = 1
[State 0, Gravity]
type = Gravity
trigger1 = animelemtime(5)>0
ignorehitpause = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(5)>0
x = vel x*.99
ignorehitpause = 1

[State 0, Piedra]
type = Helper
trigger1 = animelem = 7 
helpertype = normal ;player
stateno = 4511
ID = 4541
pos = 20*const(size.xscale),-21*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6999
ID = 6999
pos = 20*const(size.xscale),-21*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 5
angle = -40
removetime = -2
pausemovetime = 99
supermovetime = 99
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,16
channel = 5
volumescale = 100

[State 4505, Idle]
type = ChangeState
trigger1 = pos y >=-3 && vel y >0
value = 4505
ctrl = 0

;-------------------------------------------------------------------------------
; Piedra
[Statedef 4511]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 4511
sprpriority = 3

[State 0, Explod]
type = Explod
triggerall = var(39) =0
trigger1 = timemod = 4,0
anim = 580
ID = 580
pos = -2*const(size.xscale),(-3+random%6)*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 9999
supermovetime = 9999
scale = .05*const(size.xscale),.05*const(size.yscale)
sprpriority = 1+random%3
ontop = 0
ownpal = 1
vel = cond(vel x < 0,-vel x*.3,vel x*.3),vel y*.5
removeongethit = 1
ignorehitpause = 1
remappal = 0,33
angle = cond(vel y = 0,0,((atan((-1*Vel Y)/Vel X))*(360/(2*pi))))
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2dist x = [-10,270]
trigger1 = !time
x = (3+p2dist x*.04)-enemynear,vel x*.1
[State 0, VelSet]
type = VelSet
triggerall = p2dist y = [-220,170]
trigger1 = !time
y = ((-4+enemynear,vel y*.01)+p2dist y*.06)+enemynear,vel y*.02

[State 0, VelSet]
type = VelSet
triggerall = p2dist x != [-10,270]
trigger1 = !time
x = 3
[State 0, VelSet]
type = VelSet
triggerall = p2dist y != [-220,170]
trigger1 = !time
y = -4

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(50)
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
trigger1 = vel x != 0
v = 50
value = -ceil(vel x*4);4

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = var(39)=1
v = 40
value = 2
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
trigger2 = pos y > -1
trigger3 = frontedgedist < -9
trigger4 = prevstateno = 4511
v = 39 
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = var(39) = 1
x = -vel x *.4
y = -vel y *.4
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(39) = 1
statetype = A      
movetype = I        
physics = N        
ignorehitpause = 1
persistent = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = var(39) = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4511
time = 1
forceair = 0
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(39) = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(39)=1
value = S4,1
volumescale = 50
persistent = 0

[State 200, 1]
type = HitDef
triggerall = var(39) = 0
trigger1= !movecontact 
attr = A, NP
animtype  = Medium
damage    = 30,5
Hitflag = MAF
guardflag = MA
pausetime = 3,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,6
guardsound = -1
ground.type = High
ground.slidetime = 25
air.hittime = 35
ground.hittime  = 15
ground.velocity = -1,-2
air.velocity = -1,-3
envshake.time = 7
Fall = 1
air.fall = 1
fall.recovertime = 24
yaccel = .2

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .14*const(size.xscale)
size.yscale = .14*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .14*const(size.xscale)
size.yscale = .16*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(40) >= 26
ignorehitpause = 1
;-------------------------------------------------------------------------------
; KuririnDamaged
[Statedef 4520]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4520
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4513
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4512
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,15
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4505, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4501
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4510, Back to idle]
type = ChangeState
trigger1 = !animtime && pos y >= 0
value = 4505
ctrl = 0

;-------------------------------------------------------------------------------
; A18Spawn
[Statedef 4600]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4600
poweradd = 0
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(24*const(size.xscale)))*.92,2+(rootdist x+(24*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4600, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4605
ctrl = 0
;-------------------------------------------------------------------------------
; A18DESpawn
[Statedef 4601]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4600
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%46)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
;triggerall = !numhelper(4610)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; A18Idle
[Statedef 4605]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4605
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4600 && !time
trigger2 = prevstateno = 4615 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4600 && !time
trigger2 = prevstateno = 4615 && !time
value = S52,1
volume = 50

[State 4605, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4601
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4620
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4620
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4620
trigger2 = prevstateno = 4615
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4600 && !time
trigger3 = prevstateno = 4615 && !time
value = 4601
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4601 && animtime = 0
value = 4605
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4600 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4605, Attack]
type = ChangeState
trigger1 = prevstateno = 4600 && anim != 4601 
value = 4610
ctrl = 0
[State 4605, Despawn]
type = ChangeState
trigger1 = prevstateno = 4611 && time = 40
trigger2 = prevstateno = 4620 && time = 30
trigger3 = prevstateno = 4615 && time = 35
value = 4601
ctrl = 0
;-------------------------------------------------------------------------------
; 1
[Statedef 4610]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 5,0
ctrl = 0
anim = 4610
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,20
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4605, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4601
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4620
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 4
anim = 7023
ID = 7023
pos = 6*const(size.xscale),0
postype = p1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38
[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 4
anim = 7022
ID = 7022
pos = 8*const(size.xscale),0
postype = p1
facing = -1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype  = Medium
damage    = 20,5
guardflag = HA
pausetime = 7,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,5
guardsound = S4,1
ground.type = High
ground.slidetime = 28
ground.hittime  = 36
air.hittime = 60
ground.velocity = -.5*const(size.xscale),-2
air.velocity = -.5*const(size.xscale),-2*const(size.yscale);.3
yaccel = .2
Fall = 1
fall.recover = 0
air.fall = 1 
Envshake.time = 7
down.bounce = 1
priority = 1

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 32*const(size.xscale),-27*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 32*const(size.xscale),-27*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 4605, Idle]
type = ChangeState
trigger1 = !animtime
value = 4611
ctrl = 0

;-------------------------------------------------------------------------------
; 2
[Statedef 4611]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 4,0
ctrl = 0
anim = 4611
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,21
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4605, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4601
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4620
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = animelem = 4
anim = 7017
ID = 7017
pos = 1,0
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
scale = .4*const(size.xscale),.5*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = Explod
trigger1 = animelem = 4
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 2
removetime = -2
scale = .3*const(size.xscale),.25*const(size.yscale)
sprpriority = -9
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, NA
animtype  = Up
damage    = 30,5
guardflag = HA
pausetime = 10,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 28
ground.hittime  = 78
air.hittime = 90
ground.velocity = -2*const(size.xscale),-7
air.velocity = -2*const(size.xscale),-7*const(size.yscale);.3
Fall = 1
fall.recover = 0
air.fall = 1 
fall.recovertime = 30
Envshake.time = 13
down.bounce = 1
yaccel = .4
priority = 1

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 27*const(size.xscale),-26*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 27*const(size.xscale),-26*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .20*const(size.xscale)
size.yscale = .21*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall = movecontact
trigger1 = animelem = 5
helpertype = normal ;player
name = "A17"
ID = 4612
stateno = 4612
pos = p2dist x +(30*const(size.xscale)),-60*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 4605, Idle]
type = ChangeState
trigger1 = !animtime
value = 4605
ctrl = 0

;-------------------------------------------------------------------------------
; 17
[Statedef 4612]
type    = A
movetype= A
physics = N
juggle  = 0
Velset = 0,0
ctrl = 0
anim = 4612
facep2 = 0
sprpriority = 2

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,10
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = backedgebodydist > 15
value = 1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

;Active Damage Scaling
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (cond(root,var(54) >= 70,.1,1-root,var(54)*.009))+root,var(2)*.2
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem=2
x = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelem=3
x = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=3
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = root,var(25)=0
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Medium
damage    = 25,4
guardflag = MA
pausetime = 5,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,6+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
air.hittime = 35
ground.velocity = 1
air.velocity = 1,(9)*const(size.yscale)
Fall = 0
air.fall = 1
fall.recover = 1
priority = 1
Envshake.time = 12
yaccel = .38
id = 1
p2facing = 1
[State 0, TargetState]
type = TargetState
triggerall = numtarget(1)
triggerall = movehit
trigger1 = !target(1),ishelper
value = 82731
ID = 1
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 6999
ID = 6999
pos = 20*const(size.xscale),-10*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = 5
angle = 55
removetime = -2
pausemovetime = 99
supermovetime = 99
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = moveguarded = 1
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 20*const(size.xscale),-10*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .24*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 20*const(size.xscale),-10*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .24*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = animelemtime(7)>0 
trigger2 = root,var(25)=1
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7||animelem = 1
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = animelemtime(7)>0 
trigger2 = animelemtime(3)<0 
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%44)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = !numhelper( 4310)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; A18Damaged
[Statedef 4620]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4620
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,21
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4605, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4601
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4610, Back to idle]
type = ChangeState
trigger1 = !animtime; && pos y >= 0
value = 4605
ctrl = 0

;-------------------------------------------------------------------------------
; PiccoloSpawn
[Statedef 4700]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4700
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = !time && (root,life < root,lifemax/2)
v = 3  
value = 1
ignorehitpause = 1
[State 0, RemapPal]
type = RemapPal
trigger1 = var(3) = 1
source = 2,1
dest = 2,2
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(28*const(size.xscale)))*.92,2+(rootdist x+(28*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4700, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4705
ctrl = 0
;-------------------------------------------------------------------------------
; PiccoloDESpawn
[Statedef 4701]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4700
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%47)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
;triggerall = !numhelper(4710)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; PiccoloIdle
[Statedef 4705]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4705
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4700 && !time
trigger2 = prevstateno = 4715 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4700 && !time
trigger2 = prevstateno = 4715 && !time
value = S52,1
volume = 50

[State 4705, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4701
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4720
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4720
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4720
trigger2 = prevstateno = 4715
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4700 && !time
trigger3 = prevstateno = 4715 && !time
value = 4701
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4701 && animtime = 0
value = 4705
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4700 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4705, Attack]
type = ChangeState
trigger1 = prevstateno = 4700 && anim != 4701 
value = 4710
ctrl = 0
[State 4705, Despawn]
type = ChangeState
trigger1 = prevstateno = 4710 && time = 40
trigger2 = prevstateno = 4720 && time = 30
trigger3 = prevstateno = 4715 && time = 35
value = 4701
ctrl = 0
;-------------------------------------------------------------------------------
; Homing Energy Blast 
[Statedef 4710]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 5,0
ctrl = 0
anim = 4710
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,23
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4705, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4701
ctrl = 0

[State 0, PosAdd]
type = PosAdd
triggerall = animelemtime(5)<0
trigger1 = frontedgebodydist < 55
x = -3
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4720
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 5
anim = 7023
ID = 7023
pos = 6*const(size.xscale),0
postype = p1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38
[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 5||animelem = 7
anim = 7022
ID = 7022
pos = 8*const(size.xscale),0
postype = p1
facing = -1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "DemonBall"
ID = 4711
stateno = 4711
pos = 40*const(size.xscale),-39*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "DemonBall"
ID = 4712
stateno = 4711
pos = 40*const(size.xscale),-39*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = const(size.xscale)*1.2
size.yscale = const(size.yscale)*1.2

[State 0, Explod]
type = Explod
trigger1 = animelem = 5||animelem = 7
anim = 411
ID = 432
pos = 25*const(size.xscale),-39*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .2*const(size.xscale),.3*const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
remappal = 20,8
[State 0, Explod]
type = Explod
trigger1 = animelem = 5||animelem = 7
anim = 411
ID = 432
pos = 25*const(size.xscale),-39*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .2*const(size.xscale),.3*const(size.yscale)
sprpriority = -4
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 1
remappal = 0,33
trans = sub

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5||animelem = 7
value = S600,22
volumescale = 70

[State 0, Fly Lines]
type = Helper
trigger1 = animelem = 5||animelem = 7
helpertype = normal
name = "Fly Lines"
ID = 6004
stateno = 6004
pos = (-15+random%8)*const(size.xscale),(-5-random%35)*const(size.yscale)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .155*const(size.xscale)
Size.Yscale = .12*const(size.yscale)
size.shadowoffset = 0;angulo
persistent = 0
[State 0, Fly Lines]
type = Helper
trigger1 = animelem = 5||animelem = 7
helpertype = normal
name = "Fly Lines"
ID = 6004
stateno = 6004
pos = (-15+random%8)*const(size.xscale),(-5-random%35)*const(size.yscale)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .155*const(size.xscale)
Size.Yscale = .12*const(size.yscale)
size.shadowoffset = 0;angulo
persistent = 0
[State 0, Fly Lines]
type = Helper
trigger1 = animelem = 5||animelem = 7
helpertype = normal
name = "Fly Lines"
ID = 6004
stateno = 6004
pos = (-15+random%8)*const(size.xscale),(-5-random%35)*const(size.yscale)
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .155*const(size.xscale)
Size.Yscale = .12*const(size.yscale)
size.shadowoffset = 0;angulo
persistent = 0

[State 4705, Idle]
type = ChangeState
trigger1 = !animtime
value = 4705
ctrl = 0

;-------------------------------------------------------------------------------
; Demon Ball
[Statedef 4711]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 4711
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosAdd
trigger1 = pos y >= -15
x = 0
y = -2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = ishelper(4711)
trigger1 = vel x > 4
x = 4
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4711)
trigger1 = vel x < -4
x = -4
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4711)
trigger1 = vel y > 4
y = 4
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4711)
trigger1 = vel y < -4
y = -4

[State 0, VelSet]
type = VelSet
triggerall = ishelper(4712)
trigger1 = vel x > 3
x = 3
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4712)
trigger1 = vel x < -3
x = -3
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4712)
trigger1 = vel y > 3
y = 3
[State 0, VelSet]
type = VelSet
triggerall = ishelper(4712)
trigger1 = vel y < -3
y = -3

[State 0, VelAdd]
type = VelAdd
triggerall = ishelper(4711)
triggerall = vel x = [-4,4]
trigger1 = time>4
x = p2dist x*.008
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
triggerall = ishelper(4711)
triggerall = vel y = [-4,4]
trigger1 = time>4
y = (p2dist y-30)*.009
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
triggerall = ishelper(4712)
triggerall = vel x = [-4,4]
trigger1 = time>4
x = p2dist x*.008
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
triggerall = ishelper(4712)
triggerall = vel y = [-3,3]
trigger1 = time>4
y = (p2dist y-30)*.009
ignorehitpause = 1

;Active Damage Scaling
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (cond(var(54) >= 70,.1,1-var(54)*.009));+var(2)*.2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4711)
x = 1
y = 2+parent,var(3)*2
ignorehitpause = 1
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = !time && ishelper(4712)
x = .5-(parent,var(3)*.5)
y = -2-parent,var(3)
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 4711
elem = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = !movecontact
trigger1 = vel x >0
anim = 7020
ID = 7020
pos = 5*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .1*const(size.xscale),.1*const(size.yscale)
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle = cond(vel y=0,0,((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))+90);90-vel y*3
remappal = 20,11

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = vel x >0
attr = A, NP
animtype  = Medium
damage    = 25,5
Hitflag = MAF
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
air.hittime = 35
ground.velocity = -2,-4
air.velocity = -2,-5
envshake.time = 15
Fall = 1
guard.kill = 0
air.fall = 1
fall.recovertime = 24
PalFX.time = 17
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,30
PalFX.invertall = 0
PalFX.color = 256
priority = 1

[State 0, Glow]
type = Explod
trigger1 = !time
anim = 7019
ID = 7019
pos = 0,-pos y
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .25*const(size.xscale),.03*const(size.yscale)
sprpriority = -6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,8

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 7019
pos = 0,-pos y
postype = p1  

[State 0, Glow]
type = Explod
trigger1 = !time
anim = 7019
ID = 4711
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .2*const(size.xscale),.2*const(size.yscale)
sprpriority = -6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,11
[State 0, Glow]
type = Explod
trigger1 = !time
anim = 7019
ID = 4711
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = .2*const(size.xscale),.2*const(size.yscale)
sprpriority = -7
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,11

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4715
ID = 4711
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,8
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 4715
ID = 4711
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = sub
remappal = 0,33

[State 0, Explod]
type = Explod
triggerall = time>14
trigger1 = time%5=0
anim = cond(random<500,560,561)
ID = 4711
pos = (-15+random%30)*const(size.xscale),(-15+random%30)*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = (.04)*const(size.xscale),(.04)*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 20,11
angle = random%180

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
trigger2 = root,var(25)=1
v = 10    
value = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
trigger2 = root,var(25)=1
id = 4715
ignorehitpause = 1
[State 0, DestroySelf]
type = DestroySelf
triggerall = vel x >0
trigger1 = frontedgebodydist < -90
ignorehitpause = 1
removeexplods = 1
[State 0, ChangeState]
type = ChangeState
triggerall = vel x >0
trigger1 = movecontact
trigger2 = frontedgedist < -15
trigger3 = root,var(25)=1
value = 4712
ctrl = 0
ignorehitpause = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4712
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Ki Blast Explosion
[Statedef 4712]
type    = A
movetype= I
physics = N
juggle  = 0
velset = .01,0
ctrl = 0
anim = 4711
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 7
freq = 70
ampl = -6
phase = 105
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 4711
elem = 2
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4711
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 7019
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var(10)=0
statetype = A    
movetype = A      
physics = N         
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = var(10)=0
attr = A, NP
animtype  = Medium
damage    = 30,6
Hitflag = MAF
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
air.hittime = 35
ground.velocity = -2,-3
air.velocity = -2,-4
envshake.time = 15
Fall = 1
guard.kill = 0
air.fall = 1
fall.recovertime = 24
PalFX.time = 17
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,30
PalFX.invertall = 0
PalFX.color = 256
priority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S600,2
volumescale = 70

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 436
ID = 4716
pos = 4*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = cond(random < 500,-1,1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*.8,const(size.yscale)*.8
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%180
remappal = 0,40
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 436
ID = 4716
pos = 4*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = cond(random < 500,-1,1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*.9,const(size.yscale)*.9
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
trans = sub
angle = 0+random%180
remappal = 0,33

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 3
trigger2 = root,var(25)=1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; PiccoloDamaged
[Statedef 4720]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4720
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,24
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4705, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4701
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4710, Back to idle]
type = ChangeState
trigger1 = !animtime; && pos y >= 0
value = 4705
ctrl = 0

;-------------------------------------------------------------------------------
; TienSpawn
[Statedef 4800]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4800
poweradd = 0
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(rootdist x*1.1,.2*(rootdist x+(20*const(size.xscale)))*.92,2+(rootdist x+(20*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4800, End]
type = ChangeState
trigger1 = pos Y >= -6
value = 4805
ctrl = 0
;-------------------------------------------------------------------------------
; TienDESpawn
[Statedef 4801]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = 4800
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4829
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = pos y >= 0
trigger1 = !time
anim = 7030
ID = 7030
pos = 0,0;-pos y
postype = p1  ;p2,front,back,left,right
facing = cond(random <500,1,-1)
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = .35*const(size.xscale),.37*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
remappal = 0,38

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%48)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
;triggerall = !numhelper(4810)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; TienIdle
[Statedef 4805]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4805
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4800 && !time
trigger2 = prevstateno = 4815 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4800 && !time
trigger2 = prevstateno = 4815 && !time
value = S52,1
volume = 50

[State 4805, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4801
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4820
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4820
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4820
trigger2 = prevstateno = 4815
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4800 && !time
trigger3 = prevstateno = 4815 && !time
value = 4801
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4801 && animtime = 0
value = 4805
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4800 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4805, Attack]
type = ChangeState
trigger1 = prevstateno = 4800 && anim != 4801 
value = 4810
ctrl = 0
[State 4805, Despawn]
type = ChangeState
trigger1 = prevstateno = 4810 && time = 40
trigger2 = prevstateno = 4820 && time = 30
trigger3 = prevstateno = 4815 && time = 35
value = 4801
ctrl = 0
;-------------------------------------------------------------------------------
; DoDonPA
[Statedef 4810]
type    = S
movetype= A
physics = S
juggle  = 0
Velset = 5,0
ctrl = 0
anim = 4810
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,26
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4805, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4801
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4820
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 5
anim = 7023
ID = 7023
pos = 6*const(size.xscale),0
postype = p1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38
[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 5
anim = 7022
ID = 7022
pos = 8*const(size.xscale),0
postype = p1
facing = -1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1605
ID = 1829
pos = (11.5)*const(size.xscale),-46*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 14
pausemovetime = 0
scale = .2*const(size.xscale),.2*const(size.yscale)
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,8
[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 4
ID = 1829
pos = 23*const(size.xscale),-41*const(size.yscale)
postype = p1  ;p2,front,back,left,right

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal ;player
name = "BEAM"
ID = 4830
stateno = 4830
pos = 25*const(size.xscale),-34.5*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = (1)*const(size.xscale)
size.yscale = (1)*const(size.yscale)
persistent = 0
size.shadowoffset = var(49) ;poder del ataque
ignorehitpause = 1

[State 4805, Idle]
type = ChangeState
trigger1 = !animtime
value = 4805
ctrl = 0

;-------------------------------------------------------------------------------
; Beam BALLS
[Statedef 4830]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3,3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 25*const(size.xscale),(-34.5)*const(size.yscale)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time%9=0
anim = 4315
ID = 4315
pos = -2*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*.7,const(size.yscale)*.7
sprpriority = 5
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 0
remappal = 20,8

[State 0, SHAFT]
type = Explod
trigger1 = !time
anim = 4830
ID = 4830
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = .020,const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,8
[State 0, SHAFT]
type = Explod
trigger1 = !time
anim = 4830
ID = 4831
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = .020,const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 0,33
trans = sub
[State 0, Add]
type = ModifyExplod
trigger1 = numhelper(4832)
ID = 4830
scale = .02*abs(Pos x - (helper(4832), Pos x)),const(size.yscale)
[State 0, Sub]
type = ModifyExplod
trigger1 = numhelper(4832)
ID = 4831
scale = .02*abs(Pos x - (helper(4832), Pos x)),const(size.yscale)

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal ;player
name = "HEAD"
ID = 4832
stateno = 4832
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(2) = 1
value = 4835
ctrl = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = helper(4832),movehit 
trigger2 = helper(4832),moveguarded 
trigger3 = parent,stateno != 4810
trigger4 = helper(4832),time = 180
trigger5 = helper(4832),frontedgedist < -40
trigger6 = !numhelper(4832)
trigger7 = time > 5 && facing = 1 && pos x > helper(4832),pos x -1;(1+parent,const(size.shadowoffset)*.08)
trigger8 = time > 5 && facing != 1 && pos x < helper(4832),pos x +1;(1+parent,const(size.shadowoffset)*.08)
v = 2    ;fv = 10
value = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Beam HEAD
[Statedef 4832]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 18+(parent,const(size.shadowoffset)*.4),0
ctrl = 0
anim = 4832
sprpriority = 2

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = cond(root,var(54) >= 70,.1,1-root,var(54)*.008)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1
persistent = 4

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact || !movereversed
attr = S,SP       
hitflag = HAF        
guardflag = MA        
animtype = Back         
air.animtype = Up
damage = (60+(parent,const(size.shadowoffset)*2)),(20+(parent,const(size.shadowoffset)*2))
pausetime = 0 ,9
sparkno = -1
guard.sparkno = -1
hitsound = S1,18
guardsound = S4,1
ground.type = High      
ground.slidetime = 10
ground.hittime = 90
air.hittime = 90
ground.velocity = -2,0
air.velocity = -2,-5-(parent,const(size.shadowoffset)*.1)
fall = 0
air.fall = 1
down.bounce = 1
envshake.time = 9

[State 0, Helper]
type = Helper
trigger1 = moveguarded = 1
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = (-5)*const(size.xscale),0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = (.26)*const(size.xscale)
size.yscale = (.22)*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = (-5)*const(size.xscale),0
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = (.22)*const(size.xscale)
size.yscale = (.20)*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,var(2) = 1
value = 4835
ctrl = 0
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Beam End 
[Statedef 4835]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time=1
id = 4315
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = ishelper(4830)
trigger1 = !time
anim = 4316
ID = 4316
pos = -2*const(size.xscale),0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale)*.7,const(size.yscale)*.7
sprpriority = 5
ownpal = 1
removeongethit = 1
ontop = 0
ignorehitpause = 0
remappal = 20,8

[State 0, SHAFT]
type = Explod
triggerall = ishelper(4830)
trigger1 = !time
anim = 4831
ID = 4832
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .02*abs(Pos x - (helper(4832), Pos x))+(helper(4832),vel x*.02),const(size.yscale)
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 20,8

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = ishelper(4830)
triggerall = numhelper(4832)
trigger1 = 1
ID = 4832
scale = .02*abs(Pos x - (helper(4832), Pos x))+(helper(4832),vel x*.02),const(size.yscale)
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4830
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 4831
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = ishelper(4830)
trigger1 = time>0 && !numexplod(4832)
ignorehitpause = 1
[State 0, DestroySelf]
type = DestroySelf
triggerall = ishelper(4832)
trigger1 = time=30;time>0 && Parent,Cond(1,(!numexplod(4832)),0)
ignorehitpause = 0
;-------------------------------------------------------------------------------
; TienDamaged
[Statedef 4820]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4820
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,25
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
y = 1
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = .2
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = pos y >= 0
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
movetype = H        ;I,A,H
physics = S         ;A,C,S,N
ignorehitpause = 1

[State 4805, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4801
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4810, Back to idle]
type = ChangeState
trigger1 = !animtime; && pos y >= 0
value = 4805
ctrl = 0
;-------------------------------------------------------------------------------
; GogetaBSpawn
[Statedef 4900]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 3,0
ctrl = 0
anim = 4900
poweradd = 0
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = !time && (root,life < root,lifemax/2)
v = 3  
value = 1
ignorehitpause = 1
[State 0, RemapPal]
type = RemapPal
trigger1 = var(3) = 1
source = 2,1
dest = 2,2
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 55
value = 0
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = 1
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time >0
x = 0
y = .22
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = cond(p2dist x*1.1,.2*(p2dist x-(38*const(size.xscale)))*.92,2+(p2dist x+(38*const(size.xscale)))*.92);cond(rootdist x*1.1,.2*rootdist x*.6,2+rootdist x*.5)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4900, End]
type = ChangeState
trigger1 = (p2dist y =[-14,4]) && (p2dist x =[0,70]);pos Y >= -6
trigger2 = pos y >-10
value = 4910
ctrl = 0
;-------------------------------------------------------------------------------
; GogetaBDESpawn
[Statedef 4901]
type    = A
movetype= I
physics = N
juggle  = 0
Velset = 0,-3
ctrl = 0
anim = cond(prevstateno = 4920,4921,4900)
poweradd = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4950
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel y < 0
y = .2
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time
trans = addalpha
alpha = 256-var(40)*10,0+var(40)*10

[State 0, VarAdd]
type = VarAdd
trigger1 = time 
v = 40
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S1,11
volumescale = 70
[State 0, Helper]
type = Helper
trigger1 = time > 2
helpertype = normal ;player
name = "soru"
ID = 6010
stateno = 6010
pos = (-9+random%19)*const(size.xscale),(-5-random%49)*const(size.yscale)
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09*const(size.xscale)
size.yscale = .09*const(size.yscale)
size.height = 90 ;Angle
pausemovetime = 20
persistent = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
;triggerall = !numhelper(4910)
trigger1 = var(40) >= 20
removeexplods = 1
ignorehitpause = 1
;-------------------------------------------------------------------------------
; GogetaBIdle
[Statedef 4905]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 4905
poweradd = 0
facep2 = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = !time && prevstateno = 4100
x = 3
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  !time
id = 4550
ignorehitpause = 1

[State 0, Land]
type = Explod
trigger1 = prevstateno = 4900 && !time
trigger2 = prevstateno = 4915 && !time
anim = 7014
ID = 7014
pos = 1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .23*const(size.xscale),.23*const(size.yscale)
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
remappal = 0,38
[State 0, Land]
type = PlaySnd
trigger1 = prevstateno = 4900 && !time
trigger2 = prevstateno = 4915 && !time
value = S52,1
volume = 50

[State 4905, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4901
ctrl = 0

[State 0, HitOverride]
type = HitOverride
triggerall = prevstateno != 4920
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4920
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 4920
trigger2 = prevstateno = 4915
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = prevstateno = 4900 && !time
trigger3 = prevstateno = 4915 && !time
value = 4901
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 4901 && animtime = 0
value = 4905
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 4900 && !time
x = 2
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 4905, Attack]
type = ChangeState
trigger1 = prevstateno = 4900 && anim != 4901 
value = 4910
ctrl = 0
[State 4905, Despawn]
type = ChangeState
trigger1 = prevstateno = 4910 && time = 40
trigger2 = prevstateno = 4920 && time = 30
trigger3 = prevstateno = 4915 && time = 35
value = 4901
ctrl = 0
;-------------------------------------------------------------------------------
; Kick
[Statedef 4910]
type    = A
movetype= A
physics = N
juggle  = 0
Velset = 1,0
ctrl = 0
anim = 4910
poweradd = 0
sprpriority = 3

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,17
channel = 5
volumescale = 100

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4905, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
trigger3 = root,movetype = H
value = 4901
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = frontedgebodydist < 30
x = -2
y = 0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4920
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Viento Grande]
type = Explod
trigger1 = animelem = 6 && pos y >-55
anim = 7023
ID = 7023
pos = 6*const(size.xscale),-pos y
postype = p1
scale = .25*const(size.xscale),.25*const(size.yscale)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,38

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
anim = 6999
ID = 6999
pos = 15*const(size.xscale),-15*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 5
angle = 0
removetime = -2
pausemovetime = 99
supermovetime = 99
scale = .4*const(size.xscale),.4*const(size.yscale)
sprpriority = 8
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 5
y = 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 9||movecontact
x = .5
y = 0
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movereversed
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = HARD
damage    = 50,10
guardflag = MA
hitflag = MAF
pausetime = 8,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
air.hittime = 55
ground.velocity = -9*const(size.xscale),-2
air.velocity = -8*const(size.xscale),-2.6*const(size.yscale)
Fall = 1
air.fall = 1
kill = 0
fall.recover = 1
Envshake.time = 15
down.bounce = 1
p2facing = 1
hitonce = 1
yaccel = .35
id = 4900

[State 0, TargetState]
type = TargetState
triggerall = time
triggerall = movehit
triggerall = numtarget(4900)
trigger1 = !target(4900),ishelper
value = 82761
ID = 4900
ignorehitpause = 0
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = moveguarded
helpertype = normal
name = "sparkpeta"
ID = 018
stateno = 801
pos = 33*const(size.xscale),-24*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .24*const(size.yscale)
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal
name = "sparkpeta"
ID = 019
stateno = 801
pos = 33*const(size.xscale),-24*const(size.yscale)
postype = p1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .24*const(size.xscale)
size.yscale = .25*const(size.yscale)
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 1702
ID = 1699
pos = 30*const(size.xscale),-25*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
persistent = 0
scale = .4*const(size.xscale),.6*const(size.yscale)
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 0,33
trans = sub
angle = 90
accel = -.3,0
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 1702
ID = 1699
pos = 30*const(size.xscale),-25*const(size.yscale)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
persistent = 0
scale = .4*const(size.xscale),.6*const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
remappal = 20,cond(var(3)>0,8,14)
angle = 90
accel = -.3,0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 4911
ID = 4911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
trans = addalpha
alpha = 50,256
remappal = 20,14
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 4911
ID = 4911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
trans = addalpha
alpha = 206,256
remappal = 20,14
[State 0, Explod]
type = Explod
trigger1 = animelem = 6
persistent = 0
anim = 4911
ID = 4911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = const(size.xscale),const(size.yscale)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
remappal = 0,33
trans = sub

[State 4905, Idle]
type = ChangeState
trigger1 = !animtime
value = 4901
ctrl = 0
;-------------------------------------------------------------------------------
; GogetaBDamaged
[Statedef 4920]
type    = A
movetype= H
physics = N
juggle  = 0
ctrl = 0
anim = 4920
poweradd = 0
sprpriority = 3
facep2 = 1

[State 0, Voz]
type = PlaySnd
trigger1 = !time
value = S600,18
channel = 5
volumescale = 100

[State 0, HitVelSet]
type = HitVelSet
trigger1 = !time
x = 1
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = !time
y = -3
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = time
x = 0
y = .05
ignorehitpause = 0

[State 4905, Despawn]
type = ChangeState
trigger1 = root,var(25) = 1
trigger2 = roundstate != 2
value = 4901
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 4910, Back to idle]
type = ChangeState
trigger1 = !animtime 
value = 4901
ctrl = 0
