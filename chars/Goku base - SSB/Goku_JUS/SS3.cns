;===============================================================================
;----------------------SS3------------------------------------------------------
;===============================================================================
;-------------------------------------------------------------------------------
; Aura Permanente SS3
[Statedef 567]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Rayos]
type = Explod
trigger1 = timemod = 30,0
anim = 8020+(RANDOM%4)
ID = 8020
pos = -7+random%15,0-random%40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,stateno != 181
trigger1 = timemod = 200,0
value = S5,15
volume = 0

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Aura Up]
type = Explod
trigger1 = time%5= 2
anim = 7640
ID = 7640
pos = -3+random%15,0-random%40
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7641,ifelse(random>500,7643,7642))
ID = 7640
pos = ifelse(random>500,3,ifelse(random>500,-3,6)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7641,ifelse(random>500,7643,7642))
ID = 7640
pos = ifelse(random>500,2,ifelse(random>500,-2,5)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,-1, 1),-2
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 5110
trigger2 = root,stateno = 1300 && root,time = [35,45]
trigger3 = root,stateno = 181 && root,time > 60
trigger4 = enemy,stateno = [35003,35006]
id = 560

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 5110
trigger2 = root,stateno = 1300 && root,time = [35,45]
trigger3 = root,stateno = 181 && root,time > 60
trigger4 = enemy,stateno = [35003,35006]
id = 9030

[State 200, End]
type = Destroyself
trigger1 = root,var(2) != 3
;===============================================================================
; SS3:
;-------------------------------------------------------------------------------
; SS3 - Start
[Statedef 900]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 900+var(11)
poweradd = -3000+var(2)*1000
sprpriority = 2

; Base to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 44
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 44
value = S0,18
volume = 999

; Base to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 84
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 84
value = S0,19
volume = 999

; Base to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 141
value = S190,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 141
value = S190,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 141
value = S190,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 141
value = S190,4
volume = 999

; Base to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 131
value = S0,41
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 131
value = S0,41
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 131
value = S0,41
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 131
value = S0,41
volume = 999

; Base to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 44
trigger2 = time = 84
trigger3 = time = 141
trigger4 = animelem = 128
value = S500,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = time = 44
trigger2 = time = 84
trigger3 = time = 141
trigger4 = animelem = 128
value = S500,1
volume = 999

;Base to SSJ3
[State 3000, SuperPause]
type = SuperPause
triggerall = anim = 900
trigger1 = time = 0
time = 761
movetime = 761
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable =0

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 900
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 761

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
triggerall = anim = 900
trigger1 = time = 776
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
triggerall = anim = 900
trigger1 = time >= 761 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = time = [38,132]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .6,.4
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = anim = 900
triggerall = time = [83,132]
trigger1 = timemod = 5,1
anim = 7019
ID = 7019
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 150,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
angle = 0+random%2
supermovetime = 999
removeongethit = 0

[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = time = [132,770]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .8,.6
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = anim = 900
triggerall = time = [132,770]
trigger1 = timemod = 2,1
anim = 7019
ID = 7019
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 400,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
angle = 0+random%2
supermovetime = 999
removeongethit = 0

[State 0, FX]
type = Explod
triggerall = anim = 900
trigger1 = time = 38
anim = 7610
ID = 7610
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 900
trigger1 = time = 38
anim = 7610
ID = 7610
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

;-----------
;SSJ1 aura
[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2550)= 0
trigger1 = time = 44
anim = 2550
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2550)= 0
trigger1 = time = 44
anim = 2551
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2550)= 0
trigger1 = time = 44
anim = 2552
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = anim = 900
trigger1 = time = 78
id = 2550
;-----------
;SSJ2 aura
[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2551)= 0
trigger1 = time = 78
anim = 2550
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.4
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2551)= 0
trigger1 = time = 78
anim = 2551
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.4
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2551)= 0
trigger1 = time = 78
anim = 2552
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.3
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = anim = 900
trigger1 = time = 141
id = 2551

[State 0, Aura]
type = Helper
triggerall = anim = 900
trigger1 = time = 141
helpertype = normal
name = "Aura"
ID = 950
stateno = 950
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2550)= 0
trigger1 = time = 716
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 900
triggerall = numhelper(2550)= 0
trigger1 = time = 716
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, SS3 Activado]
type = Helper
triggerall = anim = 900
trigger1 = time = 141
helpertype = Normal
name = "SS3 Activado"
ID = 960
stateno = 960
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1


;====================
;--SSJ1
;SSJ1 to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 12
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 12
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 12
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 12
value = S0,23
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 119
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 119
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 119
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 119
value = S0,9
volume = 999

;SSJ1 to SSJ3
[State 3000, SuperPause]
type = SuperPause
triggerall = anim = 2900
trigger1 = time = 0
time = 224
movetime = 224
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable =0

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 2900
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 224

[State 3000, VarSet]
type = Varset
triggerall = anim = 2900
trigger1 = time = 224
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
triggerall = anim = 2900
trigger1 = time >= 213 && Var(12) < 0
v = 12
value = 6

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 32
trigger2 = time = 119
value = S500,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 32
trigger2 = time = 119
value = S500,1
volume = 999

[State 0, FX]
type = Explod
triggerall = anim = 2900
triggerall = time = [32,224]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .8,.6
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = anim = 2900
triggerall = time = [32,224]
trigger1 = timemod = 4,1
anim = 7019
ID = 7019
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 400,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
angle = 0+random%2
supermovetime = 999
removeongethit = 0

[State 0, Aura]
type = Helper
triggerall = anim = 2900
trigger1 = time = 32
helpertype = normal
name = "Aura"
ID = 950
stateno = 950
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, FX]
type = Explod
triggerall = anim = 2900
triggerall = numhelper(2550)= 0
trigger1 = time = 154
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 2900
triggerall = numhelper(2550)= 0
trigger1 = time = 154
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, SS3 Activado]
type = Helper
triggerall = anim = 2900
trigger1 = time = 32
helpertype = Normal
name = "SS3 Activado"
ID = 960
stateno = 960
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

;====================
;--SSJ1
;SSJ1 to SS3
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 44
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 44
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 44
value = S0,23
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time =44
value = S0,23
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 99
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 99
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 99
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 99
value = S0,9
volume = 999

;SSJ2 to SSJ3
[State 3000, SuperPause]
type = SuperPause
triggerall = anim = 11900
trigger1 = time = 0
time = 234
movetime = 234
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable =0

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 11900
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 234

[State 3000, VarSet]
type = Varset
triggerall = anim = 11900
trigger1 = time = 234
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
triggerall = anim = 11900
trigger1 = time >= 223 && Var(12) < 0
v = 12
value = 6

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 11900
trigger1 = time = 44
trigger2 = time = 104
value = S500,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2900
trigger1 = time = 44
trigger2 = time = 104
value = S500,1
volume = 999

[State 0, FX]
type = Explod
triggerall = anim = 11900
triggerall = time = [44,234]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .8,.6
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = anim = 11900
triggerall = time = [44,234]
trigger1 = timemod = 4,1
anim = 7019
ID = 7019
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 400,0
removetime = -2
pausemovetime = 0
scale = (5+random%4)*.1,(5+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
angle = 0+random%2
supermovetime = 999
removeongethit = 0

[State 0, Aura]
type = Helper
triggerall = anim = 11900
trigger1 = time = 44
helpertype = normal
name = "Aura"
ID = 950
stateno = 950
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, FX]
type = Explod
triggerall = anim = 11900
triggerall = numhelper(2550)= 0
trigger1 = time = 99
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = anim = 11900
triggerall = numhelper(2550)= 0
trigger1 = time = 99
anim = 28051
ID = 28051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .8,.8
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, SS3 Activado]
type = Helper
triggerall = anim = 11900
trigger1 = time = 44
helpertype = Normal
name = "SS3 Activado"
ID = 960
stateno = 960
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; SS3 - Fin
[Statedef 905]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 905
sprpriority = 2

[State 0, Aura]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Aura"
ID = 951
stateno = 951
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, SS3 Desactivado]
type = Helper
trigger1 = time = 8
helpertype = Normal
name = "SS3 Desactivado"
ID = 961
stateno = 961
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Normal Aura - Start
[Statedef 950]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2550
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = timemod = 9,0
anim = 2550
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .3,.5
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2551)= 0
trigger1 = timemod = 9,0
anim = 2551
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .3,.5
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = timemod = 6,0
anim = 2552
ID = 2552
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .26,.4
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 900
trigger1 = root,stateno != 901
trigger1 = root,stateno != 902

[State 200, End]
type = Changestate
trigger1 = root,stateno != 900 && time >= 150
trigger1 = root,stateno != 901 && time >= 306
trigger1 = root,stateno != 902 && time >= 207
value = 951
;-------------------------------------------------------------------------------
;Normal Aura - Fin
[Statedef 951]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; SS3 - Activado
[Statedef 960]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = ifelse(ailevel > 0,time >= 1000,time >= 1)
;-------------------------------------------------------------------------------
; SS3 - Desactivado
[Statedef 961]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; A - 1
[Statedef 13200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13200
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=8)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13201

[State 200, End]
type = ChangeState
triggerall = (time>=8)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 13400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 13201]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13201
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 6

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13202

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 13202]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13202
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = -5,-36
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13203

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 4
[Statedef 13203]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13203
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 6
anim = 7011
ID = 7011
pos = 5,-38
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13214

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;  A - 5
[Statedef 13204]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13204
poweradd = 40
velset = 0,0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 3
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,20
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Up
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-7
air.velocity = -2,-7
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13205

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13610

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; A - 6
[Statedef 13205]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 13205
poweradd = 30
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
statetype = S
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
p2facing = 1
Envshake.time = 5
p2stateno = 135000

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;P2 State
[Statedef 135000]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1
velset = 0,0

[State 3020, 2]
type = changeanim
triggerall = var(2) = 0
trigger1 = !time && anim !=5050
value = 5050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 1
trigger1 = !time && anim !=6050
value = 6050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 2
trigger1 = !time && anim !=12050
value = 12050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 3
trigger1 = !time && anim !=14050
value = 14050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 4
trigger1 = !time && anim !=16050
value = 16050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 5
trigger1 = !time && anim !=18050
value = 18050

[State 4005, vel Y]
type = velset
trigger1 = animelemtime(2)=0
y = 20
x = -5

[State 3052, Land]
type = changestate
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 135001
;---------------------------------------------------------------------------
;P2 bouncing on the ground from a.SK
[Statedef 135001]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 0
triggerall = time = 0
trigger1 = (anim != [5051,5059])+var(10) && (anim != [5061,5069])+var(10)
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = time = 0
trigger1 = (anim = [5051,5059])+var(10) || (anim = [5061,5069])+var(10)
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = (5100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 1
triggerall = time = 0
trigger1 = (anim != [6051,6059])+var(10) && (anim != [6061,6069])+var(10)
trigger2 = !SelfAnimExist(6100 + (anim % 10))
value = 6100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
trigger1 = (anim = [6051,6059])+var(10) || (anim = [6061,6069])+var(10)
trigger1 = SelfAnimExist(6100 + (anim % 10))
value = (6100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 2
triggerall = time = 0
trigger1 = (anim != [12051,12059])+var(10) && (anim != [12061,12069])+var(10)
trigger2 = !SelfAnimExist(12100 + (anim % 10))
value = 12100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
trigger1 = (anim = [12051,12059])+var(10) || (anim = [12061,12069])+var(10)
trigger1 = SelfAnimExist(12100 + (anim % 10))
value = (12100 + (anim % 10))


[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 3
triggerall = time = 0
trigger1 = (anim != [14051,14059])+var(10) && (anim != [14061,14069])+var(10)
trigger2 = !SelfAnimExist(14100 + (anim % 10))
value = 14100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = time = 0
trigger1 = (anim = [14051,14059])+var(10) || (anim = [14061,14069])+var(10)
trigger1 = SelfAnimExist(14100 + (anim % 10))
value = (14100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 4
triggerall = time = 0
trigger1 = (anim != [16051,16059])+var(10) && (anim != [16061,16069])+var(10)
trigger2 = !SelfAnimExist(16100 + (anim % 10))
value = 16100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
trigger1 = (anim = [16051,16059])+var(10) || (anim = [16061,16069])+var(10)
trigger1 = SelfAnimExist(16100 + (anim % 10))
value = (16100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 5
triggerall = time = 0
trigger1 = (anim != [18051,18059])+var(10) && (anim != [18061,18069])+var(10)
trigger2 = !SelfAnimExist(18100 + (anim % 10))
value = 18100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
trigger1 = (anim = [18051,18059])+var(10) || (anim = [18061,18069])+var(10)
trigger1 = SelfAnimExist(18100 + (anim % 10))
value = (18100 + (anim % 10))

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.5

[State 5100, 10]
type = PlaySnd
trigger1 = !Time
value = f7,2

[State 5100, 5]
type = VelSet
trigger1 = AnimTime = 0
y = -8
x = -6

[State 111, 1]
type = StateTypeSet
trigger1 = AnimTime = 0
physics = A

[State 5100, 12]
type = SelfState
trigger1 = AnimTime = 0
value = 5050
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; B - 1
[Statedef 13210]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13210
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13201

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 2
[Statedef 13211]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13211
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=7)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13202

[State 200, End]
type = ChangeState
triggerall = (time>=7)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 3
[Statedef 13212]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13212
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 8
anim = 7001
ID = 7001
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = 25
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-6
Fall = 0
fall.recovertime = 20
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13340

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13203

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 4
[Statedef 13213]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13213
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13204

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13214

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 5
[Statedef 13214]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13214
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S0,12
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
x = 1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
attr = S, NA
animtype  = Light
damage    = 2
guardflag = MA
pausetime = 3,5
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10+random%20*(var(35):=75), var(36):=-5-random%40
hitsound   =  S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -1,-1
Fall = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-18-random%40
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 201, ChangeState]
type = ChangeState
Triggerall = movecontact && (time>=16)
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13204

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=16)
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13215

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 6
[Statedef 13215]
type    = S
movetype= A
physics = C
juggle  = 2
ctrl = 0
anim = 13215
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Back
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13204

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13216

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 7
[Statedef 13216]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13216
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4 || time = 12
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 7,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 13217
ctrl = 1
;-------------------------------------------------------------------------------
; B - 8
[Statedef 13217]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13217
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4 || time = 12
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 7,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 201, ChangeState]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13218

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 9
[Statedef 13218]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13218
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 3

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<400
value = S0,23
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7016
ID = 7016
pos = 7,-5
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,13
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -6,-5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A:
[Statedef 13300]
type = C
movetype = A
physics = C
anim = 13300
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; Low Kick
[Statedef 13301]
type = C
movetype = A
physics = C
anim = 13301
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = C, NA
animtype = Back
damage    = 10
hitflag = MAF
guardflag = L
pausetime = 6,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -2.5
guard.velocity = -4.5
air.velocity = -2,-5
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -1,-4
guard.velocity = -4.5
air.velocity = -2,-5
guard.velocity = -2
fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13212

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; Uppercutt
[Statedef 13302]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13302
poweradd = 40
velset = 0,0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 9
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 3
y = -5.5

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 13330]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 13330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 2550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 13331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 13331
ctrl = 0

;-------------------------------------------------------------------------------
; Dragon Rush - Hit OK
;-------------------------------------------------------------------------------
[Statedef 13331]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 13331
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3
y = -6
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13600

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13610

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 13332]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim =13330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 2550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 13331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 13331
ctrl = 0
;-------------------------------------------------------------------------------
; Sledgehammer - 1
[Statedef 13335]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13340
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer - 1
[Statedef 13340]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 13340
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13341

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 1
[StateDef 13341]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 13341
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x =  ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 13342
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush 2
[Statedef 13342]
type = S
movetype = A
physics = S
anim = 13342
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 1
anim = 7016
ID = 7016
pos = -10,-10
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 =!time
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,13+random%2
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-23
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13343

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 3
[StateDef 13343]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 13341
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = ifelse(P2Dist Y < 0,-8, -8-abs(P2Dist Y*.1))

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 13344
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush 4
[Statedef 13344]
type = A
movetype = A
physics = N
juggle = 0
anim = 13344
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 3
anim = 7011
ID = 7011
pos = 13,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .12,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,14
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-23
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13345

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 5
[StateDef 13345]
type = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 13341
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,14, 12+abs(P2Dist x*.1))
y = target, Vel Y

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 13346
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Sledgehammer Rush Attack 6
[Statedef 13346]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 13602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 0

[State 0, VelMul]
type = VelMul
trigger1 = AnimElem = 3,>1
x = -.85
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-25
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13347

[State 200, End]
type = ChangeState
Triggerall = movecontact
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13350

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Dive Kick
[Statedef 13347]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 13347
poweradd = 0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,45
volume = 50

[State 1200, Vel]
type = velset
trigger1 = time = 8
x = 6
y = 9

[State 270, hit]
type=hitdef
triggerall = !movecontact
trigger1 = 1
attr = A, HA
damage = 100,0
Hitflag = MAFDE
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 4,Hit
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-15
hitsound = s1,13
guardsound = S4,1
ground.type = High
pausetime = 15,15
ground.slidetime = 20+3
ground.hittime = 20+3
air.hittime = 20+3
guard.ctrltime = 20-3
guard.hittime = 20-3
ground.velocity =  -8, 8
guard.velocity = -9.33
air.velocity = -8, 8
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -7
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
envshake.time=12
envshake.ampl=3
yaccel = .5
sprpriority = 3
air.fall = 1
down.velocity = 0,0
down.bounce = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall.recover = 1
fall.recovertime = 10
fall = 1
fall.envshake.time=12
fall.envshake.ampl=3
id = 4206
kill = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 19,8
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 1
value = S3,2
volume = 50

[State 111, Landing Dust Explod]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 1
anim = 7004
sprPriority = -3
posType = P1
pos = 10,0
scale = .7,.7
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
sub = 1

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(4) >= 1
value = 13348
;-------------------------------------------------------------------------------
; Dive Kick land
[Statedef 13348]
type    = S
physics = N
movetype = I
sprpriority = 1
ctrl = 0
anim = 13348

[State 0,Rocks]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1202

[State 52, stop]
type=velset
trigger1=time=0
x=0
y=0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, end]
type=changestate
trigger1= !animtime
value=0
ctrl=1
;-------------------------------------------------------------------------------
;Energy Wave Volley 1
[Statedef 13350]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 13350
poweradd = -500
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 24
movetime = 24
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 24 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S5,42
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,19
volume = 999
channel = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 5
anim = 2356
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 22
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 5
anim = 2357
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 22
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 5
anim = 2358
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 22
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, Ki Blast]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Ki Blast"
ID = 13355
stateno = 13355
pos = 18,-22
postype = p1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, Break SUB]
type = Explod
trigger1 = time = 41
anim = 2356
ID = 11356
pos = 12,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 69
scale = .2,.2
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 41
anim = 2356
ID = 11356
pos = 22,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 69
scale = .2,.2
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 37
id = 2356

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 13351
ctrl = 1
;-------------------------------------------------------------------------------
;Energy Wave Volley 2
[Statedef 13351]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 13351
poweradd = 0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10
trigger2 = animelem = 12||animelem = 14||animelem = 16||animelem = 18||animelem = 20
value = S5,44
volume = 999

[State 0, Ki Blast]
type = Helper
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10
trigger2 = animelem = 12||animelem = 14||animelem = 16||animelem = 18||animelem = 20
helpertype = normal
name = "Ki Blast"
ID = 13358
stateno = 13358
pos = 13+random%2,-22
postype = p1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 37
id = 2356

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Energy Wave Volley - Helper
[Statedef 13355]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2355
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 2357
ID = 2357
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 2358
ID = 2357
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 10,1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,6
sparkno = -1
guard.sparkno =  -1
sparkxy = -8,0
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 1
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0
id = 2355

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
id = 2355
pos = 5,(abs(enemynear,const(size.mid.pos.y))-4)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 500
trigger2 = pos y >= -5
value = S5,26
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 500
trigger2 = pos y >= -5
value = S5,26
volume = 999

[State 0, StopSnd]
type = StopSnd
trigger1 = time >= 500
trigger2 = pos y >= -5
channel = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 500
trigger2 = pos y >= -5
id = 2357

[State 200, End]
type = ChangeState
trigger1 = time >= 500
trigger2 = pos y >= -5
value = 13356
;-------------------------------------------------------------------------------
; Energy Wave Volley - Helper
[Statedef 13356]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
anim = 13356
Velset = 0,0
sprpriority = 3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = S
movetype = A
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 0
scale = 1.25,1.25

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 10,1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno =  -1
sparkxy = -8,0
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-1
air.velocity = 0,-1
Fall = 1
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0

[State 0, Break ADD]
type = Explod
trigger1= HitCount >= 9
trigger2 = time >=  100
anim = 13356
ID = 13356
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1= HitCount >= 9
trigger2 = time >=  100
value = 13357
;-------------------------------------------------------------------------------
; Energy Wave Volley - Helper
[Statedef 13357]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
anim = 13357
Velset = 0,0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
Value = 0
scale = 1.25,1.25

[State 0, Destroyself]
type = Destroyself
trigger1 = animtime =  0
;-------------------------------------------------------------------------------
; Energy Wave Volley - Helper
[Statedef 13358]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2355
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12+random%5
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 500
trigger2 = pos y >= -5
value = S5,26
volume = 999

[State 0, StopSnd]
type = StopSnd
trigger1 = pos y >= -5
channel = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y >= -5
id = 2357

[State 200, End]
type = ChangeState
trigger1 = pos y >= -5
value = 13357
;===============================================================================
; Power Charge:
;-------------------------------------------------------------------------------
; Power Charge - Start
[Statedef 13500]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 13500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 35
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,9
volume = 999
channel = 2

[State 111, Landing Dust Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7004
ID = 13500
sprPriority = -3
posType = P1
pos = 0,0
scale = .6,.6
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7023
ID = 13500
pos = 0,3
facing = -1+(random%2)*2
scale = .7, .7
postype = p1
bindtime = 1
sprpriority = -1
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 7024
ID = 13500
pos = 0,0
scale = .7, .8
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Aura Base]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 13550
stateno = 13550
pos = -5,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .2

[State 200, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 13501
;-------------------------------------------------------------------------------
; Power Charge - Fin
[Statedef 13501]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 13501
sprpriority = 2

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,3
volume = 50

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Normal Aura - Start
[Statedef 13550]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2550
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = timemod = 9,0
anim = 2550
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .3,.4
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2551)= 0
trigger1 = timemod = 9,0
anim = 2551
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .3,.4
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = timemod = 6,0
anim = 2552
ID = 2552
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .26,.3
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 13500
value = 13551
;-------------------------------------------------------------------------------
;Normal Aura - Fin
[Statedef 13551]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;===============================================================================
; A Air:
;-------------------------------------------------------------------------------
;A Air - 1
[Statedef 13600]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 13600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
fall.recovertime = 2
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13601

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13603

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 2
[Statedef 13601]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 13601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
fall.recovertime = 4
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 3
[Statedef 13602]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 13602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command =  "SUPER2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29415

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 4
[Statedef 13603]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 13601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13601

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; B Air:
;-------------------------------------------------------------------------------
;B Air - 1
[Statedef 13610]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 13601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
fall.recovertime = 5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13613

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 2
[Statedef 13611]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 13600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
fall.recovertime = 5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 3
[Statedef 13612]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 13602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command =  "SUPER2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29415

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 4
[Statedef 13613]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 13600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13601

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - Hit up
[Statedef 13615]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 13615
juggle  = 2
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2
y = -5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 10
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;X Air
[Statedef 13616]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 13602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
p2stateno = 925000
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; Rapid Dragon Punch:
;-------------------------------------------------------------------------------
; Rapid Dragon Punch
[Statedef 29000]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29000
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 7 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 7 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 7
anim = 2550
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 7
anim =2551
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 7
anim = 2552
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 13552

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 7
statetype = S
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 15
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2bodydist x < 10
trigger1 = time = [7,17]
value = 29000
elem = 4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 2
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 12,10
guardflag = MA
pausetime = 5,15
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29001

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Rapid Dragon Punch - 1
[Statedef 29001]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29001
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 13552

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 7
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20,10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-10
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29002

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rapid Dragon Punch - 2
[Statedef 29002]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 29002
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 25110
ID = 25110
pos = 8,-43
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = 8
scale = .2,.3
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20,10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-3
air.velocity = -1,-2.5
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29003

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rapid Dragon Punch - 3
[Statedef 29003]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 29003
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 3
y = -1

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 7
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 44,10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-9
air.velocity = -9,-9
Fall = 1
fall.recover = 0
p2facing = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 29004

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Rapid Dragon Punch - 4
[Statedef 29004]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 29004
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 7
time = 38
movetime = 38
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable =0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 41 || time = 42&& random<200
value = S0,23+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 41
value = S5,4+random%3
volume = 50

[State 3000, VarSet]
type = Varset
trigger1 = time = 7
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 58
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 43 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 43
anim = 27250
ID = 27250
pos = 36,-36
postype = p1
facing = 1
bindtime = -1
removetime = 8
scale = .45,.5
sprpriority = 2
ontop = 1
ownpal = 1
angle = 31
trans = addalpha
alpha = 150,256
removeongethit = 1

[State 0, Honda]
type = Helper
trigger1 = time = 43
helpertype = normal
name = "Honda"
ID = 29050
stateno = 29050
pos = 30,-10
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = .3

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rapid Dragon Punch - Helper
[Statedef 29050]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29050
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S5,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S5,10
volume = 999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -31
scale = .1+time*.2,.2+time*.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 20,40
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 200, End]
type = Destroyself
trigger1 = time = 30
trigger2 = root,stateno != 29004
;===============================================================================
; Ki Shock Wave:
;-------------------------------------------------------------------------------
; Ki Shock Wave
[Statedef 29100]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 29100
poweradd = -500
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12 || time = 26 || time =40|| time =63&& random<200
value = S0,23+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12 || time = 26 || time =40|| time =63
value = S5,4+random%3
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 12 || time =40
anim = 27250
ID = 27250
pos = 33,-40
postype = p1
facing = 1
bindtime = -1
removetime = 8
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
trans = addalpha
alpha = 150,256
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 26
anim = 27250
ID = 27250
pos = 33,-42
postype = p1
facing = 1
bindtime = -1
removetime = 8
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
trans = addalpha
alpha = 150,256
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 63
anim = 27250
ID = 27250
pos = 30,-42
postype = p1
facing = 1
bindtime = -1
removetime = 8
scale = .45,.5
sprpriority = 2
ontop = 1
ownpal = 1
trans = addalpha
alpha = 150,256
removeongethit = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 12 || time = 26 || time =40
helpertype = normal
name = "Blast"
ID = 29150
stateno = 29150
pos = -20,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 63
helpertype = normal
name = "Blast"
ID = 29155
stateno = 29155
pos = -20,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
triggerall = time >= 22
triggerall = power >= 1000
trigger1 = ailevel = 0 && command = "SUPER2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = ifelse(pos y < 0,29715,29700)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1

;-------------------------------------------------------------------------------
; Ki Shock Wave - Helper
[Statedef 29150]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 29150
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14
volume = 50

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Explod]
type = Explod
trigger1 = timemod = 1,0
anim = 7008
ID = 7008
pos = 20,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 30,10
Hitflag = MAFDE
guardflag = MA
pausetime = 0,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,10
guardsound = S5,10
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S5,14
volume = 999

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.2,.3),IfElse(Parent,Var(3)=0,.2,.3)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, End]
type = Destroyself
trigger1 = frontedgebodydist < 0
trigger2 = time >=5
trigger3 = pos y >= -5
trigger4 = movecontact

;-------------------------------------------------------------------------------
; Ki Shock Wave - Helper
[Statedef 29155]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29150
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S5,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S5,10
volume = 999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, Explod]
type = Explod
trigger1 = timemod = 1,0
anim = 7008
ID = 7008
pos = 20,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 27,40
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7,-6
air.velocity = -7,-5
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.2,.3),IfElse(Parent,Var(3)=0,.2,.3)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, End]
type = Destroyself
trigger1 = frontedgebodydist < 0
trigger2 = time >=6
trigger3 = pos y >= -5
trigger4 = movecontact
;===============================================================================
; Meteor Rush:
;-------------------------------------------------------------------------------
; Meteor Rush - start
[Statedef 29200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29200
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time >9 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 9 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 9
anim = 2550
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 9
anim =2551
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 9
anim = 2552
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 13552

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 30
[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < 5
x = 2

[State 0, ChangeState]
type =ChangeState
triggerall = p2bodydist x < 5
trigger1 = time = [9,30]
value = 29201

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 29201
ctrl = 0
;-------------------------------------------------------------------------------
; Meteor Rush - 1
[Statedef 29201]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 29201
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 13552

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 8

[State 0, VelSet]
type = Velset
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = -5,-36
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 5
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
p2facing = 1
p2stateno = 527101
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, ChangeState]
type =ChangeState
Triggerall = movehit
trigger1 = animtime = 0
value = 29202

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Rush - 2
[Statedef 29202]
type    = S
movetype= A
physics = S
juggle  =0
ctrl = 0
anim = 29202
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Light
damage    = 11
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-33
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
p2facing = 1
forcestand = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-33
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 20
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-31
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 9
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,15
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-33
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
p2facing = 1
forcestand = 1
Envshake.time = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 33
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 33
anim = 7001
ID = 7001
pos = 25,-26
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 15
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
p2facing = 1
forcestand = 1
Envshake.time = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 47
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 47 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 47
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 47
anim = 7011
ID = 7011
pos = -5,-36
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 20
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
p2facing = 1
forcestand = 1
Envshake.time = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 59 && random<400
value = S0,16+random%3
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 59
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 59
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 59
anim = 7011
ID = 7011
pos = 5,-38
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 25
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
p2facing = 1
forcestand = 1
Envshake.time = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 28
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 28
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 31
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-33
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-2
Fall = 0
p2facing = 1
forcestand = 1
p2stateno = 527101
Envshake.time = 5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 32
x = 4

[State 0, ChangeState]
type =ChangeState
trigger1 = animtime = 0
value = 29203
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Rush - 3
[Statedef 29203]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 29203
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3||animelem = 7||animelem = 10||animelem = 13||animelem = 16||animelem = 19||animelem = 22||animelem = 25||animelem = 27
x = 3

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3||animelem = 7||animelem = 10||animelem = 13||animelem = 16||animelem = 19||animelem = 22||animelem = 25||animelem = 27 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3||animelem = 7||animelem = 10||animelem = 13||animelem = 16||animelem = 19||animelem = 22||animelem = 25||animelem = 27
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
trigger1 = animelem = 3||animelem = 7||animelem = 10||animelem = 13||animelem = 16||animelem = 19||animelem = 22||animelem = 25
attr = S, NA
animtype  = Medium
damage    = 10,3
Hitflag = MAFDE
pausetime = 3,4
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10+random%20*(var(35):=75), var(36):=-5-random%40
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 200, 1]
type = HitDef
trigger1 = animelem = 27
attr = S, NA
animtype  = Medium
damage    = 10,3
Hitflag = MAFDE
pausetime = 4,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-28
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
p2stateno = 51291
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-15-random%40
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 29204
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Rush - 4
[Statedef 29204]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 29204
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 27 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 27 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 17
anim = 2550
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 17
anim =2551
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 17
anim = 2552
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 17
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 13552

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 27
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 27
x = 10
y = -.5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2bodydist x < 10
trigger1 = time = [27,37]
value = 29204
elem = 8

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 2
y = -.5

[State 0, Explod]
type = Explod
trigger1 = animelem = 8
anim = 25110
ID = 25110
pos = 30,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 3
scale = .4,.4
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 89,5
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
p2stateno = 925000
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;===============================================================================
; Dragon Twin Blast
;-------------------------------------------------------------------------------
; Dragon Twin Blast - Start
[Statedef 29300]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29300
poweradd = 0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time >5 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 5 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 5
anim = 2550
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 5
anim =2551
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(13552)= 0
trigger1 = time = 5
anim = 2552
ID = 13552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 13552

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 30

[State 0, VelSet]
type = VelSet
trigger1 = p2bodydist x < 5
x = 2

[State 0, ChangeState]
type =ChangeState
triggerall = p2bodydist x < 5
trigger1 = time = [5,25]
value = 29301

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 29301
ctrl = 0
;-------------------------------------------------------------------------------
; Dragon Twin Blast - 1
[Statedef 29301]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29301
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !Time = 0
id = 13552

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 25110
ID = 25110
pos = 8,-23
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-13
air.velocity = 0,-12
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, ChangeState]
type =ChangeState
Triggerall = movehit
trigger1 = animtime = 0
value = 29302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Dragon Twin Blast - 2
[Statedef 29302]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 29302
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, Teleport]
type = Helper
trigger1 = time = 0 || time = 6
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Pause]
type = Pause
trigger1 = (time%2) != 0 && time = 6
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1

[State 4100, Pos]
type = posadd
trigger1 = time = 3
x = p2bodydist x + 17
y = p2dist y -70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 11
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,5
air.velocity = 0,5
Fall = 1
fall.recover = 0
Envshake.time = 5
p2stateno = 1329300

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 0,0
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -90
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, ChangeState]
type =ChangeState
Triggerall = movehit
trigger1 = animtime = 0
value = 29303

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Dragon Twin Blast - 3
[Statedef 29303]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 29303
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,9
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 1150
ID = 1150
pos = -27,-37
postype = p1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
angle = -31
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 1150
ID = 1150
pos = 23,-39
postype = p1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 2
ontop = 0
ownpal = 1
angle = -31
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 18
id = 1150

[State 0, Explod]
type = Explod
trigger1 = time = 22
anim = 1150
ID = 11150
pos = -3,-4
postype = p1
bindtime = -1
removetime = 7
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
angle = -31
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 28
anim = 1150
ID = 11150
pos = -4,0
postype = p1
bindtime = -1
removetime = 6
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
angle = -31
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 33
anim = 1150
ID = 11150
pos = 5,10
postype = p1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
angle = -31
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 24
x = 0
y = 12

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 24
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S60,1
volume = 50

[State 200, End]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 29304
;-------------------------------------------------------------------------------
; Dragon Twin Blast - 4
[Statedef 29304]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 29304
poweradd = 0
velset = 0,0
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S60,1
volume = 50

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 11150

[State 0, EnvShake]
type = EnvShake
triggerall = timemod = 6,0
trigger1 = time = [0,150]
time = 5
ampl = -7

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, Blast]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Blast"
ID = 29350
stateno = 29350
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, End]
type = ChangeState
trigger1 = Time = 145
value = 29305
;-------------------------------------------------------------------------------
; Dragon Twin Blast - 5
[Statedef 29305]
type    = A
movetype= I
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29305
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
triggerall = prevstateno = 29300
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,1
volume = 50

[State 0, VelSet]
type = VelSet
triggerall = prevstateno =  29300
trigger1 = time = 0
x = -4
y = -16

[State 0, VelSet]
type = VelSet
triggerall = prevstateno !=  29300
trigger1 = time = 0
x = -7
y = -9

[State 200, End]
type = ChangeState
triggerall = prevstateno !=  29300
trigger1 = time = 20
value = 50
ctrl = 0

[State 200, End]
type = ChangeState
triggerall = prevstateno =  29300
trigger1 = time = 30
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Meteor Impact - Helper
[Statedef 29350]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 29350
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,51
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,51
volume = 9999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 2
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-5
air.velocity = 0,-5
Fall = 0
Getpower = 0,0
sprpriority = 3

[State 0, Explod]
type = Explod
triggerall = time = [0,150]
trigger1 = timemod = 2,0
anim = 7019
ID = 7019
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1-random%4
accel = 0,0
random = 200,0
removetime = -2
pausemovetime = 0
scale = (8+random%4)*.1,(8+random%4)*.1
sprpriority = -5+random%10
ontop = 0
shadow = 1,1,0
ownpal = 1
angle = 0+random%2
supermovetime = 999
removeongethit = 0

[State 0, FX]
type = Explod
triggerall = time = [0,150]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 4
scale = 2,2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0,Rocks]
type=Helper
triggerall = time = [0,150]
trigger1 = timemod = 12,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.4
size.yscale=.4

[State 200, Kamehameha - Explosion]
type = Explod
trigger1 = time = 150
anim = 25653
ID = 25653
postype = P1
pos = 0,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = ChangeState
trigger1 = time = 155
value = 29355
;-------------------------------------------------------------------------------
; Meteor Impact - Helper - Fin
[Statedef 29355]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 29355
sprpriority = 8

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 16,1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,26
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-8
air.velocity = -5,-8
Fall = 1
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(27555) = 0
trigger1 = Movehit = 1
anim = 27555
ID = 27555
postype = P2
pos = 2,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.2,1.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(26051) = 0
trigger1 = Movehit = 1
anim = 26051
ID = 26051
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = Animtime = 0
;---------------------------------------------------------------------------
;P2 State
[Statedef 1329300]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

[State 3020, 2]
type = changeanim
triggerall = var(2) = 0
trigger1 = !time
value = 5050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 1
trigger1 = !time
value = 6050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 2
trigger1 = !time
value = 12050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 3
trigger1 = !time
value = 14050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 4
trigger1 = !time
value = 16050

[State 3020, 2]
type = changeanim
triggerall = var(2) = 5
trigger1 = !time
value = 18050

[State 4005, vel Y]
type = velset
trigger1 = animelemtime(2)=0
x = 1.5
y = 25

[State 3052, Land]
type = changestate
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1329301
;---------------------------------------------------------------------------
;P2 bouncing on the ground from a.SK
[Statedef 1329301]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7026
ID = 7026
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.1
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 0
triggerall = time = 0
trigger1 = (anim != [5051,5059])+var(10) && (anim != [5061,5069])+var(10)
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = time = 0
trigger1 = (anim = [5051,5059])+var(10) || (anim = [5061,5069])+var(10)
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = (5100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 1
triggerall = time = 0
trigger1 = (anim != [6051,6059])+var(10) && (anim != [6061,6069])+var(10)
trigger2 = !SelfAnimExist(6100 + (anim % 10))
value = 6100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
trigger1 = (anim = [6051,6059])+var(10) || (anim = [6061,6069])+var(10)
trigger1 = SelfAnimExist(6100 + (anim % 10))
value = (6100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 2
triggerall = time = 0
trigger1 = (anim != [12051,12059])+var(10) && (anim != [12061,12069])+var(10)
trigger2 = !SelfAnimExist(12100 + (anim % 10))
value = 12100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
trigger1 = (anim = [12051,12059])+var(10) || (anim = [12061,12069])+var(10)
trigger1 = SelfAnimExist(12100 + (anim % 10))
value = (12100 + (anim % 10))


[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 3
triggerall = time = 0
trigger1 = (anim != [14051,14059])+var(10) && (anim != [14061,14069])+var(10)
trigger2 = !SelfAnimExist(14100 + (anim % 10))
value = 14100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = time = 0
trigger1 = (anim = [14051,14059])+var(10) || (anim = [14061,14069])+var(10)
trigger1 = SelfAnimExist(14100 + (anim % 10))
value = (14100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 4
triggerall = time = 0
trigger1 = (anim != [16051,16059])+var(10) && (anim != [16061,16069])+var(10)
trigger2 = !SelfAnimExist(16100 + (anim % 10))
value = 16100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
trigger1 = (anim = [16051,16059])+var(10) || (anim = [16061,16069])+var(10)
trigger1 = SelfAnimExist(16100 + (anim % 10))
value = (16100 + (anim % 10))

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = var(2) = 5
triggerall = time = 0
trigger1 = (anim != [18051,18059])+var(10) && (anim != [18061,18069])+var(10)
trigger2 = !SelfAnimExist(18100 + (anim % 10))
value = 18100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
trigger1 = (anim = [18051,18059])+var(10) || (anim = [18061,18069])+var(10)
trigger1 = SelfAnimExist(18100 + (anim % 10))
value = (18100 + (anim % 10))

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 10]
type = PlaySnd
trigger1 = !Time
value = f7,2

[State 5100, 5]
type = VelSet
trigger1 = AnimTime = 0
y = -8
x = 0

[State 111, 1]
type = StateTypeSet
trigger1 = AnimTime = 0
physics = A

[State 5100, 12]
type = SelfState
trigger1 = AnimTime = 0
value = 5050
;===============================================================================
; Kamehameha:
;-------------------------------------------------------------------------------
; Kamehameha - Charge
[Statedef 29400]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29400
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 6
value = S5,17
volume = 0
channel = 1

[State 0, Helper]
type = Helper
trigger1 =  time = 6
helpertype = normal
name = "charge"
ID =29430
stateno = 29430
pos = -10,-25
postype = p1
ownpal = 1
supermove = 999
pausemove = 999
sprpriority = 5
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 29432
pos = 0,0
postype = P1
stateno = 29432
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 29433
pos = 0,0
postype = P1
stateno = 29433
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 29434
pos = 0,0
postype = P1
stateno = 29434
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 111, Landing Dust Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 7004
sprPriority = -3
posType = P1
pos = 0,0
scale = .7,.7
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, StopSnd]
type = StopSnd
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
channel = 1

[State 200, End]
type = ChangeState
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
value = 29401
;-------------------------------------------------------------------------------
;  Kamehameha - Fire
[Statedef 29401]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29401
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 50

[State 3000, width]
type=width
trigger1 = 1
value = 25,0

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 1440
ID = 1440
pos = 33,-26
postype = p1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 1431
ID = 1443
pos = 60,-26
postype = p1
bindtime = -1
removetime = -1
scale = 1,.9
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 7008
ID = 7008
pos = -5,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 29450
stateno = 29450
pos = 0,-26
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 29451
stateno = 29451
pos = 0,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .1

[State 3000, 2]
type = ChangeState
trigger1 = !numhelper(29450)
value   = 29402
ctrl = 1
;-------------------------------------------------------------------------------
;  Kamehameha - End
[Statedef 29402]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29402
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1441
ID = 1441
pos = 33,-26
postype = p1
bindtime = -1
removetime = -2
scale = .1,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 8
id = 1440

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(1443)
scale = .5, ifelse(1-0.5*time<0, 0, 1-0.5*time)
id = 1443
[state 17100,remove FX]
type = removeexplod
trigger1 = time = 21
id = 1443

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Air Kamehameha:
;-------------------------------------------------------------------------------
; Air Kamehameha - Charge
[Statedef 29415]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29415
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 6
value = S5,17
volume = 0
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 1430
ID = 1430
pos = -5,-42
postype = p1
bindtime = -1
removetime =999
scale = .1,.1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 1435
ID = 1430
pos = -5,-42
postype = p1
bindtime = -1
removetime =999
scale = .7,.7
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
id = 1430

[State 0, StopSnd]
type = StopSnd
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
channel = 1

[State 200, End]
type = ChangeState
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
value = 29416
;-------------------------------------------------------------------------------
 ;Air Kamehameha - Fire
[Statedef 29416]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29416
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 50

[State 3000, width]
type=width
trigger1 = 1
value = 25,0

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 1440
ID = 1440
pos = 28,-18
postype = p1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1
angle = -31

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 7008
ID = 7008
pos = -5,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 29460
stateno = 29460
pos = 0,-26
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 29461
stateno = 29461
pos = 0,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 29463
stateno = 29463
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .1

[State 3000, 2]
type = ChangeState
trigger1 = !numhelper(29460)
value   = 29417
ctrl = 1
;-------------------------------------------------------------------------------
; Air Kamehameha - End
[Statedef 29417]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 29417
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1441
ID = 1441
pos = 33,-26
postype = p1
bindtime = -1
removetime = -2
scale = .1,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1
angle = -31

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 8
id = 1440

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(1443)
scale = .5, ifelse(1-0.5*time<0, 0, 1-0.5*time)
id = 1443
[state 17100,remove FX]
type = removeexplod
trigger1 = time = 21
id = 1443

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29430]
physics = N
anim = 9999
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29400
trigger1 = 1
pos = -10,-25
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1430
ID = 1430
pos = 1,1
postype = p1
bindtime = -1
removetime =999
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1435
ID = 1435
pos = 1,1
postype = p1
bindtime = -1
removetime =999
scale = .7,.7
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1436
ID = 1436
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = .3,.3
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 10
ID = 1430
scale = (time*0.0075),(time*0.0075)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 10
ID = 1430
scale = .1,.1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 29400
trigger2 = root,movetype = H

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 29400
trigger2 = root,movetype = H
id = 1436

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 29400
trigger2 = root,movetype = H
;---------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29432]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29400
trigger1 = !time
pos = -10,-25
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29415
trigger1 = !time
pos = -5,-42
ignorehitpause = 1

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 64-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 29400
;---------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29433]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29400
trigger1 = !time
pos = -10,-25
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29415
trigger1 = !time
pos = -5,-42
ignorehitpause = 1

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 184-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 29400
;---------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29434]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29400
trigger1 = !time
pos = -10,-25
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 29415
trigger1 = !time
pos = -5,-42
ignorehitpause = 1

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 304-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 29400
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29450]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 1451
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 7014
ID = 7014
pos = 40,-10
postype = p1
facing = 1
vfacing = 1
vel = -5,0
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 1,0
anim = 7008
ID = 7008
pos = 20,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 1450
ID = 1450
pos = 10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
velocity = 20,0
scale = .3,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 2
anim = 1450
ID = 1451
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
velocity = 20,0
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25450
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 10
trigger1 = 1
attr = SCA, HP
Hitflag = MAFDE
guardflag = MA
animtype  = Heavy
damage    = 11,2
pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = -5-random%40 + 0*(var(35):=75), var(36):=-0-random%40
hitsound   = S1,10+random%3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
air.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
fall =1
Getpower = 0,0
sprpriority = 3
id = 27450

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.1,.2),IfElse(Parent,Var(3)=0,.1,.2)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[state 17100,remove FX]
type = removeexplod
trigger1 = root,stateno != 29401
id = 1450

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 29401

[State 0, ChangeState]
type = ChangeState
trigger1= HitCount >= 10
trigger2 = time >=  100; Maximum time duration. This is even avoid bugs.
trigger3 = numtarget(29450)
trigger3 = target(29450), movetype != H
trigger4 = moveguarded
value = 29452
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29451]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1452
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-26

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 4
statetype = S
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 54
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .01+time*.13 , 1.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*25,256

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
trigger2 = root,stateno != 29401
value = 29453
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29452]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 0
id = 1451

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 35
id = 1450

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !time
attr = A, SP
animtype  = Heavy
damage    = 58,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = 1+0*(var(33):=8001)**0
guard.sparkno = 1+0*(var(34):=8010)
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
numhits = 0
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Kamehameha - Explosion]
type = Explod
triggerall = Numexplod(1454) = 0
trigger1 = Movehit = 1
anim = 1454
ID =1454
postype = P2
pos = 0,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 35
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29453]
type    = A
movetype= A
physics = N
ctrl = 0
Velset = 0,0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 20+time*.13 , .9-time*.075

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29460]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 1450
ID = 1450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ontop = 1
angle = -31
ownpal = 1
removeongethit = 1
[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 1450
ID = 1450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ontop = 1
angle = -31
ownpal = 1
removeongethit = 1
[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 1450
ID = 1450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ontop = 1
angle = -31
ownpal = 1
removeongethit = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 3005, Vel]
type = velset
trigger1 = 1
x = 19.5
y = 12.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1450
time = 999999999999999999999999999999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 100
trigger2 = root,stateno != 29416
id = 1450

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
trigger2 = root,stateno != 29416
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29461]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1452
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 48,-5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 4
statetype = S
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 54
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .01+time*.14 ,  1.1
value = -31

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*25,256

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
trigger2 = root,stateno != 29416
value = 29462
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29462]
type    = A
movetype= A
physics = N
ctrl = 0
Velset = 0,0
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 48,-5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 20+time*.13 , 1-time*.075
value = -31

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10
;-------------------------------------------------------------------------------
;Kamehameha - Helper
[Statedef 29463]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 27773
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 18,-30

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 29660
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 10
trigger1 = 1
attr = SCA, HP
Hitflag = MAFDE
guardflag = MA
animtype  = Heavy
damage    = 11,2
pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = -5-random%40 + 0*(var(35):=75), var(36):=-0-random%40
hitsound   = S1,10+random%3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
air.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
fall =1
Getpower = 0,0
sprpriority = 3
id = 29460

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.2,.3),IfElse(Parent,Var(3)=0,.2,.3)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 29416

[State 0, ChangeState]
type = ChangeState
trigger1= HitCount >= 10
trigger2 = time >=  100; Maximum time duration. This is even avoid bugs.
trigger3 = numtarget(29460)
trigger3 = target(29460), movetype != H
trigger4 = moveguarded
value = 29452
;===============================================================================
;  Super Explosive Wave:
;-------------------------------------------------------------------------------
;  Super Explosive Wave - Start
[Statedef 29500]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29500
poweradd = -500
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11||time = 12
value = S0,32
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11||time = 12
value = S0,32
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11||time = 12
value = S5,52
channel = 5
volume = 999
loop = 1

[State 0, Super Explosive Wave]
type = Helper
trigger1 = time = 11
helpertype = Normal
name = "Super Explosive Wave"
ID = 29550
stateno = 29550
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Honda FX]
type = Helper
trigger1 = time = 11
helpertype = normal
name = "FX"
ID = 29530
stateno = 29530
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, Super Explosive Wave]
type = Helper
trigger1 = time > 11 && timemod = 2,0
helpertype = normal
name = "Forma"
ID = 29532
stateno = 29532
pos = 0
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .2
Supermovetime = 9999
Supermove = 9999
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 11 && numhelper(29550) > 0 && timemod = 10,0
value = 29500
elem = 4

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelem != 6
triggerall = animelem != 7
triggerall = animelem != 8
trigger1 = time > 11 && numhelper(29550) = 0
value = 29550
elem = 6

[State 200, End]
type = ChangeState
triggerall = time >= 15
triggerall = power >= 1000
trigger1 = ailevel = 0 && command = "SUPER2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = ifelse(pos y < 0,29715,29700)

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 29501
ctrl = 1
;-------------------------------------------------------------------------------
;  Super Explosive Wave - end
[Statedef 29501]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29501
poweradd = 0
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 5

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 29530]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29530
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Changestate
trigger1 = root,animelem = 6
trigger2 = root,stateno != 29500
value = 951
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 29531]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 29532]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29531
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = .5+time*.5,.5+time*.5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-35

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = root,stateno != 29500
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 29550]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 29550
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,24
volume = 999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = S
movetype = A
physics = N

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-35

[State 200, 1]
type = HitDef
triggerall = hitcount < 10
trigger1 = timemod = 4,0
attr = A, SA
animtype  = Heavy
damage    = 10,1
Hitflag = MAFDE
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,14
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,0.5,-0.5),0
air.velocity = ifelse(p2bodydist x < -10,0.5,-0.5),ifelse(time > 40,-2,-2)
Fall = 1
fall.recover = 0
Getpower = 0,0

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 29500

[State 200, End]
type = ChangeState
trigger1 = time = 60
value = 29555
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 29555]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !time
attr = A, SP
animtype  = Heavy
damage    = 23,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,4,-4),-4
air.velocity = ifelse(p2bodydist x < -10,4,-4),-4
numhits = 0
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Kamehameha - Explosion]
type = Explod
triggerall = Numexplod(455) = 0
trigger1 = Movehit = 1
anim = 455
ID =455
postype = P2
pos = 0,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = time = 35

