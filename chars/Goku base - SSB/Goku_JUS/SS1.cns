;===============================================================================
;----------------------SS1------------------------------------------------------
;===============================================================================
;-------------------------------------------------------------------------------
; Aura Permanente SS1
[Statedef 565]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Aura Up]
type = Explod
trigger1 = time%5= 2
anim = 7640
ID = 7640
pos = -3+random%15,0-random%40
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7641,ifelse(random>500,7643,7642))
ID = 7640
pos = ifelse(random>500,3,ifelse(random>500,-3,6)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7641,ifelse(random>500,7643,7642))
ID = 7640
pos = ifelse(random>500,2,ifelse(random>500,-2,5)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,-1, 1),-2
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 5110
trigger2 = root,stateno = 1300 && root,time = [35,45]
trigger3 = root,stateno = 181 && root,time > 60
id = 560

[State 200, End]
type = Destroyself
trigger1 = root,var(2) != 1
;===============================================================================
; SS1:
;-------------------------------------------------------------------------------
; SS1 - Start
[Statedef 700]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,9
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,4
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 80
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 30
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [32,80]
trigger1 = timemod = 10,0
value = anim
elem = 7

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [80,150]
trigger1 = timemod = 10,0
value = anim
elem = 9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 150
value = anim
elem = 12

[State 0, FX]
type = Explod
triggerall = time = [30,207]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = -2
scale = .7,.5
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 175
movetime = 175
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 207
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 197 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 550
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 551
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 552
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 80
id = 550

[State 0, Aura Base]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Aura"
ID = 750
stateno = 750
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = .3
size.yscale = .3

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 80
helpertype = Normal
name = "SS1 Activate"
ID = 760
stateno = 760
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===============================================================================
; SS1:
;-------------------------------------------------------------------------------
; SS1 - Start
[Statedef 701]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 701
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,9
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S6,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 80
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 30
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [27,200]
trigger1 = timemod = 20,0
value = S5,28
volume = 50

[State 0, FX Raio]
type = Explod
triggerall = time = [27,200]
trigger1 = timemod = 8,0
anim = 7018
ID = 7018
pos = -100+random%200,40-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, FX]
type = Explod
triggerall = time = [10,306]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = -2
scale = .7,.5
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 306
movetime = 306
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 306
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 306 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 3
anim = 550
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 3
anim = 551
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 3
anim = 552
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 31
id = 550

[State 0, Aura Base]
type = Helper
trigger1 = time = 31
helpertype = normal
name = "Aura"
ID = 750
stateno = 750
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = .3
size.yscale = .3

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 91
helpertype = Normal
name = "SS1 Activate"
ID = 760
stateno = 760
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 306
value = 2501
ctrl = 1
;===============================================================================
; SS1:
;-------------------------------------------------------------------------------
; SS1 - Start
[Statedef 702]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 702
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S5,49
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S5,49
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S0,57
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S0,57
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S0,57
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 83
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 93
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, FX]
type = Explod
triggerall = time = [93,207]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = -2
scale = .7,.5
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, FX]
type = Explod
trigger1 = time = 83
anim = 7610
ID = 7610
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
trigger1 = time = 83
anim = 7610
ID = 7610
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 207
movetime = 207
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 207
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 207 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Aura Base]
type = Helper
trigger1 = time = 98
helpertype = normal
name = "Aura"
ID = 750
stateno = 750
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = .3
size.yscale = .3

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 93
helpertype = Normal
name = "SS1 Activate"
ID = 760
stateno = 760
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 207
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; SS1 - Fin
[Statedef 705]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 705
sprpriority = 2

[State 0, Aura]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Aura"
ID = 751
stateno = 751
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .2
supermovetime = 999

[State 0, SS1 Desactivado]
type = Helper
trigger1 = time = 8
helpertype = Normal
name = "SS1 Desactivado"
ID = 761
stateno = 761
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Normal Aura - Start
[Statedef 750]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2550
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = timemod = 9,0
anim = 2550
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2551)= 0
trigger1 = timemod = 9,0
anim = 2551
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = timemod = 6,0
anim = 2552
ID = 2552
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 700
trigger1 = root,stateno != 701
trigger1 = root,stateno != 702
trigger1 = root,stateno != 2190

[State 200, End]
type = Changestate
trigger1 = root,stateno != 700 && time >= 150
trigger1 = root,stateno != 701 && time >= 306
trigger1 = root,stateno != 702 && time >= 207
trigger1 = root,stateno != 2190 && time >= 150
value = 751
;-------------------------------------------------------------------------------
;Normal Aura - Fin
[Statedef 751]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; SS1 - Activado
[Statedef 760]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = ifelse(ailevel > 0,time >= 1000,time >= 1)
;-------------------------------------------------------------------------------
; SS1 - Desactivado
[Statedef 761]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; A - 1
[Statedef 2200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2200
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-10
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -7,-10
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=8)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2201

[State 200, End]
type = ChangeState
triggerall = (time>=8)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 2201]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2201
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 8
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -7,-30
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2202

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 2202]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2202
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 8
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2203

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 2203]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2203
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type =null; ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2340

[State 201, ChangeState]
type = ChangeState
triggerall = (command="a");&&hitshakeover
triggerall = command != "holddown"
trigger1 = ailevel = 0 && (movecontact)
;trigger2 = (time>=14)
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2204

[State 200, End]
type = ChangeState
triggerall = (command="b");&&hitshakeover
triggerall = command != "holddown"
trigger1 = ailevel = 0 && (movecontact)
;trigger2 = (time>=14)
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2214

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 5
[Statedef 2204]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2204
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 12
anim = 7011
ID = 7011
pos = 5,-33
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.1
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-6
air.velocity = -5,-5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -27,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; B - 1
[Statedef 2210]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2210
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 25,-29
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2201

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 2
[Statedef 2211]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2211
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = -5,-36
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2202

[State 200, End]
type = ChangeState
triggerall = (time>=10)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 3
[Statedef 2212]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2212
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 6
anim = 7011
ID = 7011
pos = 5,-38
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-6
Fall = 0
fall.recovertime = 20
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -8,-20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2203

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 4
[Statedef 2213]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2213
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -5,-20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2204

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2214

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 1
[Statedef 2214]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2214
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2340

[State 201, ChangeState]
type = ChangeState
triggerall = (command="a")&&hitshakeover
triggerall = command != "holddown"
trigger1 = ailevel = 0 && (movecontact)
trigger2 = (time>=11)
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2204

[State 200, End]
type = ChangeState
triggerall = (command="b")&&hitshakeover
triggerall = command != "holddown"
trigger1 = ailevel = 0 && (movecontact)
trigger2 = (time>=10)
trigger3 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2215

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 5
[Statedef 2215]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2215
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 3

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,20
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7016
ID = 7016
pos = 7,-5
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-5
air.velocity = -5,-5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -25,-35
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; Low Punch
[Statedef 2300]
type = C
movetype = A
physics = C
anim = 2300
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -7,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; Low Kick
[Statedef 2301]
type = C
movetype = A
physics = C
anim = 2301
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = C, NA
animtype = Back
damage    = 10
hitflag = MAF
guardflag = L
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -1,-2
guard.velocity = -4.5
air.velocity = -2,-5
ground.type = Trip
ground.slidetime = 14
fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -7,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2212

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; Uppercutt
[Statedef 2302]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2302
poweradd = 40
velset = 0,0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 9
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 3
y = -5.5

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<400
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -20,-40
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 2330]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 2330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 2550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 2331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 2331
ctrl = 0

;-------------------------------------------------------------------------------
; Dragon Rush - Hit OK
;-------------------------------------------------------------------------------
[Statedef 2331]
type    = A
movetype= A
physics = A
velset = 0,0
ctrl = 0
anim = 2331
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3
y = -6
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2600

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2610

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 2332]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 2330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = time = 10
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 2550

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 2331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 2331
ctrl = 0
;-------------------------------------------------------------------------------
; Sledgehammer - 1
[Statedef 2335]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2340
poweradd = 30
velset = 0,0
sprpriority = 2

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer - 2
[Statedef 2340]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 2340
poweradd = 30
velset = 0,0
sprpriority = 2

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2341

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 1
[StateDef 2341]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 2341
poweradd = 0
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x =  ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 2342
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush 2
[Statedef 2342]
type = S
movetype = A
physics = S
anim = 2342
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 1
anim = 7016
ID = 7016
pos = -10,-10
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 =!time
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,13+random%2
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-23
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2343

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
; Sledgehammer Rush 3
[StateDef 2343]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 2341
poweradd =0
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = ifelse(P2Dist Y < 0,-8, -8-abs(P2Dist Y*.1))

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 2344
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush 4
[Statedef 2344]
type = A
movetype = A
physics = N
juggle = 0
anim = 2344
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 3
anim = 7011
ID = 7011
pos = 13,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .12,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,14
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-13
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2345

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------------------------------------------------------------------
; Sledgehammer Rush 5
[StateDef 2345]
type = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 2341
poweradd = 0
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2550
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2551
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(2550)= 0
trigger1 = time = 3
anim = 2552
ID = 2550
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,14, 12+abs(P2Dist x*.1))
y = target, Vel Y

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 2346
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush 6
[Statedef 2346]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 2602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 0

[State 0, VelMul]
type = VelMul
trigger1 = AnimElem = 3,>1
x = -.85
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 2550

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-25
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2347

[State 200, End]
type = ChangeState
Triggerall = movecontact
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2350

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Dive Kick:
[Statedef 2347]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 2347
poweradd = 0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,45
volume = 50

[State 1200, Vel]
type = velset
trigger1 = animelemtime(2) = 1
x = 6
y = 8

[State 270, hit]
type=hitdef
triggerall = !movecontact
trigger1 = 1
attr = A, HA
damage = 100,0
Hitflag = MAFDE
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 4,Hit
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-15
hitsound = s1,13
guardsound = S4,1
ground.type = High
pausetime = 15,15
ground.slidetime = 20+3
ground.hittime = 20+3
air.hittime = 20+3
guard.ctrltime = 20-3
guard.hittime = 20-3
ground.velocity =  -3, 8
guard.velocity = -9.33
air.velocity = -3, 8
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -7
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
envshake.time=12
envshake.ampl=3
yaccel = .5
sprpriority = 3
air.fall = 1
down.velocity = 0,0
down.bounce = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall.recover = 1
fall.recovertime = 10
fall = 1
fall.envshake.time=12
fall.envshake.ampl=3
id = 4206
kill = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 19,8
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
value = S3,2
volume = 50

[State 111, Landing Dust Explod]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7004
sprPriority = -3
posType = P1
pos = 10,0
scale = .7,.7
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
sub = 1

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
value = 2348
;-------------------------------------------------------------------------------
;Dive Kick - land
[Statedef 2348]
type    = S
physics = N
movetype = I
sprpriority = 1
ctrl = 0
anim = 2348

[State 0,Rocks]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 1202

[State 52, stop]
type=velset
trigger1=time=0
x=0
y=0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, end]
type=changestate
trigger1= !animtime
value=0
ctrl=1
;-------------------------------------------------------------------------------
; Energy Meteor
[Statedef 2350]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 2350
poweradd = -500
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 33
movetime = 33
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 24 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S5,42
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,19
volume = 999
channel = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 2
anim = 2356
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 22
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 5
anim = 2357
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 5
anim = 2358
ID = 2356
pos = 18,-22
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 24
anim = 2355
ID = 2356
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 24
anim = 2357
ID = 2356
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 24
anim = 2358
ID = 2356
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 27
anim = 2355
ID = 2356
pos = -22,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 27
anim = 2357
ID = 2356
pos = -22,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1
[State 0, Break ADD]
type = Explod
trigger1 = time = 27
anim = 2358
ID = 2356
pos = -22,-65
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
supermovetime = 999
ownpal = 1

[State 0, Ki Blast]
type = Helper
trigger1 = time = 37
helpertype = normal
name = "Ki Blast"
ID = 2355
stateno = 2355
pos = -5,-50
postype = p1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 37
id = 2356

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Energy Meteor - helper
[Statedef 2355]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 2355
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 2357
ID = 2357
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 2358
ID = 2357
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 100,4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = -8,0
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 1
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0
id = 2355

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
id = 2355
pos = 5,(abs(enemynear,const(size.mid.pos.y))-4)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 500
trigger2 = pos y >= -5
value = S5,26
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 500
trigger2 = pos y >= -5
value = S5,26
volume = 999

[State 0, StopSnd]
type = StopSnd
trigger1 = time >= 500
trigger2 = pos y >= -5
channel = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 500
trigger2 = pos y >= -5
id = 2357

[State 200, End]
type = ChangeState
trigger1 = time >= 500
trigger2 = pos y >= -5
value = 455
;===============================================================================
; Power Charge:
;-------------------------------------------------------------------------------
; Power Charge - Start
[Statedef 2500]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 35
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,9
volume = 999
channel = 2

[State 111, Landing Dust Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7004
sprPriority = -3
posType = P1
pos = 0,0
scale = .5,.5
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7023
ID = 7023
pos = 0,3
facing = -1+(random%2)*2
scale = .6, .6
postype = p1
bindtime = 1
sprpriority = -1
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 7024
ID = 7024
pos = 0,0
scale = .5, .6
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Aura Base]
type = Helper
triggerall = var(2) = 1
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 2550
stateno = 2550
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .2

[State 200, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 2501
;-------------------------------------------------------------------------------
; Power Charge - Fin
[Statedef 2501]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2501
sprpriority = 2

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,3
volume = 50

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Normal Aura - Start
[Statedef 2550]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2550
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(2550)= 0
trigger1 = timemod = 9,0
anim = 2550
ID = 2550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2551)= 0
trigger1 = timemod = 9,0
anim = 2551
ID = 2551
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = timemod = 6,0
anim = 2552
ID = 2552
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 2500
value = 2551
;-------------------------------------------------------------------------------
;Normal Aura - Fin
[Statedef 2551]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;===============================================================================
; A Air:
;-------------------------------------------------------------------------------
;A Air - 1
[Statedef 2600]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 2600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
fall.recovertime = 2
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2601

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2603

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 2
[Statedef 2601]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 2601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
fall.recovertime = 4
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 3
[Statedef 2602]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 2602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 4
[Statedef 2603]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 2601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2601

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; B Air:
;-------------------------------------------------------------------------------
;B Air - 1
[Statedef 2610]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 2601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
fall.recovertime = 2
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2613

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 2
[Statedef 2611]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 2600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
fall.recovertime = 4
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 3
[Statedef 2612]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 2602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 4
[Statedef 2613]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 2600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2601

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air -  Hit up
[Statedef 2615]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 2615
juggle  = 2
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2
y = -4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 10
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;X Air
[Statedef 2616]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 2602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
p2stateno = 925000
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Dragon Flash Fist
[Statedef 25000]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 25000
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = time = 3
anim = 7002
ID = 7002
pos = -8,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 2 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 2 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 1
anim = 2550
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 1
anim =2551
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 1
anim = 2552
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 2552

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 3
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
x = 30
y = -1.5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2bodydist x < 10
trigger1 = time = [3,13]
value = 25000
elem = 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = 2
y = .3

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 25110
ID = 25110
pos = 30,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 3
scale = .4,.4
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 105,30
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
p2stateno = 925000
Envshake.time = 5


[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = power >= 1000
trigger1 = ailevel = 0 && command = "SUPER2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 25715

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; P2 Hacia la Pared
[Statedef 925000]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 13
x = -8
y = 8

[State 820, 1]
type=ChangeAnim
triggerall = var(2) = 0
trigger1 = 1
value = 5100
elem = 1

[State 0, ChangeAnim2]
type=ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 6100
elem = 1

[State 0, ChangeAnim2]
type=ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
value = 12100
elem = 1

[State 0, ChangeAnim2]
type=ChangeAnim
triggerall = var(2) = 3
trigger1 = time = 0
value = 14100
elem = 1

[State 0, ChangeAnim2]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 16100
elem = 1

[State 0, ChangeAnim2]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 18100
elem = 1

[State 200, End]
type = ChangeState
trigger1 = pos y > -5
value = 925001

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 925002
;-------------------------------------------------------------------------------
; P2 slide
[Statedef 925001]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 581

[State 0, VelSet]
type = VelSet
trigger1 = time < 50
x = -3
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = time < 40
value = 5101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = time > 40
value = 5110
elem = 1

[State 200, End]
type = Selfstate
triggerall = alive
trigger1 = time = 60
value = 5120

[State 200, End]
type = Selfstate
triggerall = !alive
trigger1 = time = 60
value = 5150
;----
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time < 15
value = 6101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time > 50
value = 6110
elem = 1
;----
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time < 50
value = 12101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time > 50
value = 12110
elem = 1
;----
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = time < 50
value = 14101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = time > 50
value = 14110
elem = 1
;----
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time < 50
value = 16101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time > 50
value = 16110
elem = 1
;----
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time < 50
value = 18101
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time > 50
value = 18110
elem = 1

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 925002
;-------------------------------------------------------------------------------
; Combo 3 Air - P2 Fin
[Statedef 925002]
type    = A
movetype= H
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -4
x = 3

[State 200, End]
type = selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; Dragon Rapid Kick
[Statedef 25100]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 25100
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 4.5
y = -4.5

[State 0, VelAdd]
type = VelAdd
trigger1 = time = [7,26]
x = .1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = [14,46]
y = -.4

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 55
x = -1
y = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S0,53+random%2
volume = 0

[State 0, Explod]
type = Explod
trigger1 = time = 7 || time = 29 || time = 51
anim = 25110
ID = 25110
pos = 2,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 16 || time = 38
anim = 25110
ID = 25110
pos = 10,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 3
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 || animelem = 10|| animelem = 15|| animelem =20|| animelem =25
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
trigger1 = animelem = 5 || animelem = 10|| animelem = 15|| animelem =20
attr = S, NA
animtype  = Light
damage    = 20,5
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10+random%20*(var(35):=75), var(36):=-5-random%40
hitsound   =  S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.5,-5
air.velocity = -1.5,-2
forcestand = 1
getpower = 0,0
Fall = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 25
attr = S, NA
animtype  = Light
damage    = 40,5
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10+random%20*(var(35):=75), var(36):=-5-random%40
hitsound   =  S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8.5,-5
air.velocity = -8.5,-2
forcestand = 1
getpower = 0,0
Fall = 1
fall.recover = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit
anim = 8005
ID = 8005
pos = -15+random%20,-25-random%5
postype = p2
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;===============================================================================
; Wild Senses:
;-------------------------------------------------------------------------------
; Wild Senses:
[Statedef 25200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25200
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,18
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,18
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,5
volume = 50

[State 0, HitOverride]
type = HitOverride
trigger1 = (p2bodydist x > 30)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25201
time = 25

[State 0, HitOverride]
type = HitOverride
trigger1 = (p2bodydist x < 30)
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25210
time = 25

[State 111, Landing Dust Explod]
type = Explod
trigger1 = time = 5
anim = 7004
sprPriority = -3
posType = P1
pos = 0,0
scale = .5,.5
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 7024
ID = 7024
pos = 0,0
scale = .4, .3
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Wild Senses - 1
[Statedef 25201]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25201
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 8

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = -5
y = 0

[State 0, Pause]
type = Pause
trigger1 = time = 3
time = 5
movetime = 5

[State 4100, Pos]
type = posadd
trigger1 = time = 3
x = p2dist x + 20
y = floor(-pos y)

[State 0, Teleport]
type = Helper
trigger1 = time = 2 || time = 8
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
trigger1 = time = 14
attr = S, NA
animtype  = Light
damage    = 100,30
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   =  S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-9
forcestand = 1
getpower = 0,0
Fall = 1
fall.recover = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -8,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, ChangeState]
type =ChangeState
Triggerall = movehit
trigger1 = animtime = 0
value = 25202

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Wild Senses - 2
[Statedef 25202]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 25202
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 8

[State 0, Pause]
type = Pause
trigger1 = time = 3
time = 5
movetime = 5

[State 4100, Pos]
type = posadd
trigger1 = time = 3
x = p2dist x +45
y = p2dist y -40

[State 0, Teleport]
type = Helper
trigger1 = time = 2 || time = 8
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
trigger1 = time = 14
attr = S, NA
animtype  = Light
damage    = 25,10
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-10
hitsound   =  S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5,9
air.velocity = -2.5,8
forcestand = 1
getpower = 0,0
Fall = 1
fall.recover = 0
p2stateno = 1329300

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -8,-10
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Wild Senses - 3
[StateDef 25210]
type = S
physics = N
ctrl = 0
poweradd = 0
sprpriority = 2
velset = 3,0
anim = 25210

[State 0]
type = SuperPause
trigger1 = animelem = 1
time = 30
anim = -1
movetime = 30
darken = 0

[state 0]
type = turn
trigger1 = p2dist x < 0

[state 0]
type = playsnd
trigger1 = animelem = 1
value = S40,1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 25211
ctrl = 0
;-------------------------------------------------------------------------------
; Wild Senses - 4
[Statedef 25211]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25211
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,33
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,33
volume = 50

[State 0, Kamehameha]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Beam"
ID = 25240
stateno = 25240
pos = 20-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Beam"
ID = 25241
stateno = 25241
pos = 20-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 25212
ctrl = 0
;-------------------------------------------------------------------------------
; Wild Senses - 5
[Statedef 25212]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25212
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S0,15
volume = 500
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S0,15
volume = 500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S0,14
volume = 500
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 44
value = S0,14
volume = 500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22 || time = 44
value = S5,25
volume = 500

[State 0, Ki Blast]
type = Helper
trigger1 = time = 24
helpertype = normal
name = "Ki Blast"
ID = 25250
stateno = 25250
pos = 25,-40
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Ki Blast]
type = Helper
trigger1 = time = 44
helpertype = normal
name = "Ki Blast"
ID = 25251
stateno = 25251
pos = 20,-40
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Wild Senses - helper
[Statedef 25240]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 25240
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 20,-40

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 4
statetype = S
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 54
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6 , .1+time*.075
value = -90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*25,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = root,stateno != 25211
value = 28052
;-------------------------------------------------------------------------------
; Wild Senses - helper
[Statedef 25241]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 28050
ctrl = 0
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 110,-40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25450
time = 999999999999999999999999999999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 1
trigger1 = 1
attr = SCA, HP
Hitflag = MAFDE
guardflag = MA
animtype  = Heavy
damage    = 69,20
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound   = S1,10+random%3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,IfElse(HitCount>=1,-2,-0)
air.velocity = -4,IfElse(HitCount>=1,-2,-0)
fall =1
Getpower = 0,0
sprpriority = 3
id = 25211
p2stateno = 527600

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.1,.2),IfElse(Parent,Var(3)=0,.1,.2)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, DestroySelf]
type = DestroySelf
triggerall = time >=  44
trigger1 = root,stateno != 25211
;-------------------------------------------------------------------------------
; Wild Senses - helper
[Statedef 25250]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 25250
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 12
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 3
y = -1.4

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 6
y = 5.5

[State ****: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist X < 0) && (Vel X > -3)
x = -2

[State ****: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist X > 0) && (Vel X < 3)
x = 2

[State ***1: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist Y > 30) && (Vel Y < 2)
y = 2

[State ***3: VelAdd]
type = VelAdd
triggerall = time >= 9
trigger1 = (P2Dist Y < 30) && (Vel Y > -2)
y = -2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 32,16
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2,-2
Fall = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.1,.2),IfElse(Parent,Var(3)=0,.1,.2)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 455
;-------------------------------------------------------------------------------
; Wild Senses - helper
[Statedef 25251]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 25250
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 15
y = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 3
y = 1.4

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 6
y = -3.5

[State ****: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist X < 0) && (Vel X > -3)
x = -2

[State ****: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist X > 0) && (Vel X < 3)
x = 2

[State ***1: VelAdd]
type = VelAdd
trigger1 = time >= 9
trigger1 = (P2Dist Y > 30) && (Vel Y < 2)
y = 2

[State ***3: VelAdd]
type = VelAdd
triggerall = time >= 9
trigger1 = (P2Dist Y < 30) && (Vel Y > -2)
y = -2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 32,16
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.1,.2),IfElse(Parent,Var(3)=0,.1,.2)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 455
;-------------------------------------------------------------------------------
; Meteor Attack
[Statedef 25300]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 25300
poweradd = 30
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 2 && pos y = 0
anim = 7008
ID = 7008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aspas]
type = Explod
trigger1 = timemod = 2,0 && time > 2 && pos y < 0
anim = 7007
ID = 7007
pos = -10+random%20,-10-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 6
anim = 2550
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 6
anim =2551
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(2552)= 0
trigger1 = time = 6
anim = 2552
ID = 2552
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 5
id = 2552

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 30

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2bodydist x < 10
trigger1 = time = [6,16]
value = 25300
elem = 5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 2

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25,10
guardflag = MA
pausetime = 5,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 25301

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Attack 1
[Statedef 25301]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 25301
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25,10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -8,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 25302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Attack 2
[Statedef 25302]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 25302
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA
animtype  = Light
damage    = 40,30
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   =  S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-9
forcestand = 1
getpower = 0,0
Fall = 1
fall.recover = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -8,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 25303
ctrl = 1
;-------------------------------------------------------------------------------
; Meteor Attack 3
[Statedef 25303]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 25303
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 8

[State 0, Pause]
type = Pause
trigger1 = time = 3
time = 5
movetime = 5

[State 4100, Pos]
type = posadd
trigger1 = time = 3
x = p2dist x +45
y = p2dist y -40

[State 0, Teleport]
type = Helper
trigger1 = time = 2 || time = 8
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
trigger1 = time = 14
attr = S, NA
animtype  = Light
damage    = 42,10
guardflag = MA
pausetime = 3,3
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-10
hitsound   =  S1,13+random%2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5,9
air.velocity = -2.5,8
forcestand = 1
getpower = 0,0
Fall = 1
p2stateno = 5450
fall.recover = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-15
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;===============================================================================
; Kamehameha:
;-------------------------------------------------------------------------------
; Kamehameha - Charge
[Statedef 25400]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25400
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time = 6
value = S5,17
volume = 0
channel = 1

[State 0, Helper]
type = Helper
trigger1 =  time = 6
helpertype = normal
name = "charge"
ID =25430
stateno = 25430
pos = -10,-25
postype = p1
ownpal = 1
supermove = 999
pausemove = 999
sprpriority = 5
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 25432
pos = 0,0
postype = P1
stateno = 25432
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 25433
pos = 0,0
postype = P1
stateno = 25433
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 7500, Super]
type = Helper
trigger1 =  time = 6
name = "charge"
id = 25434
pos = 0,0
postype = P1
stateno = 25434
helpertype = normal
keyctrl = 0
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
size.xscale = 1
size.yscale = 1

[State 111, Landing Dust Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 7004
sprPriority = -3
posType = P1
pos = 0,0
scale = .7,.7
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, StopSnd]
type = StopSnd
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
channel = 1

[State 200, End]
type = ChangeState
triggerall = time >= 11
trigger1 = command != "hold_c"
trigger2 = time = 60
value = 25401
;-------------------------------------------------------------------------------
; Kamehameha - fire
[Statedef 25401]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25401
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 50

[State 3000, width]
type=width
trigger1 = 1
value = 25,0

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 1440
ID = 1440
pos = 33,-26
postype = p1
bindtime = -1
removetime = -1
scale = .3,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 1431
ID = 1443
pos = 60,-26
postype = p1
bindtime = -1
removetime = -1
scale = 1,.9
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[State 0, Explod]
type = Explod
trigger1 = animelem=2
anim = 7008
ID = 7008
pos = -5,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 25450
stateno = 25450
pos = 0,-26
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .1

[State 0, Kamehameha]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Kamehameha"
ID = 25451
stateno = 25451
pos = 0,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .1

[State 3000, 2]
type = ChangeState
trigger1 = !numhelper(25450)
value   = 25402
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha - end
[Statedef 25402]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25402
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 1441
ID = 1441
pos = 33,-26
postype = p1
bindtime = -1
removetime = -2
scale = .1,.2
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime = -1

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 8
id = 1440

[state 17100,scale FX]
type = modifyexplod
trigger1 = numexplod(1443)
scale = .5, ifelse(1-0.5*time<0, 0, 1-0.5*time)
id = 1443
[state 17100,remove FX]
type = removeexplod
trigger1 = time = 21
id = 1443

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Kamehameha - helper
[Statedef 25430]
physics = N
anim = 9999
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 25400
trigger1 = 1
time = 1
pos = -10,-25
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1430
ID = 1430
pos = 1,1
postype = p1
bindtime = -1
removetime =999
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1435
ID = 1435
pos = 1,1
postype = p1
bindtime = -1
removetime =999
scale = .7,.7
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1436
ID = 1436
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = .3,.3
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 10
ID = 1430
scale = (time*0.0075),(time*0.0075)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 10
ID = 1430
scale = .1,.1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 25400
trigger2 = root,movetype = H

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 25400
trigger2 = root,movetype = H
id = 1436

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 25400
trigger2 = root,movetype = H
;---------------------------------------------------------------------------
; Kamehameha - helper
[Statedef 25432]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 7501, 0]
type = BindToParent
trigger1 = 1
pos = -10,-25

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 64-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 25400
;---------------------------------------------------------------------------
; Kamehameha - helper
[Statedef 25433]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 7501, 0]
type = BindToParent
trigger1 = 1
pos = -10,-25

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 184-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 25400
;---------------------------------------------------------------------------
; Kamehameha - helper
[Statedef 25434]
type    = A
movetype= I
physics = N
anim = 1432
velset = 0,0
ctrl = 0
sprpriority = 5

[State 7501, 0]
type = BindToParent
trigger1 = 1
pos = -10,-25

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(0) = .05

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(0) = -.012

[State 7501, Burst]
type = VarSet
trigger1 = time = 0
fvar(1) = .0125

[State 7501, Burst]
type = VarAdd
trigger1 = Time < 13
fvar(1) = .012

[State 7501, 0]
type = AngleSet
trigger1 = 1
value = 304-time

[State 7501, 0]
type = AngleDraw
trigger1 = 1
scale = fvar(0),fvar(1)

[State 7501, 1]
type = Trans
trigger1 = 1
trans = add

[State 7501, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 25400
;-------------------------------------------------------------------------------
; Kamehameha - helper
[Statedef 25450]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 1451
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,24
volume = 999

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 7014
ID = 7014
pos = 40,-10
postype = p1
facing = 1
vfacing = 1
vel = -5,0
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 1,0
anim = 7008
ID = 7008
pos = 20,floor(-pos y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 1450
ID = 1450
pos = 10,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
velocity = 20,0
scale = .3,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 2
anim = 1450
ID = 1451
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
velocity = 20,0
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25450
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
TriggerAll = HitCount < 10
trigger1 = 1
attr = SCA, HP
Hitflag = MAFDE
guardflag = MA
animtype  = Heavy
damage    = ceil(15*root,fvar(12)), 2
pausetime = 0,6
sparkno = -1
guard.sparkno = -1
sparkxy = -5-random%40 + 0*(var(35):=75), var(36):=-0-random%40
hitsound   = S1,10+random%3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
air.velocity = IfElse(HitCount>=10,-4,-1),IfElse(HitCount>=10,-2,-0)
fall =1
Getpower = 0,0
sprpriority = 3
id = 25450

[State 200, SPECIAL Hit Spark A]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8004
ID = 8004
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.1,.2),IfElse(Parent,Var(3)=0,.1,.2)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[state 17100,remove FX]
type = removeexplod
trigger1 = root,stateno != 25401
id = 1450

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 25401

[State 0, ChangeState]
type = ChangeState
trigger1= HitCount >= 10
trigger2 = time >=  100; Maximum time duration. This is even avoid bugs.
trigger3 = numtarget(25450)
trigger3 = target(25450), movetype != H
trigger4 = moveguarded
value = 25452
;-------------------------------------------------------------------------------
; Kamehameha - Helper
[Statedef 25451]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1452
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-26

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 4
statetype = S
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 54
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .01+time*.13 , .9

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*25,256

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
trigger2 = root,stateno != 25401
value = 25453
;-------------------------------------------------------------------------------
; Kamehameha - Explosion
[Statedef 25452]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 0
id = 1451

[state 17100,remove FX]
type = removeexplod
trigger1 = time = 35
id = 1450

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !time
attr = A, SP
animtype  = Heavy
damage    = 26,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = 1+0*(var(33):=8001)**0
guard.sparkno = 1+0*(var(34):=8010)
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
numhits = 0
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Kamehameha - Explosion]
type = Explod
triggerall = Numexplod(1454) = 0
trigger1 = Movehit = 1
anim = 1454
ID =1454
postype = P2
pos = 0,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 35
;-------------------------------------------------------------------------------
; Ki Blast Grande - Fin
[Statedef 25453]
type    = A
movetype= A
physics = N
ctrl = 0
Velset = 0,0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 20+time*.13 , .9-time*.075

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Super Energy Wave Volley
[Statedef 25500]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25500
poweradd = -500
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7
value = S0,13
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7
value = S5,16
volume = 50

[State 0, FX]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-32
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2
[State 0, FX]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-32
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Ki Blast Grande]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Super Energy Wave Volley"
ID = 25550
stateno = 25550
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .07
Size.Yscale = .07
[State 0, Ki Blast Grande]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "Super Energy Wave Volley"
ID = 25550
stateno = 25550
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .07
Size.Yscale = .07

[State 200, End]
type = ChangeState
trigger1 = time = 105
value = 25501
ctrl = 1
;-------------------------------------------------------------------------------
; Super Energy Wave Volley
[Statedef 25501]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 25501
poweradd =0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,16
volume = 50

[State 0, FX]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-32
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Ki Blast Grande]
type = Helper
trigger1 = time = 4
helpertype = normal
name = "Super Energy Wave Volley"
ID = 25550
stateno = 25550
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .07
Size.Yscale = .07

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Ki Blast Final - Start
[Statedef 25550]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 460
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 461
ID = 460
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .07,.07
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 460
ID = 460
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .07,.07
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 25551
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 12,3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-1
air.velocity = -4,-1
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 25551
;-------------------------------------------------------------------------------
; Ki Blast Grande - Fin
[Statedef 25551]
type    = A
movetype= I
physics = N
juggle  = 1
ctrl = 0
Velset = 0,0
anim = 455
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =!time
id = 460

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 456
ID = 456
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 4
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-50,-100
mul = 700,512,512

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .9+time*.05,.9+time*.05

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0

