;===================================================================================
;---------------- Constantes y Ataques normales--------------------------------------------
;===================================================================================

;Var List:

; - Var(2) = SS1 || SS2 || SS3
; - Var(3) = Kaioken
; - Var(7) = NO TOCAR
; - Var(8) = NO TOCAR
; - Var(9) = IA
; - Var(10) = Apariencia Transformaciones
; - Var(11) = Golpeado Transformaciones
; - Var(12) = Oscurecer Pantalla
; - Var(13) = Bombas Reset
; - Var(14) = Specials Transformaciones
; - Var(15) = Supers Transformaciones
; - FVar(16) = ESCALA

[Data]
life = 1000
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = -1
guard.sparkno = -1
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 10
ground.front = 10
air.back = 10
air.front = 10
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -50
mid.pos = -5, -25
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 4
walk.back = -4
run.fwd  = 0
run.back = 0
jump.neu = 0,-9
jump.back = -4
jump.fwd = 4
runjump.back = -7.5,-3.8
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
;===============================================================================
; Perder:
;-------------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(11)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,25
volume = 999

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Ganar:
;-------------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, Winpose randomizer - non-automatic]
type = ChangeState
trigger1 = !Time
value = 181+Random%3
;===============================================================================
; Pose Ganadora:
;-------------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 181+var(11)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 0
trigger1 = animelem = 1
value = S0,32
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 0
trigger1 = animelem = 7
value = S40,1
volume = 0

[State 0, VelSet]
type = VelSet
triggerall = var(2) = 0
trigger1 = animelem = 7
y = -6

[State 0, VelSet]
type = VelSet
triggerall = var(2) = 0
trigger1 = animelem = 6
y = 0

[State 0, PosSet]
type = PosSet
triggerall = var(2) = 0
trigger1 = animelem = 6
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = var(2) = 0
trigger1 = animelem = 7
statetype = A
movetype = I
physics = A

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = var(2) = 0
trigger1 = animelem = 6
statetype = S
movetype = I
physics = S

;===========================
;SSJ1
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 1
trigger1 = time = 55
value = S180,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 1
trigger1 = time = 55
value = S180,1
volume = 999
;===========================
;SSJ2
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 31
value = S180,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 31
value = S180,10
volume = 999
;===========================
;SSJ3
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 3
trigger1 = time = 30
value = S180,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 3
trigger1 = time = 30
value = S180,10
volume = 999
;===========================
;SSJG
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S180,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S180,1
volume = 999
;===========================
;SSJB
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 50
value = S190,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 50
value = S190,2
volume = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Pose Ganadora:
;-------------------------------------------------------------------------------
[Statedef 182]
type = S
ctrl = 0
anim = 182+var(11)
velset = 0,0

;==========================
;SSJ1
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 1
trigger1 = time = 15
value = S0,32
volume = 999
;===========================
;SSJ2
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 65
value = S180,7
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 65
value = S180,7
volume = 999

;===========================
;SSJ3
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 3
trigger1 = time = 25
value = S190,7
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 3
trigger1 = time = 25
value = S190,7
volume = 999
;===========================
;SSJG
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S5,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S5,5
volume = 999
;SSJG
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S190,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S190,3
volume = 999
;===========================
;SSJB
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 20
value = S100,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 20
value = S100,1
volume = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Pose Ganadora:
;-------------------------------------------------------------------------------
[Statedef 183]
type = S
ctrl = 0
anim = 183+var(11)
velset = 0,0

[State 0, VelSet]
type = VelSet
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = animelem = 7
y = -3

[State 0, VelSet]
type = VelSet
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = animelem = 9
y = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = animelem = 1
value = S0,32
volume = 999

[State 0, PosSet]
type = PosSet
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = !time
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = animelem = 7
statetype = A
movetype = I
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 183
triggerall = var(2) = 0
trigger1 = animelem = 6
statetype = S
movetype = I
physics = S

;===========================
;SSJ1

[State 0, Teleport]
type = Helper
triggerall = anim = 2183
triggerall = var(2) = 1
trigger1 = time = 103
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, SS1 Desactivado]
type = Helper
triggerall = anim = 2183
triggerall = var(2) = 1
trigger1 = time = 105
helpertype = Normal
name = "SS1 Desactivado"
ID = 761
stateno = 761
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
;===========================
;SSJ2
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 13
value = S180,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 2
trigger1 = time = 13
value = S180,6
volume = 999

;===========================
;SSJ3
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 6
trigger1 = time = 25
value = S180,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 6
trigger1 = time = 25
value = S180,0
volume = 999
;===========================
;SSJG
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S5,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 25
value = S5,6
volume = 999
;===========================
;SSJB
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 30
value = S180,10
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 5
trigger1 = time = 30
value = S180,10
volume = 999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Pose Ganadora:
;-------------------------------------------------------------------------------
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 0, Polvo]
type = Helper
trigger1 = timemod = 12,0
helpertype = normal
name = "Dust"
ID = 35035
stateno = 35035
pos = 5,15
postype = p1
ownpal = 1
size.xscale = .05
size.yscale = .05

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(190)
value = 190

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191+Random%3
;===============================================================================
; Introducción:
;-------------------------------------------------------------------------------
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,22
volume = 50

[State 0, Teleport]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,37
volume = 999

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type =  ChangeState
trigger1 = var(1) = 10000
trigger1 = animelem = 4
value = 2190

[state 191,4]
type = varset
trigger1 = var(1) = 0 && command = "down"
trigger1 = animelem = 5 < 0
v = 1
value = 10000

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-------------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 196
ID = 196
pos = -101,20
postype = p1
bindtime = 1
removetime = 28
pausemovetime = 999
supermovetime = 999
scale = 1.3,1.3;gameheight/128
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 28
anim = 195
ID = 195
pos = -2,20
postype = p1
bindtime = -1
removetime = 55
pausemovetime = 999
supermovetime = 999
scale = 1.3,1.3;gameheight/128
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 196
ID = 196
pos = -2,20
postype = p1
bindtime = 1
vel = 3,-.2
accel = 2,-.2
removetime = 80
pausemovetime = 999
supermovetime = 999
scale = 1.3,1.3;gameheight/128
sprpriority = 5
ownpal = 1
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,50
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,50
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S40,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S50,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S190,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S190,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S190,0
volume = 999

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-------------------------------------------------------------------------------
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50 || time = 82 || time = 114 || time = 138 || time = 170
trigger2 = time = 194 || time = 226 || time =258 || time = 280
value = S40,1
volume = 900

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 74 || time = 106 || time = 130 || time = 162 || time = 220
trigger2 = time = 186 || time = 218 || time = 250 || time = 282
value = S52,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 330 || time = 362 || time = 394 || time = 362 || time = 426
value = S52,1
volume = 900

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 306 || time = 338 || time = 370 || time = 402
value = S40,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 470
value = S5,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 470
value = S5,5
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 454
value = S0,56
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 454
value = S0,56
volume = 999

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-------------------------------------------------------------------------

;SSJ1 INTRODUCTION
[Statedef 2190]
type = S
ctrl = 0
anim = 700
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,9
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S0,4
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 80
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 30
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [32,80]
trigger1 = timemod = 10,0
value = anim
elem = 7

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [80,150]
trigger1 = timemod = 10,0
value = anim
elem = 9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 150
value = anim
elem = 12

[State 0, FX]
type = Explod
triggerall = time = [30,207]
trigger1 = timemod = 12,0
anim = 7006
ID = 7006
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = -2
scale = .7,.5
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 207
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 197 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 550
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 551
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1
[State 0, FX]
type = Explod
triggerall = numhelper(550)= 0
trigger1 = time = 30
anim = 552
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
supermovetime = 999
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 80
id = 550

[State 0, Aura Base]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Aura"
ID = 750
stateno = 750
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = .3
size.yscale = .3

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 80
helpertype = Normal
name = "SS1 Activate"
ID = 760
stateno = 760
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 191, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; A - 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 200
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 3

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 201

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 201
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 202

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 202
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 8
anim = 7001
ID = 7001
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = 25
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-3
air.velocity = -1,-1
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -22,-45
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = null;ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 340

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; A - 4
[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 203
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 0, Honda]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Wave"
ID = 7000
stateno = 7000
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ontop =1
size.xscale = .5
size.yscale = .5

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State -2, Sparks]
type=helper
triggerall = movecontact = 0 && var(30) = hitpausetime
triggerall = Numexplod(8001) = 0
trigger1 = Movehit = 1
helpertype=normal
stateno=8001
ID=8001
name="Spark"
postype=p2
pos = 0,-50
facing = -1
ownpal=1
supermovetime 	= 999
ignorehitpause=1
size.xscale =.5
size.yscale =.5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 10 && numhelper(7000) > 0
value = 203
elem = 7

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelem != 8
trigger1 = time > 10 && numhelper(7000) = 0
value = 203
elem = 8

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 1
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 210
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 4

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 20,-30
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 201

[State 200, End]
type = ChangeState
triggerall = (time>=9)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 211

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 2
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 211
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 0,-7
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
removetime = -2
scale = .13,.13
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-10
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-10
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "a"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 202

[State 200, End]
type = ChangeState
triggerall = (time>=11)
trigger1 = ailevel = 0 && command = "b"&&hitshakeover
Trigger2 = movecontact
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 212

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 3
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 212
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 && random < 400
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 0
anim = 7011
ID = 7011
pos = 5,-33
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.12
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 8,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-20
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-6
fall.recovertime = 20
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 213

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 =ailevel = 0 && command = "c"
value = 400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 4
[Statedef 213]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 213
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S6,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S6,1
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time  = 4
anim = 7001
ID = 7001
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = 15
persistent = 0

[State 200, Explod]
type = Explod
trigger1 = time  = 8
anim = 7001
ID = 7001
pos = 0,-20
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = 5
persistent = 0

[State 200, Explod]
type = Explod
trigger1 = time  = 12
anim = 7001
ID = 7001
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = -5
persistent = 0

[State 200, Explod]
type = Explod
trigger1 = time  = 18
anim = 7001
ID = 7001
pos = 0,-25
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.11
sprpriority = 2
ontop = 0
ownpal = 1
angle = -20
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14
attr = S, NA
animtype  = Light
damage    = 4
guardflag = MA
pausetime = 3,5
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10+random%20*(var(35):=75), var(36):=-5-random%40
hitsound   =  S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -1.5,-1
Fall = 0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -10+random%20,-5-random%40
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 340

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 214

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact && (time>=19)
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 5
[Statedef 214]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 214
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 5,-33
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = -1
removetime = -2
scale = .2,.1
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,9
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-7
air.velocity = -5,-6
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -25,-35
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = null;ChangeState
triggerall = power >= 500
Triggerall = movecontact
triggerall = command != "holddown"
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
triggerall = power >= 200
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; Low Punch
[Statedef 300]
type = C
movetype = A
physics = C
anim = 300
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 301

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; Low Kick
[Statedef 301]
type = C
movetype = A
physics = C
anim = 301
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,17
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 8

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = C, NA
animtype = Back
damage    = 10
hitflag = MAF
guardflag = L
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -2.5
guard.velocity = -4.5
air.velocity = -2,-5
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 14
ground.velocity = -1,-3
guard.velocity = -9
air.velocity = -1,-1
guard.velocity = -2
fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -5,-23
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 212

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 302

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; Uppercutt
[Statedef 302]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 302
poweradd = 40
velset = 0,0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 9
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 3
y = -5.5

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 20
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -15,-30
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = 15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 330]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.2))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 550
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 551
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 552
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 560
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 561
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 562
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 1601

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 331
ctrl = 0

;-------------------------------------------------------------------------------
; Dragon Rush - Hit
;-------------------------------------------------------------------------------
[Statedef 331]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 331
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3
y = -6
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 600

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 610

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
;Dragon Rush
[Statedef 332]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 330
poweradd = 0
sprpriority = 2
facep2 = 1

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 30,0
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,10]
x = -3
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 30
x = 3
y = -4
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y <= 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10
[State 0, VelSet]
type = VelSet
triggerall = p2bodydist y > 0
trigger1 = time = [10,30]
x = ifelse(P2Dist X < 0,5, .0001+abs(P2Dist x*.1))
y = p2bodydist y / 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,20
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = 25 + 0*(var(35):=75), var(36):=-35
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-4
air.velocity = -3,-4
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(7055) = 0
trigger1 = Time = 10
anim = 7005
ID = 7005
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Vel = -.5,0

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 1
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 550
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 551
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 552
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 560
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 561
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 10
anim = 562
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimTime = 0
id = 1601

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S500,1
volume = 50
channel = 1

[State 200, Success!]
type = ChangeState
trigger1 = MoveHit
value = 331
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 331
ctrl = 0
;-------------------------------------------------------------------------------
; Sledgehammer - 1
[Statedef 335]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 340+var(11)
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer - 2
[Statedef 340]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 340+var(11)
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, Explod]
type = Explod
trigger1 = time = 5
anim = 7001
ID = 7001
pos = 30,-28
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
removetime = -2
scale = .13,.1
sprpriority = 3
ontop = 1
ownpal = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 341

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 1
[StateDef 341]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 341+var(11)
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 550
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 551
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 552
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999


[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 560
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime =601
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 561
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 562
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x =  ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N
;ignorehitpause =
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 342
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush Attack 1
[Statedef 342]
type = S
movetype = A
physics = S
anim = 342+var(11)
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 1
anim = 7016
ID = 7016
pos = -10,-10
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 =!time
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 1601

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,13+random%2
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-23
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 343

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 2
[StateDef 343]
type = S
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 341+var(11)
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 550
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 551
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 552
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999


[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 560
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime =601
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 561
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 562
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,13, 12+abs(P2Dist x*.1))
y = ifelse(P2Dist Y < 0,-8, -8-abs(P2Dist Y*.1))

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 344
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Sledgehammer Rush Attack 2
[Statedef 344]
type = A
movetype = A
physics = N
juggle = 0
anim = 344+var(11)
ctrl = 0
velset = 0,0
sprpriority = 1
juggle = 7

[State 200, Explod]
type = Explod
trigger1 = time = 3
anim = 7011
ID = 7011
pos = 13,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .12,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -20
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 1601

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-23
hitsound   = S1,14
guardsound = S4,1
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,6,-6),-6
air.velocity = ifelse(p2bodydist x < -10,6,-6),-6
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-23
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 345

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;--------------------------------------------------------------------------
;Sledgehammer Rush 3
[StateDef 345]
type = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 341+var(11)
poweradd = 0;30
sprpriority = -1

[State 0, ]
type = AfterImage
trigger1 = AnimElem = 2
time = 60
length = 4
palbright = 10,10,10
palcontrast = 120,120,120
paladd = 0,0,0
palmul = 1,1,1
timegap = 1
framegap = 1
trans = Add

[State 0, Pause]
type = Pause
trigger1 = (time%2)
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 2

[State 0, Run eff]
type = Explod
triggerall =vel x > 0
trigger1 = timemod = 2,0
anim = 7007
ID = 7007
pos = -10+random%20,-5-random%30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Super Dash - Charge FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7015
ID = 7015
pos = 8,-30
scale = .4,.4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 550
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 551
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 0
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 552
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 560
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime =601
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 561
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999
[State 0, FX]
type = Explod
Triggerall = var(3) = 1
triggerall = numhelper(1601)= 0
trigger1 = time = 3
anim = 562
ID = 1601
pos = 30,-20
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 60
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 90
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Width]
type = Width
trigger1 = 1
edge = -10,-10
player = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S500,1
volume = 50
channel = 1

[State 0: VelSet]
type = VelSet
trigger1 = AnimELem = 2,>1
x = ifelse(P2Dist X < 0,14, 12+abs(P2Dist x*.1))
y = target, Vel Y

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = P2Dist x < -30-Vel X
value = 346
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Sledgehammer Rush Attack 3
[Statedef 346]
type    = A
movetype= A
physics = A
juggle  = 0
ctrl = 0
anim = 602+var(11)
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 0

[State 0, VelMul]
type = VelMul
trigger1 = AnimElem = 3,>1
x = -.85
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 1601

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time < 4
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,12
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Hard
damage    = 10
guardflag =  MA
hitflag = MAF
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-25
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 0
triggerall = var(3) = 0
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 0
triggerall = var(3) = 1
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 349

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; Kaioken:
;-------------------------------------------------------------------------------
; Kaioken - Start
[Statedef 347]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 347
poweradd = -1000
sprpriority = 2

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 61 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S0,50
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S0,50
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 8
time = 70
movetime = 70
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, Kaioken Aura]
type = Helper
trigger1 = time = 49
helpertype = Normal
name = "Kaioken Aura"
ID = 1270
stateno = 1270
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermove = 999
supermovetime = 999

[State 0, Kaioken Activado]
type = Helper
trigger1 = time = 49
helpertype = Normal
name = "Kaioken Activado"
ID = 1280
stateno = 1280
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Kaioken Palfx]
type = PalFX
trigger1 = time = 49
time = 200
add = 200,0,0
mul = 200,200,200
sinadd = 50,50,50,50
color = 256
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 70
value = 348
ctrl = 1
;-------------------------------------------------------------------------------
; Kaioken: - Attack
[Statedef 348]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 348
poweradd = 0
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,22
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,45
volume = 50

[State 0, FX]
type = Explod
triggerall = numhelper(1202)= 0
trigger1 = time = 6
anim = 560
ID = 1202
pos = 15,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .3,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 25
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(1202)= 0
trigger1 = time = 6
anim = 561
ID = 1202
pos = 15,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
angle = 25
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, FX]
type = Explod
triggerall = numhelper(1202)= 0
trigger1 = time = 6
anim = 562
ID = 1202
pos = 15,-10
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = .25,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
angle = 30
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 1200, Vel]
type = velset
trigger1 = animelemtime(2) = 1
x = 6
y = 8

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 19,8
ignorehitpause = 1
persistent = 1

[State 270, hit]
type=hitdef
triggerall = !movecontact
trigger1 = 1
attr = A, HA
damage = 50,0
Hitflag = MAFDE
guardflag = MA
animtype = Heavy
air.animtype = back
fall.animtype = back
priority = 4,Hit
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-15
hitsound = s1,13
guardsound = S4,1
ground.type = High
pausetime = 15,15
ground.slidetime = 20+3
ground.hittime = 20+3
air.hittime = 20+3
guard.ctrltime = 20-3
guard.hittime = 20-3
ground.velocity =  -5, 8
guard.velocity = -9.33
air.velocity = -5, 8
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -7
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
envshake.time=12
envshake.ampl=3
yaccel = .5
sprpriority = 3
air.fall = 1
down.velocity = 0,0
down.bounce = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall.recover = 1
fall.recovertime = 10
fall = 1
fall.envshake.time=12
fall.envshake.ampl=3
id = 4206
kill = 1


[State 0, PlaySnd]
type = PlaySnd
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
value = S3,2
volume = 50

[State 111, Landing Dust Explod]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7004
sprPriority = -3
posType = P1
pos = 10,0
scale = .7,.7
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
[State 0, Explod]
type = Explod
;triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
anim = 7003
ID = 7003
pos = 0,floor(-pos y)
postype = p1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
sub = 1

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(2) >= 1
value = 1208
;===============================================================================
; Kaioken
[Statedef 349]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 347
poweradd = 0
sprpriority = 2

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 61 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 49||time = 50
value = S500,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 49||time = 50
value = S500,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S0,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 1
value = S0,24
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 8
time = 70
movetime = 70
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, Kaioken Aura]
type = Helper
trigger1 = time = 49
helpertype = Normal
name = "Kaioken Aura"
ID = 1270
stateno = 1270
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermove = 999
supermovetime = 999

[State 0, Kaioken Palfx]
type = PalFX
trigger1 = time = 49
time = 200
add = 200,0,0
mul = 200,200,200
sinadd = 50,50,50,50
color = 256
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 70
value = 348
ctrl = 1
;-------------------------------------------------------------------------------
; Kienzan
[Statedef 350]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 350
poweradd = -500
velset = 0,0
sprpriority = 2
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S5,4+random%3
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,35
volume = 999

[State 0, Break SUB]
type = Explod
trigger1 = time = 3
anim = 356
ID = 356
pos = -14,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = .0405,.005
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 3
anim = 356
ID = 356
pos = -14,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 10
scale = .0405,.005
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 13
anim = 356
ID = 356
pos = -17,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .0405,.005
sprpriority = 3
ontop = 1
angle = 20
removeongethit = 1
ownpal = 1
[State 0, Break SUB]
type = Explod
trigger1 = time = 13
anim = 356
ID = 356
pos = -17,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .0405,.005
sprpriority = 3
ontop = 1
angle = 20
removeongethit = 1
ownpal = 1

[State 0, Ki Blast]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Ki Blast"
ID = 355
stateno = 355
pos = -5,-50
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 16
id = 356

[State 200, End]
type = ChangeState
triggerall = (time>=20)
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "c"&&hitshakeover
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 350

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Ki Blast - Fx
[Statedef 355]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 355
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 356
ID = 356
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .0405,.017
sprpriority = 3
ontop = 1
angle = -30
removeongethit = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 356
ID = 356
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .0405,.017
sprpriority = 3
ontop = 1
angle = -30
removeongethit = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = hitcount < 5
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 5,2
Hitflag = MAFDE
guardflag = MA
pausetime = 10,4
sparkno = -1
guard.sparkno = -1
sparkxy = -8,0
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-1
air.velocity = -2,-1
Fall = 1
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 500
trigger1 = frontedgebodydist < 0
trigger3 = pos y >= -5
id = 356

[State 200, End]
type = DestroySelf
trigger1 = time >= 500
trigger1 = frontedgebodydist < 0
trigger3 = pos y >= -5

[State 200, End]
type = ChangeState
trigger1 = time >= 500
trigger1 = frontedgebodydist < 0
trigger3 = pos y >= -5
value = 455
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; C - Hold
[Statedef 400]
type    = S
movetype= I
physics = S
juggle  = 2
Velset = 0,0
ctrl = 0
anim = 400+var(11)
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = power < 500
statetype = S
movetype = A
physics = S

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time >= 2
value = Anim
elem = 2

[State 0, Hold FX]
type = Helper
triggerall = power >= 500
trigger1 = time = 20
helpertype = normal
name = "Hold FX"
ID = 405
stateno = 405
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .2
size.yscale = .2

[State 200, End]
type = ChangeState
triggerall = power >= 500
Triggerall = time >= 6
trigger1 = ailevel = 0 && command != "hold_c"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && time = 6+random%44
trigger4 = ailevel > 0 && (time = [6,19]) && random < (ailevel * 100)/6
trigger5 = time = 50
value = ifelse(time >= 20,410,401)

[State 200, End]
type = ChangeState
triggerall = power < 500
trigger1 = time >= 6
value = 401
;-------------------------------------------------------------------------------
; C - Ki Blast 1
[Statedef 401]
type    = S
movetype= A
physics = S
juggle  = 2
Velset = 0,0
ctrl = 0
poweradd = -200
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999

[State 0, VarSet] ; RESET
type = VarSet
trigger1 = time = 0
FV = 22
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = Anim
elem = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [4,24]
value = Anim
elem = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 24
value = Anim
elem = 6

[State 0, FX]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 2
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 27,-32
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, Ki Blast]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 4
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 4,451,450)
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, FX]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 2
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-42
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, Ki Blast]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 4
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 4,451,450)
pos = 20,-40
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 200, End]
type = ChangeState
Triggerall = Power >= 200 && time > 4
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/2
value = 402

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; C - Ki Blast 2
[Statedef 402]
type    = S
movetype= A
physics = S
juggle  = 2
Velset = 0,0
ctrl = 0
poweradd = -200
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999

[State 0, VarAdd] ; ADD
type = VarAdd
trigger1 = time = 0
FV = 22
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
triggerall = var(2) != 4
value = Ifelse(Fvar(22) = 1||Fvar(22) = 3,410,400)+var(11)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
triggerall = var(2) = 4
value = Ifelse(Fvar(22) = 1||Fvar(22) = 3,410,410)+var(11)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) < 4
trigger1 = time = [10,30]
value = Anim
elem = 5
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) < 4
trigger1 = time = 30
value = Anim
elem = 6

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) >= 4
trigger1 = time = [10,40]
value = Anim
elem = 5
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) >= 4
trigger1 = time = 40
value = Anim
elem = 6

[State 0, FX]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 8
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-32
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, Ki Blast]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 10
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 4,451,450)
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, FX]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 8
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 22,-42
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, Ki Blast]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 10
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 4,451,450)
pos = 20,-40
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 200, End]
type = ChangeState
Triggerall = Fvar(22) < 4
Triggerall = Power >= 200 && time > 10
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/2
value = 402

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; C - Ki Blast Charged
[Statedef 410]
type    = S
movetype= A
physics = S
juggle  = 2
Velset = 0,0
ctrl = 0
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7008
ID = 1051
pos = -20,0
postype = p1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = Anim
elem = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [4,34]
value = Anim
elem = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 34
value = Anim
elem = 6

[State 0, FX]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 2
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 32,-33
postype = p1
ownpal = 1
Size.Xscale = .125
Size.Yscale = .125

[State 0, Ki Blast Grande]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 4
helpertype = normal
name = "Ki Blast Grande"
ID = 460
stateno = 460
pos = 25,-30
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, FX]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 2
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 27,-45
postype = p1
ownpal = 1
Size.Xscale = .125
Size.Yscale = .125

[State 0, Ki Blast Grande]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 4
helpertype = normal
name = "Ki Blast Grande"
ID = 460
stateno = 460
pos = 25,-42
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; FX
[Statedef 420]
type    = A
movetype= I
physics = N
anim = 420
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, VarSet]
type = VarSet
trigger1 = root,stateno = 620
trigger2 = root,stateno = 1380
trigger3 = root,stateno = 33560
v = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = var(1) = 1
value = -60

[State 0, VarSet]
type = VarSet
trigger1 = root,stateno = 1380
v = 2
value = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = var(2) = 1 && time = 0
x = (-5+random%10)
y = (-5+random%10)

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Ki Blast - Fx
[Statedef 450]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 450
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 451
ID = 450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 450
ID = 450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VarSet]
type = VarSet
trigger1 = root,stateno = 620
v = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
triggerall = var(1) = 1
trigger1 = 1
value = -60

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 0
trigger1 = time = 0
x = 12

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 1
trigger1 = time = 0
x = 6
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 32,16
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 455
;-------------------------------------------------------------------------------
; Ki Blast Final - Fx
[Statedef 451]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 450
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 451
ID = 450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 450
ID = 450
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VarSet]
type = VarSet
trigger1 = root,stateno = 620
v = 1
value = 1

[State 0, AngleDraw]
type = AngleDraw
triggerall = var(1) = 1
trigger1 = 1
value = -60

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 0
trigger1 = time = 0
x = 12

[State 0, VelSet]
type = VelSet
triggerall = var(1) = 1
trigger1 = time = 0
x = 6
y = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Medium
damage    = 32,16
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-4
air.velocity = -4,-4
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 455
;-------------------------------------------------------------------------------
; Ki Blast - Fin
[Statedef 455]
type    = A
movetype= I
physics = N
juggle  = 1
ctrl = 0
Velset = 0,0
anim = 455
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =!time
id = 450

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 456
ID = 456
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-50,-100
mul = 700,512,512

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,16
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Ki Blast Charged - FX
[Statedef 460]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 460
sprpriority = 3

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 461
ID = 460
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 460
ID = 460
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-10,-100
mul = 500,450,450

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 465
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
triggerall = var(25)<20 && var(2)<20+var(25)
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Heavy
damage    = 80,40
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-4
air.velocity = -4,-4
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time >= 500
trigger3 = pos y >= -5
trigger4 = movecontact
value = 465
;-------------------------------------------------------------------------------
;  Ki Blast Charged - FX
[Statedef 465]
type    = A
movetype= I
physics = N
juggle  = 1
ctrl = 0
Velset = 0,0
anim = 455
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =!time
id = 460

[State 0, Break SUB]
type = Explod
trigger1 = time = 0
anim = 456
ID = 456
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
Angle = 0+Random%180

[State 0, Break ADD]
type = Explod
trigger1 = time = 0
anim = 455
ID = 455
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 4
ontop = 1
ownpal = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999999999999
add = 0,-50,-100
mul = 700,512,512

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .9+time*.05,.9+time*.05

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;===============================================================================
; Power Charge:
;-------------------------------------------------------------------------------
; Power Charge - Start
[Statedef 500]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 35
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,9
volume = 999
channel = 2

[State 111, Landing Dust Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7004
sprPriority = -3
posType = P1
pos = 0,0
scale = .5,.5
pauseMoveTime = -1
superMoveTime= -1
ownPal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
triggerall = time >= 7
trigger1 = (time%15)=0
anim = 7023
ID = 7023
pos = 0,3
facing = -1+(random%2)*2
scale = .6, .6
postype = p1
bindtime = 1
sprpriority = -1
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 7024
ID = 7024
pos = 0,0
scale = .5, .6
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
removetime = -2
supermovetime = 999
pausemovetime = 999
ontop = 0

[State 0, Aura Base]
type = Helper
triggerall = var(3) = 0
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Aura Base]
type = Helper
triggerall = var(3) = 1
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 560
stateno = 560
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 200, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 501
;-------------------------------------------------------------------------------
; Power Charge - Fin
[Statedef 501]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501
sprpriority = 2

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,3
volume = 50

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Normal Aura - Start
[Statedef 550]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(551)= 0
trigger1 = timemod = 9,0
anim = 551
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(552)= 0
trigger1 = timemod = 9,0
anim = 552
ID = 550
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 500
value = 551
;-------------------------------------------------------------------------------
;Normal Aura - Fin
[Statedef 551]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Kaioken Aura - Start
[Statedef 560]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 560
sprpriority = 3

[State 0, FX]
type = Explod
triggerall = numhelper(561)= 0
trigger1 = timemod = 9,0
anim = 561
ID = 560
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .2,.3
trans = addalpha
alpha = 120,256
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, FX]
type = Explod
triggerall = numhelper(562)= 0
trigger1 = timemod = 9,0
anim = 562
ID = 560
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .2,.2
trans = addalpha
alpha = 120,256
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 500
trigger1 = root,stateno != 1200
value = 561
;-------------------------------------------------------------------------------
;Kaioken Aura - Fin
[Statedef 561]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
postype = p1
pos = 0,-25
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Teleport FX 2
[Statedef 581]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 590]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Camara Lenta Corta
[Statedef 591]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,5]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Rock FX
[Statedef 595]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 7025
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,12
volume = 999

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 999
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .01+time*.05,.01+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 1200-time*20,256

[State 200, End]
type = Destroyself
trigger1 = time = 100
;===============================================================================
; A Air:
;-------------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 601

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 603

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 1
[Statedef 601]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 2
[Statedef 602]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,18
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;A Air - 3
[Statedef 603]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 601

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; B Air:
;-------------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 601
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-3
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 613

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 1
[Statedef 611]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 602

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = command = "holddown"
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 615

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 612

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 2
[Statedef 612]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - 3
[Statedef 613]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 600
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2
Fall = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 616

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 601

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;B Air - Hit up
[Statedef 615]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 615
juggle  = 3
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4+random%3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
air.animtype  = Back
damage    = 10
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -5 + 0*(var(35):=75), var(36):=-30
hitsound   = S1,4+random%4
guardsound = S4,1
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -2.3,-11
guard.velocity = -8
air.velocity = -2.3,-11
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;X Air
[Statedef 616]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 602
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,19
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
p2stateno = 925000
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; C Air:
;-------------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
poweradd = -200
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
volume = 999

[State 0, VarAdd] ; SET
type = VarSet
trigger1 = prevstateno != 620 && time = 0
FV = 22
value = 0

[State 0, VarAdd] ; ADD
type = VarAdd
trigger1 = time = 0
FV = 22
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = ifelse(vel x <= 0,-.5,.5)
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,16
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) != 4
trigger1 = time = 0
value = Ifelse(Fvar(22) = 1||Fvar(22) = 3||Fvar(22) = 5,620,630)+var(11)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = Ifelse(Fvar(22) = 1||Fvar(22) = 3||Fvar(22) = 5,630,630)+var(11)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) < 5
trigger1 = time = [8,23]
value = Anim
elem = 3
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) < 5
trigger1 = time = 23
value = Anim
elem = 4

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) >= 5
trigger1 = time = [8,33]
value = Anim
elem = 3
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Fvar(22) >= 5
trigger1 = time = 33
value = Anim
elem = 4

[State 0, FX]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 5
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = ifelse(anim = 620,22,8),-30
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Ki Blast]
type = Helper
triggerall = var(2) != 4
trigger1 = time = 8
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 5,451,450)
pos = ifelse(anim = 620,17,3),-30
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 0, FX]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 5
helpertype = normal
name = "FX"
ID = 420
stateno = 420
pos = 24,-30
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Ki Blast]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 8
helpertype = normal
name = "Ki Blast"
ID = 450
stateno = ifelse(Fvar(22) = 5,451,450)
pos = 24,-30
postype = p1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1

[State 200, End]
type = ChangeState
Triggerall = Fvar(22) < 5
Triggerall = Power >= 200 && time > 8
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/2
value = 620

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Air Ki blast
[Statedef 630]
type = S
movetype = I
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,635,636)+var(11)
poweradd = -500
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, Teleport]
type = Helper
trigger1 = time = 7 || time = 13
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 7
time = 2
freq = 180
ampl = -2

[State 0]
type = StateTypeSet
trigger1 = Pos Y < 0
StateType = A

[State 0, HitOverride]
type = HitOverride
trigger1 = time = 2
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 635
time = 9

[State 0]
type = posadd
trigger1 = (animelem = 3) && (command = "holdfwd")
x = (P2Dist X) + 100

[State 0]
type = Turn
trigger1 = (animelem = 3) && (command = "holdfwd")

[State 0]
type = posadd
trigger1 = (animelem = 3) && (command = "holdback")
x = -165
y = 0

[State 0]
type = posadd
trigger1 = (animelem = 3) && (command = "holdup")
x = 0
y = -150

[State 52, 3]
type = PosSet
trigger1 = (animelem = 3) && ((command = "holddown") || (StateType = A))
y = 0

[State 200, End]
type = ChangeState
triggerall = time >= 8 && time <= 17
trigger1 = ailevel = 0 && command = "x"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 635

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport - 1
[Statedef 635]
type = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,645,646)+var(11)
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, Teleport]
type = Helper
trigger1 = time = 1
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 && numtarget
x = ifelse(  facing = -1,(target, pos X-30), (target, pos X+30)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-30), (enemynear, pos X+30)  )
y = enemynear, pos Y

[State 200, Explod]
type = Explod
trigger1 = time = 2
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S0,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
getpower = 0,0
p2stateno = 5400
yaccel = 0.3
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = -12,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport - 1
[Statedef 640]
type = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,640,641)+var(11)
poweradd = -200
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, Teleport]
type = Helper
trigger1 = time = 5 || time = 8
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Pause]
type = Pause
trigger1 = (time%2) != 0 && time = 6
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 5
movetime = 5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = time = 6 && numtarget
x = ifelse(  facing = -1,(target, pos X-30), (target, pos X+30)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = time = 6 && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-30), (enemynear, pos X+30)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 7

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = 645
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport Attack - 1
[Statedef 645]
type = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,645,646)+var(11)
poweradd = -200
velset = 0,0
sprpriority = 2
p2facing = 1

[State 200, Explod]
type = Explod
trigger1 = time = 2
anim = 7011
ID = 7011
pos = 10,-15
postype = P1  ;P2, Front, Back, Left, Right
bindtime = -1
facing = -1
vfacing = 1
removetime = -2
scale = .18,.11
sprpriority = 3
ontop = 1
ownpal = 1
angle = -15
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-4
air.velocity = -7,-3
airguard.velocity = -2,0
fall = 0
getpower = 0,0
p2stateno = 5400
yaccel = 0.3
getpower = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-25
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = power >= 500
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 646

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport 2
[Statedef 646]
type = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,642,643)+var(11)
poweradd = -200
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, Teleport]
type = Helper
trigger1 = time = 8 || time = 15
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Pause]
type = Pause
trigger1 = (time%2) != 0 && time = 13
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = time = 13
time = 5
movetime = 5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = time = 13 && numtarget
x = ifelse(  facing = -1,(target, pos X-30), (target, pos X+30)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = time = 13 && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-30), (enemynear, pos X+30)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 14

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = 647
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport Attack 2
[Statedef 647]
type = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 647+var(11)
poweradd =30
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7 && random<200
value = S0,16+random%3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno= -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13+random%2
guardsound = S4,1
ground.type = High
air.type = High
air.hittime = 15
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -14,-10
air.velocity = -7,-9
airguard.velocity = -2,0
fall = 0
getpower = 0,0
p2stateno = 5400
yaccel = 0.3
getpower = 0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-25
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = power >= 500
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "y"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 648

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport 3
[Statedef 648]
type = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = cond(pos y>=0,642,643)+var(11)
poweradd = -200
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, Teleport]
type = Helper
trigger1 = time = 8 || time = 15
helpertype = normal
name = "Teleport"
ID = 7001
stateno = 7001
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Pause]
type = Pause
trigger1 = (time%2) != 0 && time = 13
time = 1
movetime = 1
pausebg = 0
ignorehitpause= -1
;persistent =

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = time = 13
time = 5
movetime = 5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = time = 13 && numtarget
x = ifelse(  facing = -1,(target, pos X-90), (target, pos X+90)  )
y = p2dist y -110

[State 0, PosSet]
type = PosSet
trigger1 = time = 13 && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-50), (enemynear, pos X+50)  )
y = p2dist y -110

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, Turn]
type = Turn
trigger1 = time = 14

[State 200, End]
type = ChangeState
triggerall = var(2) != 5
trigger1 = !AnimTime
value = 649
ctrl = 1

[State 200, End]
type = ChangeState
triggerall = var(2) = 5
trigger1 = !AnimTime
value = 17649
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport Attack 3
[Statedef 649]
type = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 649+var(11)
poweradd = 30
velset = 0,0
sprpriority = 2
p2facing = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,16+random%6
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,3
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
animtype  = Hard
damage    = 10
attr = SCA, HP
Hitflag = MAFDE
guardflag = MA
pausetime = 12,12
sparkno = -1+0*(var(33):=8001)**0
guard.sparkno = -1+0*(var(34):=8010)
sparkxy = -10 + 0*(var(35):=75), var(36):=-25
hitsound   = S1,13
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
getpower = 0,0
Envshake.time = 5

[State 0, Punch FX]
type = Explod
triggerall = numexplod(8005)= 0
trigger1 = movehit = 1
anim = 8005
ID = 8005
pos = 7,-15
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -2
ontop = 0
ownpal = 1
angle = -15
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 0
triggerall = var(3) = 0
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 0
triggerall = var(3) = 1
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 349

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 0
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 1
Triggerall = power >= 300
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 2
Triggerall = power >= 300
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 11347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 3
Triggerall = power >= 300
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 4
Triggerall = power >= 300
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 5
Triggerall = power >= 300
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 17347

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 1
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 2350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 2
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 11350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 3
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 13350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 4
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15350

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = var(2) = 5
Triggerall = power >= 500
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 17350

[State 200, End]
type = ChangeState
trigger1 = !AnimTime
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Hit by Fast Kung Fu Palm - shaking from the hit
; (a custom gethit state)
; See State 1020 for details
[Statedef 5400]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 0
trigger1 = 1
value = 5020
elem=1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 1
trigger1 = 1
value = 6020
elem=1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 2
trigger1 = 1
value = 12020
elem=1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 3
trigger1 = 1
value = 14020
elem=1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 4
trigger1 = 1
value = 16020
elem=1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 5
trigger1 = 1
value = 18020
elem=1

[State 6000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5401

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 5401]
type    = A
movetype= H
physics = N

[State 6001, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 6001, Gravity]
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 6001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 1,1

[State 6001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 5402

[State 6001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 5402]
type    = A
movetype= H
physics = N

[State 6002, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 6002, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 6002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 6002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 0
trigger1 = Time = 0
value = 5050

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 1
trigger1 = Time = 0
value = 6050

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 2
trigger1 = Time = 0
value = 12050

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 3
trigger1 = Time = 0
value = 14050

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 4
trigger1 = Time = 0
value = 16050

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 5
trigger1 = Time = 0
value = 18050

[State 1312, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 0, ]
type = EnvShake
trigger1 = !Time
time = 16
freq = 100
ampl = -6

[State 200,End]
type=ChangeState
trigger1=backedgebodydist<5
value=5403

[State 6002, State]
type = ChangeState
trigger1 = Time = 8
value = 5403

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 5403]
type    = A
movetype= H
physics = N

[State 6003, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -7

[State 6003, Vel X]
type = VelSet
trigger1 = Time = 0
x = 2.5

[State 6003, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 6003, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 0
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062
;--------
[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = Time = 0
trigger1 = !SelfAnimExist(6052)
value = 6050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = Time = 0
trigger1 = SelfAnimExist(6052)
value = 6052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = Vel Y > -2
trigger1 = Anim = 6050
trigger1 = SelfAnimExist(6060)
persistent = 0
value = 6060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = Vel Y > -2
trigger1 = Anim = 6052
trigger1 = SelfAnimExist(6062)
persistent = 0
value = 6062

;--------
[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = Time = 0
trigger1 = !SelfAnimExist(12052)
value = 12050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = Time = 0
trigger1 = SelfAnimExist(12052)
value = 12052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = Vel Y > -2
trigger1 = Anim = 12050
trigger1 = SelfAnimExist(12060)
persistent = 0
value = 12060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = Vel Y > -2
trigger1 = Anim = 12052
trigger1 = SelfAnimExist(12062)
persistent = 0
value = 12062

;--------
[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = Time = 0
trigger1 = !SelfAnimExist(14052)
value = 14050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = Time = 0
trigger1 = SelfAnimExist(14052)
value = 14052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = Vel Y > -2
trigger1 = Anim = 14050
trigger1 = SelfAnimExist(14060)
persistent = 0
value = 14060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 3
trigger1 = Vel Y > -2
trigger1 = Anim = 14052
trigger1 = SelfAnimExist(14062)
persistent = 0
value = 14062

;--------
[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = Time = 0
trigger1 = !SelfAnimExist(16052)
value = 16050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = Time = 0
trigger1 = SelfAnimExist(16052)
value = 16052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = Vel Y > -2
trigger1 = Anim = 16050
trigger1 = SelfAnimExist(16060)
persistent = 0
value = 16060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = Vel Y > -2
trigger1 = Anim = 16052
trigger1 = SelfAnimExist(16062)
persistent = 0
value = 16062

;--------
[State 60033, Anim 5050] ;Self falling animation
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = Time = 0
trigger1 = !SelfAnimExist(18052)
value = 18050

[State 6003, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = Time = 0
trigger1 = SelfAnimExist(18052)
value = 18052

[State 6003, Anim 5060] ;Coming down - normal
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = Vel Y > -2
trigger1 = Anim = 18050
trigger1 = SelfAnimExist(18060)
persistent = 0
value = 18060

[State 6003, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = Vel Y > -2
trigger1 = Anim = 18052
trigger1 = SelfAnimExist(18062)
persistent = 0
value = 18062

[State 6003, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;-------------------------------------------------------------------------------
; P2 Hacia la Pared
[Statedef 5450]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = -4
y = 10

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 0
trigger1 = 1
value = 5100
elem = 1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 6100
elem = 1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
value = 12100
elem = 1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 3
trigger1 = time = 0
value = 14100
elem = 1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 16100
elem = 1

[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 18100
elem = 1

[State 200, End]
type = ChangeState
trigger1 = pos y > -5
value = 5451

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 925002
;-------------------------------------------------------------------------------
; P2 slide
[Statedef 5451]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 0,Rocks]
type=Helper
triggerall = time = [0,5]
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
triggerall = time = [0,5]
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
triggerall = time = [0,5]
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2
[State 0,Rocas]
type=Helper
triggerall = time = [0,5]
trigger1 = timemod = 2,0
helpertype=normal
name="Rocks"
ID=7025
stateno=7025
pos=0,0
postype=p1
ownpal=1
size.xscale=.2
size.yscale=.2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 581

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim2
triggerall = var(2) = 0
trigger1 = time < 40
value = 5110
elem = 1

[State 200, End]
type = Selfstate
triggerall = alive
trigger1 = time = 60
value = 5120

[State 200, End]
type = Selfstate
triggerall = !alive
trigger1 = time = 60
value = 5150
;----
[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 1
trigger1 = time < 40
value = 6110
elem = 1
;----
[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 2
trigger1 = time < 40
value = 12110
elem = 1
;----
[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 3
trigger1 = time < 40
value = 14110
elem = 1
;----
[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 4
trigger1 = time < 40
value = 16110
elem = 1
;----
[State 0,ChangeAnim]
type=ChangeAnim
triggerall = var(2) = 5
trigger1 = time < 40
value = 18110
elem = 1

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 925002
;-------------------------------------------------------------------------------
; Hold FX
[Statedef 405]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 7000, OutwardWave]
type = explod
trigger1 = 1
anim = 7000
ID = 7000
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 7000, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.08 * time), 0 +(0.08 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,23
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.1,1+time*.1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -3,-23

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 400
pos = 1,-23

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Wave
[Statedef 7000]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 7000
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
triggerall = root,stateno = 203
trigger1 = 1
pos = 5,-25

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .5+time*.1,.5+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 7000, OutwardWave]
type = explod
triggerall = root,stateno = 203
trigger1 = 1
anim = 7000
ID = 7000
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 7000, Scale]
type = modifyexplod
trigger1 = numexplod(7000)
ID = 7000
scale = 0 +(0.1 * time), 0 +(0.1 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = root,stateno != 203
trigger2 = root,stateno != 36015
;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 7001]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7001
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S5,22
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Kioken Aura Eff
[Statedef 7635]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Aura Up]
type = Explod
trigger1 = time%5= 2
anim = 7635
ID = 7635
pos = -3+random%15,0-random%40
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7636,ifelse(random>500,7638,7637))
ID = 7635
pos = ifelse(random>500,3,ifelse(random>500,-3,6)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,ifelse(random>500,0,-1), ifelse(random>500,-2,2)),ifelse(random>500,-1,-2)
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Aura Side 1]
type = Explod
trigger1 = time%5= 2
anim = ifelse(random>500,7636,ifelse(random>500,7638,7637))
ID = 7635
pos = ifelse(random>500,2,ifelse(random>500,-2,5)),0
postype = p1
facing = ifelse(random>500,1,ifelse(random>500,-1,1))
vfacing = 1
bindtime = 1
vel = ifelse(random>500,-1, 1),-2
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
trans = addalpha
alpha = 150,256
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 5110
trigger2 = root,stateno = 1300 && root,time = [35,45]
trigger3 = root,stateno = 181 && root,time > 60
id = 7635

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,var(3) = 0
;======================== NORMAL LIGHT HITSPARK ===============================
[Statedef 8001]
physics = N
anim = 9999
velset = 0, 0

[State 8010, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 8000
ID = 4
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(4)
ID = 4
scale = 0 +(0.03 * time), 0 +(0.03 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 8010, Main Spark]
type = explod
trigger1 = !time
anim = 8001
ID = 8001
postype = p1
scale = .1,.1
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
sprpriority = 5
removetime = 12
supermovetime = -1
pausemovetime = -1
trans = add

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(8001) = 1
trigger1 = time < 3
ID = 8001
scale = (.3+((time)*.05))*.25,(.3+((time)*.05))*.25
trans = add

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(8001) = 1
trigger1 = time > 3
ID = 8001
scale = (.4-((time-2)*.045))*.35,(.4-((time-2)*.045))*.35
angle = time*45
trans = add

[State 8010, Main Spark]
type = explod
trigger1 = time = 4
anim = 8003+random%2
ID = 8003
postype = p1
scale = .1,.1
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
sprpriority = 5
removetime = 12
supermovetime = -1
pausemovetime = -1
trans = add

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(8003) = 1
=trigger1 = time < 7
ID = 8003
scale = .07+((time-4)*.00325),.07+((time-4)*.00325)
trans = add

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(8003) = 1
=trigger1 = time > 8
ID = 8003
scale = .07+((time-6)*.00325),.07+((time-6)*.00325)
trans = addalpha
alpha = 256-((time-6)*25),256

[State 8010, End]
type = removeexplod
trigger1 = animtime = 0
trigger2 = time > 18
trigger3 = enemynear,movetype!=h

[State 8010, End]
type = destroyself
trigger1 = animtime = 0
trigger2 = time > 18
trigger3 = enemynear,movetype!=h
;========================<SPARKS>=============================
;Guard Spark (Normal)
[StateDef 8010]
type = A
physics = N
moveType = I
anim = 8010
velset = 0,0
sprPriority = 5

[State 8000, Assert: No Shadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8000, Scale]
type = AngleDraw
trigger1 = 1
scale=.1+(time*.01),.1+(time*.01)
ignoreHitPause = 1

[State 8000, Transparency]
type = Trans
trigger1 = Time < 4
trans = AddAlpha
alpha = 256, 256
ignoreHitPause = 1

[State 8000, Transparency]
type = Trans
trigger1 = Time >= 4
trans = AddAlpha
alpha = 256 - 64 * (Time - 4), 256
ignoreHitPause = 1

[State 8000, PosSet]
type = BindToRoot
trigger1 = root, stateno = 890
pos = 15, -55
ignorehitpause = 1

[State 8000, End]
type = DestroySelf
trigger1 = Time >= 8
;-------------------------------------------------------------------------------
[Statedef 7025]
type=A
movetype=I
physics=A
sprpriority=4

[State 0,VelSet]
type=VelSet
trigger1=!Time
x=-2+random%5
y=-4-random%4

[State 0,VarAdd]
type=VarAdd
trigger1=1
v=3
value=ifelse(vel x>=0,-10-random%5,10+random%5)

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=var(3)

[State 0,VarSet]
type=VarSet
trigger1=!Time
v=2
value=random%4

[State 0,ChangeAnim]
type=ChangeAnim
trigger1=1
value=7025
elem=var(2)

[State 200,End]
type=Changestate
trigger1=time>5&&pos y>=-10
value=7026
;-------------------------------------------------------------------------------
[Statedef 7026]
type=S
movetype=I
physics=S

[State 0,VelSet]
type=VelSet
trigger1=!Time
y=0

[State 0,PosSet]
type=PosSet
trigger1=!Time
y=0

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=var(3)

[State 0,ChangeAnim]
type=ChangeAnim
trigger1=1
value=anim
elem=var(2)

[State 0,VarAdd]
type=VarAdd
trigger1=time>=20
v=1
value=25

[State 0,Trans]
type=Trans
trigger1=time>=20
trans=addalpha
alpha=256-var(1),0+var(1)

[State 200,End]
type=Destroyself
trigger1=var(1)>=256
;-------------------------------------------------------------------------------
[Statedef 7027]
type = S
movetype = I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !Time
value = S1,10
volumescale = 50

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = !Time
anim = 7027
ID = 7027
pos = -20,-20
postype = p2
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
[Statedef 7028]
type = S
movetype = I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type=PlaySnd
trigger1 = Time%10 = 0
trigger2 = !Time
value = S1,10
volumescale = 100-(time*1)

[State 0, PlaySnd]
type=PlaySnd
trigger1 = Time%10 = 0
trigger2 = !Time
value = S1,10
volumescale = 50-(time*1)

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0,PosSet]
type=PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = TimeMod = 4,0
trigger2 = !Time
anim = 7002
ID = 7002
pos = 15,-0
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .6-(time*0.0075),.6-(time*0.0075)
sprpriority = 1
ontop=1
ownpal=1
removeongethit = 1
Vel = -.5,0

[State 0, Explod]
type = Explod
trigger1 = TimeMod = 8,0
trigger2 = !Time
anim = 7019
ID = 7019
pos = -2-random%4,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .8-(time*0.0125),.8-(time*0.0125)
sprpriority = 1
ontop = 1
ownpal = 1
angle = 0+random%2
removeongethit = 1
Vel = -.5-random%4,-.2-random%2

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
trigger2 =!Time
anim = 7026
ID = 7026
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .3,.1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, End]
type=Destroyself
trigger1 = enemy,stateno!=925001
;-------------------------------------------------------------------------------
[Statedef 7029]
type = S
movetype = I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type=PlaySnd
trigger1 = Time%10 = 0
trigger2 = !Time
value = S1,10
volumescale = 100-(time*1)

[State 0, PlaySnd]
type=PlaySnd
trigger1 = Time%10 = 0
trigger2 = !Time
value = S1,10
volumescale = 50-(time*1)

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0,PosSet]
type=PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = TimeMod = 4,0
trigger2 = !Time
anim = 7002
ID = 7002
pos = 15,-0
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .6-(time*0.0075),.6-(time*0.0075)
sprpriority = 1
ontop=1
ownpal=1
removeongethit = 1
Vel = -.5,0

[State 0, Explod]
type = Explod
trigger1 = TimeMod = 8,0
trigger2 = !Time
anim = 7019
ID = 7019
pos = -2-random%4,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .8-(time*0.0125),.8-(time*0.0125)
sprpriority = 1
ontop = 1
ownpal = 1
angle = 0+random%2
removeongethit = 1
Vel = -.5-random%4,-.2-random%2

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0
trigger2 =!Time
anim = 7026
ID = 7026
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime =0
removetime = -2
scale = .3,.1
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = enemy,stateno!=525603
ID = 7026

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = enemy,stateno!=525603
ID = 7019

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = enemy,stateno!=525603
ID = 7002

[State 200, End]
type=Destroyself
trigger1 = enemy,stateno!=525603
;--------------------------------------------------------------------------
;Shockwave
[StateDef 8200]
type = S
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = -1
poweradd = 0;0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 999
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = !time
value = 255,255,255
time = 3

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 8210
ID =   8210
pos = 0,0
scale = 1, 1
postype = p1
bindtime = -1
sprpriority = 10
ownpal = 1
removetime = 9
supermove = 1
pausemovetime = 999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 8200+(random%8)
ID =   8200
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 10
ownpal = 1
removetime = 14
supermove = 1
pausemovetime = 999
ontop = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8200
scale = .6+(0.2*time), .6+(0.2*time)
ignorehitpause = 1
persistent = 1
supermove = 1
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 8200+(random%8)
ID =   8201
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 10
ownpal = 1
removetime = 14
supermove = 1
pausemovetime = 999
ontop = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8201
scale = .2+(0.1*time), .2+(0.1*time)
ignorehitpause = 1
persistent = 1
supermove = 1
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 8200+(random%8)
ID =   8202
pos = 0,0
postype = p1
bindtime = -1
sprpriority = 10
ownpal = 1
removetime = 14
supermove = 1
pausemovetime = 999
ontop = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8202
scale = .1+(0.09*time), .1+(0.09*time)
ignorehitpause = 1
persistent = 1
supermove = 1
pausemovetime = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30
;-------------------------------------------------------------------------------
;p2-dead
[Statedef 8999]
type   = S
movetype= I
physics = N
velset = 0,0
juggle = 0
ctrl = 0
poweradd= 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 3000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 0, ChangeState]
type = SelfState
trigger1 = alive=0
value = 5150
ctrl = 1
;-------------------------------------------------------------------------------
;===============================================================================
; HELPER ESCALA:
;-------------------------------------------------------------------------------
[Statedef 999999]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = 1
Fv = 16
value = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1

