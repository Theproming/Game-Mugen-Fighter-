;===================================================================================
;---------------- Constantes y Ataques normales-------------------------------------
;===================================================================================

[Data]
life = 1000
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = -1
guard.sparkno = -1
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 10
ground.front = 10
air.back = 10
air.front = 10
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -50
mid.pos = -5, -25
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2
walk.back = -2
run.fwd  = 0
run.back = 0
jump.neu = 0,-9
jump.back = -4
jump.fwd = 4
runjump.back = 0
runjump.fwd = 0
airjump.neu = 0
airjump.back = 0
airjump.fwd = 0

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
;===============================================================================
; Star Platinum Guard:
;-------------------------------------------------------------------------------
; Start
[Statedef 160]
type    = A
movetype= I
physics = N
anim = 160
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 10,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time < 5
trans = addalpha
alpha = 0+time*50,256-time*50

[State 0, End]
type = Destroyself
trigger1 = root,stateno != [120,155]

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 140
value = 161
;-------------------------------------------------------------------------------
; Fin Destroy
[Statedef 161]
type    = A
movetype= I
physics = N
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 20,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*50,0+time*50

[State 0, End]
type = Destroyself
trigger1 = time >= 5
trigger2 = root,stateno != [120,155]
trigger3 = root,movetype = H
;===============================================================================
; Perder:
;-------------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 80
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,24
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,24

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Ganar:
;-------------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, 3]
type = ChangeState
triggerall = MatchOver
triggerall = !time && teammode = single && enemy,teammode = single
trigger1 = enemy, name = "Jotaro Kujo(SC)"
trigger1 = enemy, authorname = "Martix720"
value = ifelse(teamside = 1,1811,1812)

[State 180, 26]
type = ChangeState
trigger1 = var(20) = 1
trigger1 = MatchOver
value = 184

[State 180, 27]
type = ChangeState
triggerall = Life >= 500
trigger1 = !matchover
value = 181

[State 180, 28]
type = ChangeState
triggerall = Life < 500
trigger1 = !matchover
value = 182

[State 180, 29]
type = ChangeState
trigger1 = MatchOver
value = 183
;-------------------------------------------------------------------------------
; Win Pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 300
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,90
volumescale = 250

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win Pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 170
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,91
volumescale = 250

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win Pose 3
[Statedef 183]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 170
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,92
volumescale = 250

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win Pose - My STAND will be the judge!
[Statedef 184]
type = S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 21

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,147
volumescale = 250

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = -2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = frontedgebodydist < -10
trigger1 = time = 100
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win Pose - Jotaro
[Statedef 1811]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 190
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,99
volumescale = 250

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win Pose - Jotaro
[Statedef 1812]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = roundnotover

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,100
volumescale = 250

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Introducción:
;-------------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 4]
type = ChangeState
triggerall = !time && teammode = single && enemy,teammode = single
trigger1 = enemy, name = "Jotaro Kujo(SC)"
trigger1 = enemy, authorname = "Martix720"
value = ifelse(teamside = 1,1917,1918)

[State 190, 28]
type = ChangeState
trigger1 = !time
value = 191
;-------------------------------------------------------------------------------
; Intro - Normal
[Statedef 191]
type = S
ctrl = 0
anim = 20
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,40
volumescale = 250
channel = 14

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 0
x = -200

[State 0, PosSet]
type = Posadd
triggerall = facing = 1
trigger1 = time = [0,129]
x = 1

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 0
x = 200

[State 0, PosSet]
type = Posadd
triggerall = facing = -1
trigger1 = time = [0,129]
x = 1

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 129
value = 190
elem = 1

[State 190, 4]
type = ChangeState
trigger1 = time = 305
value = 0
;-------------------------------------------------------------------------------
; Intro - Vs. Jotaro
[Statedef 1917]
type = S
ctrl = 0
anim = 20
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,46
volumescale = 250
channel = 14

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 0
x = -200

[State 0, PosSet]
type = Posadd
triggerall = facing = 1
trigger1 = time = [0,129]
x = 1

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 0
x = 200

[State 0, PosSet]
type = Posadd
triggerall = facing = -1
trigger1 = time = [0,129]
x = 1

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 129
value = 190
elem = 1

[State 190, 4]
type = ChangeState
trigger1 = time = 380
value = 0
;-------------------------------------------------------------------------------
; Intro - Vs. Jotaro
[Statedef 1918]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S0,47
volumescale = 250
channel = 14

[State 0, PosSet]
type = PosSet
triggerall = facing = 1
trigger1 = time = 0
x = -200

[State 0, PosSet]
type = Posadd
triggerall = facing = 1
trigger1 = time = [160,289]
x = 1

[State 0, PosSet]
type = PosSet
triggerall = facing = -1
trigger1 = time = 0
x = 200

[State 0, PosSet]
type = Posadd
triggerall = facing = -1
trigger1 = time = [160,289]
x = 1

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 160
value = 20
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 289
value = 190
elem = 1

[State 190, 4]
type = ChangeState
trigger1 = time = 380
value = 0
;-------------------------------------------------------------------------------
; A - 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 200
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0
volumescale = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 2

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15,5
hitflag = MA
guardflag = MA
pausetime = 10,10
guard.pausetime = 7,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2,0
guard.velocity = -1
Fall = 0
fall.recover = 10

[State 0, HitDef]
type = HitDef
triggerall = numhelper(1350) = 1
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15,5
hitflag = MAF
guardflag = MA
pausetime = 10,10
guard.pausetime = 7,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2,0
guard.velocity = -1
Fall = 0
fall.recover = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 800
stateno = 800
pos = 22,-35
postype = p1
facing = 1
ownpal = 1
size.xscale = .32
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 210

[State 0, End]
type = ChangeState
Triggerall = movecontact && time < 17
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/2
value = 300

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 240

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 210
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,1
volumescale = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 3

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 15,5
guardflag = MA
pausetime = 10,10
guard.pausetime = 9,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2,0
guard.velocity = -1
Fall = 0
fall.recover = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 800
stateno = 800
pos = 22,-35
postype = p1
facing = 1
ownpal = 1
size.xscale = .32
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*4
value = 220

[State 0, End]
type = ChangeState
triggerall = movecontact && time < 21
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 240

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 220
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,2
volumescale = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 4

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage = 15,5
guardflag = MA
pausetime = 6,8
guard.pausetime = 10,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,0
air.velocity = -4,0
guard.velocity = -2
Fall = 0
fall.recover = 0
envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 800
stateno = 800
pos = 35,-28
postype = p1
facing = 1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 230

[State 0, End]
type = ChangeState
triggerall = movehit && time < 25
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 300

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 240

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 4
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 230
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,3
volumescale = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,9

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7

[State 0, VelSet]
type = VelSet
trigger1 = Movehit
x = 0

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage = 20,10
guardflag = MA
pausetime = 10,20
guard.pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -6,-5
guard.velocity = -2
Fall = 1
fall.recover = 0
envshake.time = 15

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 801
stateno = 801
pos = 35,-28
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
persistent = 0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 5
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 240
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
attr = SA, NA
animtype  = Light
damage = 4
guardflag = MA
pausetime = 1,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,-2
air.velocity = -1,-2
Fall = 0
snap = 45,0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos =  40+random%27,0-random%58
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact && time >= 18
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)*2
value = 230

[State 0, End]
type = ChangeState
Triggerall = movecontact && time >= 18
trigger1 = ailevel = 0 && Command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 250

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 6
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 250
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 16
y = 0

[State 0, VelSet]
type = VelSet
trigger1 =  p2bodydist x < 2
x = 0

[State 0, HitDef]
type = HitDef
trigger1 =!movecontact
attr = S,NP
animtype = Medium
damage = 5
guardflag = MA
pausetime = 15,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,7
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 801
stateno = 801
pos = 30,-28
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
persistent = 0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && Command = "up"
trigger2 = roundstate = 2 && ailevel > 0&& random < (ailevel * 100)
value = 40

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Down - A
;-------------------------------------------------------------------------------
[Statedef 260]
type    = C
movetype= A
physics = C
juggle  = 1
ctrl = 0
anim = 260
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0
volumescale = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = C,NA
priority = 3, Hit
hitflag = MA
guardflag = MA
animtype = Light
damage = 15,5
pausetime = 10,10
guard.pausetime = 10,6
hitsound = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -3,0
air.velocity = -3,0
fall = 0
envshake.time = 8
envshake.ampl = -4

[State 0, HitDef]
type = HitDef
triggerall = numhelper(1350) = 1
trigger1 = !MoveContact
attr = C,NA
priority = 3, Hit
hitflag = MAF
guardflag = MA
animtype = Light
damage = 15,5
pausetime = 10,10
guard.pausetime = 10,6
hitsound = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -3,0
air.velocity = -3,0
fall = 0
envshake.time = 8
envshake.ampl = -4

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 800
stateno = 800
pos = -4,-24
postype = p2
facing = 1
ownpal = 1
size.xscale = .32
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, Into A-3]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 220

[State 0, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===============================================================================
; Down - A+B
;-------------------------------------------------------------------------------
[Statedef 280]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 300
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,36
volumescale = 250

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 =!Time
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 285
pos = 15,-5
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Body]
type = Helper
triggerall = numhelper(450) = 0
trigger1 = time = 0
helpertype = Player
name = "Body"
ID = 481
stateno = 281
pos = 0,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 999
ignorehitpause  = 1
size.xscale = 1
size.yscale = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 10 && numhelper(340) > 0
value = anim
elem = 4

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Body
[Statedef 281]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 450
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 999

[State 0, Width]
type = Width
trigger1 = 1
player = 15,15

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 1
value = gethitvar(damage)

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
facing = root, facing
pos = 0,0

[State 0, End]
type = DestroySelf
trigger1 = root,stateno != 280
;-------------------------------------------------------------------------------
; SP
[Statedef 285]
type = S
movetype = A
physics = S
juggle = 1
anim = 285
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 =!Time
value = S5,30
volumescale = 175

[State 0, Trans]
type = Trans
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, Breath]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Breath"
ID = 286
stateno = 286
pos = 54,-44
postype = p1
facing = 1
ownpal = 1
size.xscale = .4
size.yscale = .3

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 0
hitflag = MA
guardflag = MA
pausetime = 0,5
guard.pausetime = 7,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 9,0
air.velocity = 9,0
guard.velocity = -1
snap = 80,0
Fall = 0
fall.recover = 0
sprpriority = 4

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 300
value = 340

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 380
value = 381

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 400
value = 405

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, End]
type = ChangeState
trigger1 = animelem = 4
value = 345
;-------------------------------------------------------------------------------
; Platinum Breath FX
[Statedef 286]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 286
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, End]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = root,stateno != 280
;===============================================================================
; Combo B - 1
;-------------------------------------------------------------------------------
[Statedef 300]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 300
poweradd = ifelse(numhelper(1350) > 0,0,50)
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 280
trigger1 = Time = 0
value = S0,25
volumescale = 420

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0 
trigger1 =!Time
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 340
pos = 5,-5
postype = p1
keyctrl = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = prevstateno = 280
trigger1 = numhelper(340) > 0
value = anim
elem = 4

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b" && command = "holddown"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 383
ctrl = 1

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 310
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;---------------------------------------------------------------------------
; Combo B - Fin
[Statedef 305]
type    = S
movetype= A
physics = S
juggle  = 5
ctrl = 0
velset = 0,0
anim = 301

[State 0, ChangeState]
type = ChangeState
trigger1 = time  = 6
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo B - 2
[Statedef 310]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 302
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 320
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Combo B - 3
[Statedef 320]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 302
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b" && command = "holddown"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 383
ctrl = 1

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 330
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Combo B - 4
[Statedef 330]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 302
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - 1
[Statedef 340]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 305
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 285
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, Trans]
type = Trans
triggerall = prevstateno != 285
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time = [0,5]
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 9

[State 0, VelSet]
type = VelSet
trigger1 = movehit
trigger2 = moveguarded
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall =!movecontact
trigger1 = 1
attr = S,NP
animtype = Medium
damage = 15,5
hitflag = MA
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
getpower = 0,0
Envshake.time = 10
sprpriority = 3

[State 0, HitDef]
type = HitDef
triggerall = numhelper(1350) = 1
triggerall = !movecontact
trigger1 = 1
attr = S,NP
animtype = Medium
damage = 15,5
hitflag = MAF
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
getpower = 0,0
Envshake.time = 10
sprpriority = 3

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 22,-35
postype = p1
ownpal = 1
size.xscale = .32
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 310
value = 350

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 383
value = 384

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 400
value = 405

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 5
trigger2 = root,movetype = H
value = 345
;-------------------------------------------------------------------------------
; Star Platinum - Fin
[Statedef 345]
type = A
movetype = I
physics = N
juggle = 1
velset = rootdist x/10,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 && prevstateno = 435
trigger2 = time = 0 && prevstateno = 437
trigger3 = time = 0 && prevstateno = 438
trigger4 = time = 0 && prevstateno = 3012
y = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,0+time*25

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 0, DestroySelf]
type = Destroyself
trigger1 = time >= 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Star Platinum - 2
[Statedef 350]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 315
velset = 0,0
sprpriority = 3

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = time = 0
x = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall =!movecontact
trigger1 = 1
attr = S,NA
animtype = High
damage = 15,5
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -3
air.velocity = -3,0
sprpriority = 3
Fall = 0
getpower = 0,0
Envshake.time=10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 28,-26
postype = p1
ownpal = 1
size.xscale = .28
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 320
value = 360

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 380
value = 381

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 400
value = 405

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 6
value = 345
;-------------------------------------------------------------------------------
; Star Platinum - 3
[Statedef 360]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 325
velset = 0,0
sprpriority = 3

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = time = 4
x = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall =!movecontact
trigger1 = 1
attr = S, NA
animtype  = High
damage = 15,5
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,0
sprpriority = 3
Fall = 0
getpower = 0,0
envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 28,-30
postype = p1
ownpal = 1
size.xscale = .28
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 330
value = 370

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 383
value = 384

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 400
value = 405

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 5
value = 345
;-------------------------------------------------------------------------------
; Star Platinum - 4
[Statedef 370]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 335
velset = 0,0
sprpriority = 3

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = time = 6
x = 8

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = movehit
trigger2 = moveguarded
x = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = High
damage    = ifelse(numhelper(1350) > 0,15,30)
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,6
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
sprpriority = 3
Fall = 1
Fall.recover = 0
getpower = 0,0
envshake.time = 10

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
pos = 42,0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [455,456]
trigger1 = movehit = 1
value = 455

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 805
stateno = 805
pos = 48,-30
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
persistent = 0
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 7
value = 345
;-------------------------------------------------------------------------------
; B + Down
[Statedef 380]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 300
poweradd = ifelse(numhelper(1350) > 0,0,50)
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 280
triggerall = prevstateno != [310,383]
trigger1 = time = 0
value = S0,5

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 = time = 0
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 381
pos = 10,-5
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = numhelper(340) > 0
trigger1 = prevstateno = 280
trigger2 = prevstateno = [310,383]
value = anim
elem = 4

[State 0, End]
type = ChangeState
Triggerall = helper(340),movehit && time > 5
triggerall = prevstateno != [300,383]
trigger1 = ailevel = 0 && command = "holdup"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/2
value = 40

[State 0, End]
type = ChangeState
Triggerall = helper(340),movehit && time > 10
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 390

[State 0, End]
type = ChangeState
Triggerall = helper(340),movehit && time > 10
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 430

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - 1
[Statedef 381]
type    = S
movetype= A
physics = S
juggle  = 1
anim = 381
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 285
triggerall = prevstateno != [310,383]
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, Trans]
type = Trans
triggerall = prevstateno != 285
triggerall = prevstateno != [310,383]
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 50
trigger2 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time = [0,5]
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Up
damage = 15,5
hitflag = MA
guardflag = MA
pausetime = 10,10
guard.pausetime = 2,7
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
guard.velocity = -2
Fall = 1
Fall.recover = 10
envshake.time = 20
sprpriority = 4

[State 0, HitDef]
type = HitDef
triggerall = numhelper(1350) = 1
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Up
damage = 15,5
hitflag = MAF
guardflag = MA
pausetime = 10,10
guard.pausetime = 2,7
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
guard.velocity = -2
Fall = 1
Fall.recover = 10
envshake.time = 20
sprpriority = 4

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 801
stateno = 801
pos = 0,-30
postype = p2
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 390
value = 395

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 430
value = 435

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 6
trigger2 = root,movetype = H
value = 382
;-------------------------------------------------------------------------------
; Star Platinum Fin
[Statedef 382]
type    = A
movetype= I
physics = N
velset = rootdist x / 10,rootdist y / 10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,0+time*25

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = time >= 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; B + Down - 2
[Statedef 383]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 302
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, End]
type = ChangeState
Triggerall = helper(340),movehit && time > 8
trigger1 = ailevel = 0 && command = "b" && command = "holddown" 
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 380

[State 0, End]
type = ChangeState
Triggerall = helper(340),movehit && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 386

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - 2
[Statedef 384]
type    = S
movetype= A
physics = S
juggle  = 1
anim = 616
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage = 15,5
guardflag = MA
pausetime = 10,10
guard.pausetime = 2,7
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6
air.velocity = -1,-6
guard.velocity = -2
Fall = 1
Fall.recover = 0
envshake.time = 20
sprpriority = 4

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 28,-30
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 380
value = 385

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 386
value = 387

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 430
value = 435

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 5
value = 382
;-------------------------------------------------------------------------------
; Star Platinum - 3
[Statedef 385]
type    = S
movetype= A
physics = S
juggle  = 1
anim = 381
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 5
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Up
damage = 15,5
guardflag = MA
pausetime = 10,10
guard.pausetime = 2,7
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
guard.velocity = -2
Fall = 1
Fall.recover = 0
envshake.time = 20
sprpriority = 4

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 801
stateno = 801
pos = 0,-30
postype = p2
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 390
value = 395

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 430
value = 435

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 6
trigger2 = root,movetype = H
value = 382
;-------------------------------------------------------------------------------
; B + Down - 4
[Statedef 386]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 302
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 305
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - 4
[Statedef 387]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 617
sprpriority = 3

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 1
trigger1 = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = -9

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = .2
y = -.2

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,2 
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = SA,NA
animtype  = Hard
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,11
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -10,7
Fall = 1
Fall.recover = 0
Envshake.time = 20

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 805
stateno = 805
pos = 35,-30
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = animelem = 6
value = 619
;-------------------------------------------------------------------------------
; B - Star Finger
[Statedef 390]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 430
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,12

[State 0, Star Platinum]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(340) = 0
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 395
pos = 10,-5
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - 5
 [Statedef 395]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 395
velset = 0,0
sprpriority = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
pos = 65,-65
Ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,2
volumescale = 500

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Medium
damage = 20,10
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-6
air.velocity = -4,-6
Fall = 1
Fall.recover = 0
Envshake.time = 15
Getpower = 0,0
sprpriority = 3

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 805
stateno = 805
pos = 70,-96
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = animelem = 9
value = 436
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; C - 1
[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 400
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 =!Time
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 405
pos = 10,-5
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 5
value = 401
elem = 1

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 410
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 401
ctrl = 0
;---------------------------------------------------------------------------
; Stand User - Fin
[Statedef 401]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 402

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime  = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - Start
[Statedef 405]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 405
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,10
volumescale = 175
channel = 3

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 285
triggerall = prevstateno != [340,350]
triggerall = prevstateno != [360,370]
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = frontedgebodydist < 60
x = 0

[State 0, Trans]
type = Trans
triggerall = prevstateno != 285
triggerall = prevstateno != [340,350]
triggerall = prevstateno != [360,370]
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
attr = SA, NA
animtype  = Light
damage = 3,1
hitflag = MA
guardflag = MA
pausetime = 1,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55


[State 0, HitDef]
type = HitDef
triggerall = numhelper(1350) = 1
triggerall = !movecontact
trigger1 = animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
attr = SA, NA
animtype  = Light
damage = 3,1
hitflag = MAF
guardflag = MA
pausetime = 1,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 45,0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 40+random%27,0-random%58
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 410
value = 407

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 406
;-------------------------------------------------------------------------------
; Star Platinum - Fin
[Statedef 406]
type    = S
movetype= I
physics = S
juggle  = 1
anim = 406
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, End]
type = ChangeState
trigger1 = time = 0
value = 345
;-------------------------------------------------------------------------------
; Star Platinum - Loop
[Statedef 407]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 407
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = frontedgebodydist < 60
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
attr = SA, NA
animtype  = Light
damage = 3,1
guardflag = MA
pausetime = 1,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 45,0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 420
value = 408

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1000
value = 1011

[State 0, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1220

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1500
value = 1510

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 406
;-------------------------------------------------------------------------------
; Star Platinum - Loop 2
[Statedef 408]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 407
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = frontedgebodydist < 60
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9
attr = SA, NA
animtype  = Light
damage = 3,1
guardflag = MA
pausetime = 1,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 11
attr = SA, NA
animtype  = Light
damage = 3
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5,-3
air.velocity = -5,-3
Fall = 1
Fall.recover = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
pos = 45,0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 406
;-------------------------------------------------------------------------------
; C - 2 Loop
[Statedef 410]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 401
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 14
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 420

[State 0, End]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 401
ctrl = 1
;-------------------------------------------------------------------------------
; C - 3 Loop
[Statedef 420]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 401
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, End]
type = ChangeState
trigger1 = numhelper(340) = 0
value = 401
ctrl = 1
;---------------------------------------------------------------------------
; C - SPECIAL
[Statedef 425]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 301

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = time  = 0
value = 1400
ctrl = 1
;-------------------------------------------------------------------------------
; C - Up
[Statedef 430]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 430
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 =!Time
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 435
pos = 15,-5
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 15
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 390

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 15
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 440

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Star Platinum - Rush
[Statedef 435]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 435
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volumescale = 250
channel = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = time = 0
x = 2
y = -2

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 0
trigger1 = time = 8
x = .5
y = -.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14
attr = A, SP
animtype  = Medium
damage = 3
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 435,-0.2,ifelse(time > 85,-3,-1)),ifelse(anim = 435,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 435,-0.2,ifelse(time > 85,-3,-1)),ifelse(anim = 435,-0.5,ifelse(time > 85,-1,0))
Fall = 0
fall.recover = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, TargetBind]
type = TargetBind
triggerall = numhelper(1350) = 0
trigger1 = movehit = 1
pos = 25,-35

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 390
value = 395

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 440
value = 437

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 436
;-------------------------------------------------------------------------------
; Star Platinum - Fin
[Statedef 436]
type    = A
movetype= I
physics = N
anim = 436
velset = rootdist x / 10,rootdist y / 10

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,0+time*25

[State 0, End]
type = Destroyself
trigger1 = time >= 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Star Platinum - Loop
[Statedef 437]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 437
velset = 0,0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
attr = A, SP
animtype  = Medium
damage = 3
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 437,-0,ifelse(time > 85,-3,-1)),ifelse(anim = 437,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 437,-0,ifelse(time > 85,-3,-1)),ifelse(anim = 437,-0.5,ifelse(time > 85,-1,0))
Fall = 0
fall.recover = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 390
value = 395

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 450
value = 438

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 436
;-------------------------------------------------------------------------------
; Star Platinum - Loop 2
[Statedef 438]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 437
velset = 0,0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
attr = A, SP
animtype  = Medium
damage = 3
guardflag = MA
pausetime = 2,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 437,0,ifelse(time > 85,-3,-1)),ifelse(anim = 437,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 437,0,ifelse(time > 85,-3,-1)),ifelse(anim = 437,-0.5,ifelse(time > 85,-1,0))
Fall = 0
fall.recover = 0
envShake.Time = 10
envshake.ampl = cond(random < 500,-2,2)
envshake.freq = 55

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 13
attr = A,NP
animtype = Medium
damage = 4
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4,2
air.velocity = -4,2
Fall = 1
Fall.recover = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 390
value = 395

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 439
;-------------------------------------------------------------------------------
; Star Platinum - Fin
[Statedef 439]
type    = A
movetype= A
physics = N
juggle  = 1
anim = 439
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6

[State 0, HitDef]
type = HitDef
triggerall =!movecontact
trigger1 = 1
attr = S,NP
animtype = Medium
damage = 4
guardflag = MA
pausetime = 16,16
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5,-7
air.velocity = -5,-7
Fall = 1
fall.recover = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 805
stateno = 805
pos = 28,-60
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, DestroySelf]
type = ChangeState
trigger1 = time = 20
value = 436
;-------------------------------------------------------------------------------
; C - 2 Loop
[Statedef 440]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 430
Velset = 0,0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 15
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 390

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 14
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 450

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; C - 3 Loop
[Statedef 450]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 430
Velset = 0,0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 5
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 390

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; P2 - Hacia la Pared
[Statedef 455]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -20,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S100,0
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S100,0
volumescale = 100

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 456

[State 0, End]
type = ChangeState
trigger1 = Time = 15
value = 457
;-------------------------------------------------------------------------------
; P2 - Empotrado en la Pared
[Statedef 456]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-4
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 0, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; P2 - Al Piso
[Statedef 457]
type    = U
movetype= H
physics = A
juggle  = 1
ctrl = 0
sprpriority = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5061+Cond(authorname = "Mikel8888"||authorname = "Rivelio",var(10),0)
elem = 1

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = -15
y = -1

[State 0, elAdd]
type = VelAdd
Trigger1 = Vel X < 2
x = 2

[State 0, elAdd]
type = VelAdd
Trigger1 = Time = 1
y = 2

[State 0, Selfstate]
type = Selfstate
trigger1 = time = 1
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
; Helper - P2 Contra la Pared
[Statedef 461]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, Spark Floor FX]
type = Explod
trigger1 = time = 0
anim = 7033
ID = 7033
pos = -20,-25
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
angle = 90
trans = sub
[State 0, Spark Floor FX]
type = Explod
trigger1 = time = 0
anim = 7033
ID = 7033
pos = -20,-25
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
angle = 90
remappal = 7007,1
trans = addalpha
alpha = 150,256
[State 0, Spark Floor FX]
type = Explod
trigger1 = time = 0
anim = 7033
ID = 7033
pos = -20,-25
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0
angle = 90
remappal = 7007,1
trans = addalpha
alpha = 150,256

[State 0, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Polvo en P2
[Statedef 465]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,0
anim = 7022
ID = 1051
pos = 0,0
postype = p1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
trigger2 = time = 0
anim = 900
ID = 900
pos = 0,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -.5,0
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, End]
type = Destroyself
trigger1 = enemy,stateno != 455
;===============================================================================
; Down + C
;-------------------------------------------------------------------------------
[Statedef 480]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 480
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time >= 5
reversal.attr = SCA,NA,SA,ST,HT,NP
p1stateno = 481
pausetime = 0,10

[State 0, End]
type = ChangeState
trigger1 = time = 42
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Down + C - Override
[Statedef 481]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 481
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 485
id = 485
pos = -4,-34
postype = p1
removetime = 14
bindtime = 1
id = 382
ownpal = 1
scale = 0.5,0.5
sprpriority = 21
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 =!time
value = S5,33
volumescale = 500

[State 0, Pause]
type = Pause
triggerall = numhelper(1350) = 0
trigger1 = time = 0
time = 10
movetime = 10

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = numhelper(1350) = 0
trigger1 = time = [0,10]
flag = nomusic
flag2 = timerfreeze

[State 0, BGPalFX]
type = BGPalFX
triggerall = numhelper(1350) = 0
trigger1 = time = [0,10]
time = 1
invertall = 1
color = 0

[State 0, PosSet]
type = Posadd
trigger1 = time = 1
x = p2bodydist x + 80

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0

[State 0, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Power Charge:
;-------------------------------------------------------------------------------
; Power Charge - Start
[Statedef 500]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S0,32
volumescale = 500
channel = 2

[State 0, Stars]
type = Explod
triggerall = time%3 = 0
trigger1 = time > 0
anim = 555
ID = 555
pos = -15+random%25,0-random%55
postype = p1
bindtime = 1
vel = 0,-1
removetime = -2
scale = .4,.4
sprpriority = 6
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Aura]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
ownpal = 1
Size.Xscale = .18
Size.Yscale = .26

[State 0, Aura]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 551
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
Size.Xscale = .18
Size.Yscale = .26

[State 0, Aura]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 552
stateno = 552
pos = 0,-25
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, Aura]
type = Helper
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 553
stateno = 553
pos = 0,-25
postype = p1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time >= 7 && timemod = 120,0
trigger2 = time = 7
value = S500,1
channel = 1

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 7
trigger1 = time%5 = 0
time = 5
ampl = -4

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 7
trigger1 = 1
value = 10

[State 0, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = 501
;-------------------------------------------------------------------------------
; Power Charge - Fin
[Statedef 501]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501+var(11)
sprpriority = 2

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Aura - Start
[Statedef 550]
type    = A
movetype= I
physics = N
anim = 550
sprpriority = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = -20,-50,-100
mul = 500,500,0
sinadd = 10,10,10,10
invertall = 0
color = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -4,-35

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = DestroySelf
trigger1 = root,movetype = H
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno != 500
value = 554
;-------------------------------------------------------------------------------
; Aura - Start
[Statedef 551]
type    = A
movetype= I
physics = N
anim = 550
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -4,-35

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 56,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = ChangeState
trigger1 = root,stateno != 500
value = 553
;-------------------------------------------------------------------------------
; Aura Ground - Start
[Statedef 552]
type    = A
movetype= I
physics = N
anim = 551
sprpriority = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 1
add = -20,-50,-100
mul = 500,500,0
sinadd = 10,10,10,10
invertall = 0
color = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-23

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
source = 1058,0
dest = 1058,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = ChangeState
trigger1 = root,stateno != 500
value = 554
;-------------------------------------------------------------------------------
; Aura Ground - Start
[Statedef 553]
type    = A
movetype= I
physics = N
anim = 551
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-23

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
source = 1058,0
dest = 1058,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 56,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = ChangeState
trigger1 = root,stateno != 500
value = 554
;-------------------------------------------------------------------------------
; Aura - Fin
[Statedef 554]
type    = A
movetype= I
physics = N
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -13

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = Destroyself
trigger1 = time >= 10
;-------------------------------------------------------------------------------
; Aura 2 - Start
[Statedef 555]
type    = A
movetype= I
physics = N
anim = 550
sprpriority = -1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-38

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 10
v = 1
value = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 128,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = ChangeState
trigger1 = root,stateno != 500
value = 556
;-------------------------------------------------------------------------------
; Aura 2 - Fin
[Statedef 556]
type    = A
movetype= I
physics = N
sprpriority = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = -13

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, End]
type = Destroyself
trigger1 = time >= 10
;-------------------------------------------------------------------------------
; Speed FX
[Statedef 580]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7040
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Speed FX
[Statedef 581]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7040
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 120
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Speed FX
[Statedef 582]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7040
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -120
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Speed FX
[Statedef 583]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7040
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;===============================================================================
; A Aire - 1
;-------------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 600
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,37
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,37

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,6

[State 0, VelSet]
type = VelSet
trigger1 =!Time
x = 1.5
y = -2.5

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 2
y = -2

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Medium
damage    = 15,5
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 800
stateno = 800
pos = 28,-22
postype = p1
ownpal = 1
size.xscale = .17
size.yscale = .17
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 601

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 610

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; A Aire - 2
;-------------------------------------------------------------------------------
[Statedef 601]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 601
poweradd = ifelse(numhelper(1350) > 0,0,50)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,38
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,38

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,5

[State 0, VelSet]
type = Velset
trigger1 = time = 7
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 2
y = -2

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Medium
damage = 20,10
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,3
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-1
air.velocity = -5,-1
Fall = 1
Fall.recover = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 801
stateno = 801
pos = 28,-14
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 610

[State 0, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;===============================================================================
; B Aire - 1
;-------------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 610
poweradd = ifelse(numhelper(1350) > 0,0,50)
Velset = -.15,-.15
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 1
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,39

[State 0, Star Platinum]
type = Helper
trigger1 =!Time
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 615
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(340) = 0
statetype = A
movetype = I
physics = A

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 611
ctrl = 1

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 620
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; B Aire - 2
[Statedef 611]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 610
poweradd = ifelse(numhelper(1350) > 0,0,50)
Velset = -.15,-.15
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(340) = 0
statetype = A
movetype = I
physics = A

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 8
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 612
ctrl = 1

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; B Aire - 3
[Statedef 612]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 610
poweradd = ifelse(numhelper(1350) > 0,0,50)
Velset = -.15,-.15
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(340) = 0
statetype = A
movetype = I
physics = A

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Star Platinum - 1
[Statedef 615]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 615
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, Trans]
type = Trans
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Medium
damage    = 15,5
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-3
air.velocity = -1,-3
Fall = 0
Fall.recover = 0
snap = 30,-5
Envshake.time = 20
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 28,-30
postype = p1
ownpal = 1
size.xscale = .28
size.yscale = .28
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 611
value = 616

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 620
value = 625

[State 0, End]
type = ChangeState
trigger1 = animelem = 5
value = 619
;-------------------------------------------------------------------------------
; Star Platinum - 2
[Statedef 616]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 616
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 8

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = .2

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -8
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall =!movecontact
trigger1 = 1
attr = S,NP
animtype = Medium
damage = 15,5
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,5
air.velocity = -1,-5
Fall = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = 23,-50
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 612
value = 617

[State 0, End]
type = ChangeState
trigger1 = animelem = 5
value = 619
;-------------------------------------------------------------------------------
; Star Platinum - 3
[Statedef 617]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 617
sprpriority = 3

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 1
trigger1 = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = -12

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = .2
y = -.2

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,2
volumescale = 500

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = SA,NA
animtype  = Hard
damage    = 25,10
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,11
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -10,7
Fall = 1
Fall.recover = 0
Envshake.time = 20

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 805
stateno = 805
pos = 35,-30
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = animelem = 6
value = 619
;-------------------------------------------------------------------------------
; Star Platinum Fin
[Statedef 619]
type    = A
movetype= I
physics = N
juggle  = 1
velset = rootdist x / 10,rootdist y / 10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,0+time*25

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, End]
type = Destroyself
trigger1 = time >= 10
trigger2 = root,movetype = H
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; C - 1
[Statedef 620]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 610
poweradd = ifelse(numhelper(1350) > 0,0,50)
Velset = .15,.15
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall = numhelper(1350) = 1
trigger1 = 1
x = 0
y = 0

[State 0, SP]
type = Helper
triggerall = prevstateno != 610 
trigger1 =!Time
helpertype = normal
name = "SP"
ID = 340
stateno = 625
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0 && numhelper(340) > 0
value = anim
elem = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = numhelper(340) = 0
statetype = A
movetype = I
physics = A

[State 0, End]
type = ChangeState
Triggerall = Helper(340),movecontact && time > 15
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 630

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Star Platinum - Start
[Statedef 625]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
anim = 625
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volumescale = 250
channel = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,0
Ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 615
trigger1 = time = 0
value = S5,30
volumescale = 175

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, Trans]
type = Trans
triggerall = prevstateno != 615 
trigger1 = time < 5
trans = addalpha
alpha = 0+time*25,256-time*25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2||animelem = 4||animelem = 6||animelem = 8||animelem = 10||animelem = 12||animelem = 14
attr = A, NP
animtype  = Medium
damage    = 3,1
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 625,0,ifelse(time > 85,-3,-1)),ifelse(anim = 625,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 625,0,ifelse(time > 85,-3,-1)),ifelse(anim = 625,-0.5,ifelse(time > 85,-1,0))
Fall = 0
Envshake.time = 10

[State 0, TargetBind]
type = TargetBind
triggerall = numhelper(1350) = 0
trigger1 = movehit = 1
pos = 25,30

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 630
value = 627

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 626
;-------------------------------------------------------------------------------
; Star Platinum - Fin
[Statedef 626]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
anim = 626
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = time = 3
value = 345
;-------------------------------------------------------------------------------
; Star Platinum - Loop
[Statedef 627]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
anim = 627
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
attr = A, NP
animtype  = Medium
damage    = 3,1
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 626,0,ifelse(time > 85,-3,-1)),ifelse(anim = 627,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 627,0,ifelse(time > 85,-3,-1)),ifelse(anim = 627,-0.5,ifelse(time > 85,-1,0))
Fall = 0
Envshake.time = 10

[State 0, TargetBind]
type = TargetBind
triggerall = numhelper(1350) = 0
trigger1 = movehit = 1
pos = 25,30

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 640
value = 628

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 626
;-------------------------------------------------------------------------------
; Star Platinum - Loop 2
[Statedef 628]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
anim = 627
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numhelper(1350) = 1
flag = unguardable

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 345

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11||animelem = 13
value = S5,6

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5||animelem = 7||animelem = 9||animelem = 11
attr = A, NP
animtype  = Medium
damage    = 3,1
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(anim = 627,0,ifelse(time > 85,-3,-1)),ifelse(anim = 627,-0.5,ifelse(time > 85,-1,0))
air.velocity = ifelse(anim = 627,0,ifelse(time > 85,-3,-1)),ifelse(anim = 627,-0.5,ifelse(time > 85,-1,0))
Fall = 0
Envshake.time = 10

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 13
attr = A,NP
animtype = Medium
damage = 4
guardflag = MA
pausetime = 1,3
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound = S1,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4,2
air.velocity = -4,2
Fall = 1
Fall.recover = 0
Envshake.time = 10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
name = "Hit Spark"
ID = 802
stateno = 802
pos = -25+random%27,0-random%58
postype = p2
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1
persistent = 4
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 8,-30
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1200
value = 1210

[State 0, End]
type = ChangeState
trigger1 = root,stateno = 1400
value = 1410

[State 0, End]
type = ChangeState
trigger1 = animtime = 0
value = 626
;-------------------------------------------------------------------------------
; C - 2 Loop
[Statedef 630]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
Velset = 0,0
sprpriority = 2

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 = time = 0
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 627
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 3

[State 0, End]
type = ChangeState
Triggerall = helper(340),movecontact && time > 14
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 640

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; C - 3 Loop
[Statedef 640]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
Velset = 0,0
sprpriority = 2

[State 0, Star Platinum]
type = Helper
triggerall = numhelper(340) = 0
trigger1 = time = 0
helpertype = normal
name = "Star Platinum"
ID = 340
stateno = 628
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(340) > 0
value = anim
elem = 3

[State 0, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Hit Spark FX
[Statedef 800]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 4

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 7
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 8
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 2 FX
[Statedef 801]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 4

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .12,.12
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .12,.12
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 7
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 8
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 3 FX
[Statedef 802]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 8

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .1,.1
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 7
removetime = -2
bindtime = 1
ownpal = 1
scale = .23,.23
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 8
removetime = -2
bindtime = 1
ownpal = 1
scale = .23,.23
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 4 FX
[Statedef 803]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 8

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .14,.14
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .14,.14
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 7
removetime = -2
bindtime = 1
ownpal = 1
scale = .27,.27
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 8
removetime = -2
bindtime = 1
ownpal = 1
scale = .27,.27
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 5 FX
[Statedef 804]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 8

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7009
ID = 7009
postype = P1
pos = 0,0
sprpriority = 9
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .11,.11
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
facing = -1
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .11,.11
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1

[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 7
removetime = -2
bindtime = 1
ownpal = 1
scale = .23,.23
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
[State 0, Spark CVS]
type = Explod
trigger1 =!time
anim = 7011
ID = 7011
postype = P1
pos = 0,0
facing = -1
sprpriority = 8
removetime = -2
bindtime = 1
ownpal = 1
scale = .23,.23
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 6 FX
[Statedef 805]
type    = A
anim = 9999
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = !time 
fv = 31
value = .25
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0 && (parent,stateno = 395||parent,stateno = 439)
fv = 31
value = .2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0 && (parent,stateno = 1411||parent,stateno = 1513||parent,stateno = 1613)
fv = 31
value = .33
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 0+random%360
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 41
value = var(40)+(40+random%30)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7260
ID = 7260
pos = 0,0
postype = P1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
scale = fvar(31),fvar(31)
sprpriority = 4
remappal = 7142,1
angle = var(41)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7260
ID = 7260
pos = 0,0
postype = P1
facing = 1
vfacing = 1
bindtime = 9999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
scale = fvar(31),fvar(31)
sprpriority = 4
trans = sub
angle = var(41)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
ownpal = 1
removeongethit = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !time
;-------------------------------------------------------------------------------
; Hit Spark 8 FX
[Statedef 806]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 8

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7260
ID = 7260
postype = P1
pos = 0,0
sprpriority = 5
removetime = -2
bindtime = 1
ownpal = 1
scale = .33,.33
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7260
ID = 7260
postype = P1
pos = 0,0
sprpriority = 6
removetime = -2
bindtime = 1
ownpal = 1
scale = .33,.33
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7142,1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Hit Spark 9 FX
[Statedef 807]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 8

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7008
ID = 7008
postype = P1
pos = 0,0
sprpriority = 10
removetime = -2
bindtime = -1
ownpal = 1
scale = .9,.9
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
persistent = -1

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
sprpriority = 5
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7010
ID = 7010
postype = P1
pos = 0,0
sprpriority = 6
removetime = -2
bindtime = -1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7002,1

[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7011
ID = 7011
postype = P1
pos = 0,0
sprpriority = 7
removetime = -2
bindtime = -1
ownpal = 1
scale = .55,.55
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
trans = sub
[State 0, Spark CVS]
type = Explod
trigger1 = time = 0
anim = 7011
ID = 7011
postype = P1
pos = 0,0
sprpriority = 8
removetime = -2
bindtime = -1
ownpal = 1
scale = .55,.55
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
persistent = -1
remappal = 7001,1

[State 0, End]
type = Destroyself
trigger1 = AnimTime = 0