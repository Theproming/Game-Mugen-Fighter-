;===============================================================================
;----------------------SPECIALS-------------------------------------------------
;===============================================================================
;===============================================================================
; Chidori(HOLD):
;-------------------------------------------------------------------------------
; Chidori(HOLD) - Start
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000+var(11)
poweradd = -1000
sprpriority = 2

[State 0, Fuego Negro]
type = Explod
triggerall = time = [30,60]
trigger1 = timemod = 1,0
anim =  1025
ID = 1025
pos = -20+(random%10),0-(random%40)
postype = p1
facing = 1
vfacing = 1
vel = -2+random%4,-1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S4,52
volume = 50

[State 0, Chidori Charge]
type = Explod
trigger1 = animelem = 2
anim = 1030
ID = 330
pos = 12,-17
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .35,.35
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 25
supermovetime = 25

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
id = 330

[State 0, Chidori Charge]
type = Explod
trigger1 = time = 60
anim = 1032
ID = 330
pos = 12,-17
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .35,.35
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 25
supermovetime = 25

[State 0, Chidori Charge]
type = Explod
trigger1 = time = 60
anim = 1031
ID = 330
pos = 12,-17
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .35,.35
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 25
supermovetime = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S4,52
volume = 50

[State 0, Hold FX]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "Hold FX"
ID = 1030
stateno = 1030
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .35
size.yscale = .35

[State 200, End]
type = ChangeState
triggerall = ailevel = 0
triggerall = time >= 30
trigger1 = command != "hold_a"
trigger2 = time = 90
value = ifelse(time > 60,1020,1010)

[State 200, End]
type = ChangeState
triggerall = ailevel > 0
triggerall = time >= 30
trigger1 = time = 90
trigger2 = p2bodydist x < 75
trigger3 = time = 30+random%30 && random < 500
value = ifelse(time > 60,1020,1010)
;-------------------------------------------------------------------------------
; Chidori - Carrera
[Statedef 1010]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1010+var(11)
sprpriority = 2

[State 0, Fuego Negro]
type = Explod
triggerall = time = [0,15]
trigger1 = timemod = 1,0
anim =  1026
ID = 1020
pos = 10+(random%20),-20-(random%30)
postype = p1
facing = 1
vfacing = 1
vel = 0,-2-random%2
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,50
volume = 50

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7100
ID = 1051
pos = -25,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,1
volume = 50

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 330
pos = 30,-40
postype = p1
sprpriority = 3
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, ST
animtype  = Light
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S3,1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 5
p1stateno = 1012
p2stateno = 1015
numhits = 0

[State 200, End]
type = ChangeState
trigger1 = time = 15
value = 1011
;-------------------------------------------------------------------------------
; Chidori - Parar
[Statedef 1011]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 2,0
ctrl = 0
anim = 1011+var(11)
sprpriority = 2

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = animelem = 2
ID = 330
pos = 0,-40
postype = p1
sprpriority = -1
ontop = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 3
id = 330

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chidori Fin
[Statedef 1012]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1012+var(11)
sprpriority = 2

[State 0, Fuego Negro]
type = Explod
triggerall = time > 0
trigger1 = timemod = 1,0
anim =  1026
ID = 1020
pos = 40+(random%20),-10-(random%-80)
postype = p1
facing = 1
vfacing = 1
vel = -1,-2+random%4
bindtime = 1
removetime = -2
scale = .15,.15
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999

[State 0, Pause]
type = Pause
trigger1 = time = [0,5]
time = 2

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 330
pos = 25,-50
postype = p1
sprpriority = 3
ontop = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 330

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 30,-30

[State 0, Chidori]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Chidori"
ID = 1050
stateno = 1050
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 5 && numhelper(1050) > 0
value = 1012
elem = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 5 && numhelper(1050) > 0 && timemod = 20,0
trigger2 = time = 5
time = 20

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; P2
[Statedef 1015]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5051+ifelse(authorname = "Mikel8888",var(10),0)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = 5050
;-------------------------------------------------------------------------------
; Chidori Rikudo - Carrera
[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1010+var(11)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,50
volume = 50

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7100
ID = 1051
pos = -25,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,1
volume = 50

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 330
pos = 30,-40
postype = p1
sprpriority = 3
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, ST
animtype  = Light
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S3,1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 5
p1stateno = 1022
p2stateno = 1015
numhits = 0

[State 200, End]
type = ChangeState
trigger1 = time = 15
value = 1011
;-------------------------------------------------------------------------------
; Chidori Fin
[Statedef 1022]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1012+var(11)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time = 0
ID = 330
pos = 25,-55
postype = p1
sprpriority = 3
ontop = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 330

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 30,-25

[State 0, Chidori Eiso]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Chidori Eiso"
ID = 1070
stateno = 1070
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, Chidori Eiso]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Chidori Eiso"
ID = 1060
stateno = 1060
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 20 && numhelper(1060) > 0
value = 1012+var(11)
elem = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 20 && numhelper(1060) > 0 && timemod = 20,0
trigger2 = time = 20
time = 20

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Hold FX
[Statedef 1030]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1020
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,9
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.1,1+time*.1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Chidori Start
[Statedef 1050]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
sprpriority = 3

[State 0, Rayos P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1080) = 0
helpertype = normal
name = "Rayos P2"
ID = 1080
stateno = 1080
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 8,0
attr = A, SP
animtype  = Heavy
damage    = 16,8
Hitflag = MAFDE
guardflag = MA
pausetime = 2,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,51
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-6
air.velocity = -4,-6
Fall = 1
sprpriority = 3
PalFX.time = 60
PalFX.add = 0,0,240
PalFX.mul = 120,224,150
PalFX.sinadd = 85,55,110,10
PalFX.invertall = 1
PalFX.color = 0
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7002
ID = 7001
postype = P2
pos = -30+random%60,0-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1012

[State 200, End]
type = Changestate
trigger1 = time = 75
value = 1055
;-------------------------------------------------------------------------------
; Chidori Fin
[Statedef 1055]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Chidori Rikudo Start
[Statedef 1060]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1060
sprpriority = 3

[State 0, Rayos P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1081) = 0
helpertype = normal
name = "Rayos P2"
ID = 1081
stateno = 1081
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 8,0
attr = A, SP
animtype  = Heavy
damage    = 14,7
Hitflag = MAFDE
guardflag = MA
pausetime = 2,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,51
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-6
air.velocity = -4,-6
Fall = 1
sprpriority = 3
PalFX.time = 60
palfx.add = 220,220,220
palfx.mul = 100,100,100
palfx.sinadd = 55,55,55,10
PalFX.invertall = 0
PalFX.color = 0
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7002
ID = 7001
postype = P2
pos = -30+random%60,0-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1022

[State 200, End]
type = Changestate
trigger1 = time = 75
value = 1065
;-------------------------------------------------------------------------------
; Chidori Rikudo 2 Start
[Statedef 1070]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1070
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 25,-50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 8,0
attr = A, SP
animtype  = Heavy
damage    = 14,7
Hitflag = MAFDE
guardflag = MA
pausetime = 2,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,51
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-6
air.velocity = -4,-6
Fall = 1
sprpriority = 3
PalFX.time = 60
palfx.add = 220,220,220
palfx.mul = 100,100,100
palfx.sinadd = 55,55,55,10
PalFX.invertall = 0
PalFX.color = 0
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7002
ID = 7001
postype = P2
pos = -30+random%60,0-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1022

[State 200, End]
type = Changestate
trigger1 = time = 75
value = 1065
;-------------------------------------------------------------------------------
; Chidori Rikudo Fin
[Statedef 1065]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Rayos P2
[Statedef 1080]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Rayos]
type = Explod
trigger1 = timemod = 20,0
anim = 1080
ID = 1080
pos = 0,-30
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;-------------------------------------------------------------------------------
; Rayos 2 P2
[Statedef 1081]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Rayos]
type = Explod
trigger1 = timemod = 20,0
anim = 1081
ID = 1081
pos = 0,-30
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;===============================================================================
; Katon Gokakyu(HOLD):
;-------------------------------------------------------------------------------
; Katon Gokakyu(HOLD) - Start
[Statedef 1100]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,60
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,60
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S4,13
volume = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Hold FX]
type = Helper
trigger1 = time = 60
trigger2 = time = 90
helpertype = normal
name = "Hold FX"
ID = 1030
stateno = 1030
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .35
size.yscale = .35

[State 200, End]
type = ChangeState
triggerall = ailevel = 0
triggerall = time >= 30
trigger1 = command != "hold_a"
trigger2 = time = 120
value = ifelse(time > 90,1103,ifelse(time < 60,1101,1102))

[State 200, End]
type = ChangeState
triggerall = ailevel > 0
triggerall = time >= 30
trigger1 = time = 120
trigger2 = p2bodydist x < 75
trigger3 = time = 30+random%90 && random < 500
value = ifelse(time > 90,1103,ifelse(time < 60,1101,1102))
;-------------------------------------------------------------------------------
; Gokakyu
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1101
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 626
ID = 626
pos = 20,-28
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
vel = -2,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1


[State 0, Shadow FX]
type = Explod
TriggerAll = time = [0,20]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 580
pos = (-10-Random%10),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,56
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,56
volume = 999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,30]
value = 1101
elem = 1

[State 0, Katon Gokakyu]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Katon Gokakyu"
ID = 1150
stateno = 1150
pos = 40,-33
postype = p1
facing = 1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Gokakyu - Start
[Statedef 1150]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1150
sprpriority = 3

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1155
time = 999999999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 =time%7=0
anim = 4002
ID = 1150
pos = 0,50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 =time>10 && time%7=0
anim = 4002
ID = 4002
pos = -60,50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 =time>1 && time%1=0
anim = 4001
ID = 4001
pos = -30,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 80,80
scale = .5,.5
sprpriority = 1
ownpal = 1
trans = add

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 160,80
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1180) = 0
helpertype = normal
name = "Fuego P2"
ID = 1180
stateno = 1180
pos = 9999,9999999
postype = p1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = movecontact = 1
value = 1155
;-------------------------------------------------------------------------------
; Katon Gokakyu - Fin
[Statedef 1155]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1160
ID = 1160
pos = 0,0
postype = p1
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Hosenka
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1101
sprpriority = 2


[State 0, Explod]
type = Explod
TriggerAll = time = [0,80]
Trigger1 = TimeMod = 10,0
anim = 626
ID = 626
pos = 20,-28
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
vel = -2,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Shadow FX]
type = Explod
TriggerAll = time = [0,85]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 580
pos = (-10-Random%10),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,58
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,58
volume = 999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,75]
value = 1101
elem = 1

[State 0, Hosenka]
type = Helper
trigger1 = time = [0,70]
trigger1 = timemod = 5,0
helpertype = normal
name = "Hosenka"
ID = 1170
stateno = 1170
pos = 36,-30
postype = p1
ownpal = 1
Size.xscale = .2
Size.yscale = .2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Hosenka - Start
[Statedef 1170]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1170
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90+(-vel y * 3)
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1175
time = 999999999
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 5
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = -1+random%4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 13,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-1
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1180) = 0
helpertype = normal
name = "Fuego P2"
ID = 1180
stateno = 1180
pos = 9999,9999999
postype = p1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < -5
trigger2 = time = 500
trigger3 = movecontact = 1
value = 1175
;-------------------------------------------------------------------------------
; Hosenka - Fin
[Statedef 1175]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1160
ID = 1160
pos = 30,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Fire P2
[Statedef 1180]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1180
ID = 1180
pos = -20+random%40,0-random%60
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;-------------------------------------------------------------------------------
; Fire P2 Amaterasu
[Statedef 1181]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, Fuegos]
type = Explod
trigger1 = timemod = 1,0
anim = 1180
ID = 1180
pos = -20+random%40,0-random%60
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
trans = sub

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60
;-------------------------------------------------------------------------------
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1101
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 626
ID = 626
pos = 20,-28
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
vel = -2,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Shadow FX]
type = Explod
TriggerAll = time = [0,20]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 580
pos = (-10-Random%10),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,56
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,56
volume = 999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,30]
value = 1101
elem = 1

[State 0, Katon Gokakyu]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Katon Gokakyu"
ID = 1190
stateno = 1190
pos = 40,-33
postype = p1
facing = 1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Katon Goka Messhitsu - Start
[Statedef 1190]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1150
sprpriority = 3

[State 0, Corte FX]
type = Explod
trigger1 =time%7=0
anim = 3292
ID = 3292
pos = 15,-2
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = .2,.6
sprpriority = 2
ontop = 1
ownpal = 1
angle = 90

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1155
time = 999999999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 10
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 =time%7=0
anim = 4002
ID = 1150
pos = 0,50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 =time>10 && time%7=0
anim = 4002
ID = 4002
pos = -60,50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 0,0
scale = .7,.5
sprpriority = 0
ownpal = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 =time>1 && time%1=0
anim = 4001
ID = 4001
pos = -30,-10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
vel = 0,0
random = 80,80
scale = .5,.5
sprpriority = 1
ownpal = 1
trans = add

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 250,160
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1180) = 0
helpertype = normal
name = "Fuego P2"
ID = 1180
stateno = 1180
pos = 9999,9999999
postype = p1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = movecontact = 1
value = 1195
;------------------------------------------------------------------------------
; Katon Goka Messhitsu - Fin
[Statedef 1195]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 1160
ID = 1160
pos = 0,0
postype = p1
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 7004
ID = 1160
pos = 0,0
postype = p1
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
trans = sub

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; Amaterasu:
;-------------------------------------------------------------------------------
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200+var(11)
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999

[State 0, Sharingan FX]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Sharingan FX"
ID = 197
stateno = 197
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Amaterasu]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Amaterasu"
ID = 1250
stateno = 1250
pos = 15,0
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 32 && numhelper(1250) > 0
value = 1200+var(11)
elem = 3

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Amaterasu - Buscador
[Statedef 1250]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,0
ctrl = 0
anim = 1250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,27
volume = 50

[State 0, Amaterasu Explods]
type = Explod
triggerall = !movecontact
trigger1 = timemod = 4,0
anim = 1255
ID = 1255
pos = 15,25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
random = 5,5
removetime = -2
supermove
pausemove
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, SP
animtype  = medium
damage    = 1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
numhits = 0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = movecontact
value = 1260

[State 200, End]
type = Destroyself
trigger1 = frontedgebodydist < - 10
;-------------------------------------------------------------------------------
; Amaterasu - Golpes
[Statedef 1260]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1260
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = 60

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1.5,1.5
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
ampl = -8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 90
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = timemod = 4,0
attr = S, SP
animtype  = Heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
Palfx.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1181) = 0
helpertype = normal
name = "Fuego P2"
ID = 1181
stateno = 1181
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;===============================================================================
; Chidori Nagashi:
;-------------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300+var(11)
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,54
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,54
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,54
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Chidori Nagashi]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Chidori Nagashi"
ID = 1350
stateno = 1350
pos = 0,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .3

[State 0, EnvShake]
type = EnvShake
triggerall = helper(1350),stateno = 1350
trigger1 = time > 30 && numhelper(1350) > 0 && timemod = 20,0
trigger2 = time = 30
time = 20

[State 0, FX]
type = Explod
triggerall = helper(1350),stateno = 1350
trigger1 = time > 30 && numhelper(1350) > 0 && timemod = 15,0
trigger2 = time = 30
anim = 1360
ID = 1360
pos = -5,20
postype = p1
bindtime = -1
removetime = -2
scale = .75,.75
sprpriority = 4
ontop = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 30 && numhelper(1350) > 0
value = 1300+var(11)
elem = 5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chidori Nagashi Start
[Statedef 1350]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1350
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,52
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -5,45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 8,0
attr = S, SP
animtype  = Heavy
damage    = 14,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,25
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 1
sprpriority = 3
PalFX.time = 60
PalFX.add = 0,0,240
PalFX.mul = 120,224,150
PalFX.sinadd = 85,55,110,10
PalFX.invertall = 1
PalFX.color = 0
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7002
ID = 7001
postype = P2
pos = -30+random%60,0-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1300

[State 200, End]
type = Changestate
trigger1 = time = 85
value = 1355
;-------------------------------------------------------------------------------
; Chidori Nagashi Fin
[Statedef 1355]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1



[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, SP
animtype  = Heavy
damage    = 14,7
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,25
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -30,6,-6),-8
air.velocity = ifelse(p2bodydist x < -30,6,-6),-8
Fall = 0
sprpriority = 3
PalFX.time = 60
PalFX.add = 0,0,240
PalFX.mul = 120,224,150
PalFX.sinadd = 85,55,110,10
PalFX.invertall = 1
PalFX.color = 0
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
triggerall = numhelper(7002) = 0
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P2
pos = 0,-40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
; Shinra Tensei:
;-------------------------------------------------------------------------------
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400+var(11)
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,0
volume = 999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Shinra Tensei]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Shinra Tensei"
ID = 1450
stateno = 1450
pos = 9,0
postype = p1
ownpal = 1
size.xscale = .40
size.yscale = .40

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 32 && numhelper(1450) > 0 && timemod = 20,0
value = 1400+var(11)
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Shinra Tensei
[Statedef 1450]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -2,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,25
volume = 50

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = A
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 160,80
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -30,6,-6),-8
air.velocity = ifelse(p2bodydist x < -30,6,-6),-8
Fall = 1
Sprpriority = 3
Getpower = 0,0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, Camara Lenta]
type = Helper
trigger1 = movehit = 1 && numhelper(800) = 0
helpertype = normal
name = "Camara Lenta"
ID = 800
stateno = 800
pos = 9999,9999
postype = p1
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1400

[State 200, End]
type = Changestate
trigger1 = time = 30
value = 1455
;-------------------------------------------------------------------------------
; Shinra Tensei Fin
[Statedef 1455]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+time*.025,1+time*.025
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = Addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
; Fujutsu Kyuin:
;-------------------------------------------------------------------------------
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,47
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,47
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,47
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Fujutsu Kyuin]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Fujutsu Kyuin"
ID = 1550
stateno = 1550
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .5
Size.yscale = .5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 34 && numhelper(1550) > 0
value = 1500
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fujutsu Kyuin
[Statedef 1550]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 4

[State 0, Escudo Invisible]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Escudo Invisible"
ID = 1580
stateno = 1580
pos = 0,0
postype = p1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1

[State 0, BindToroot]
type = BindToroot
trigger1 = 1
pos = 0,-30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,24
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = hitcount < 16
trigger1 = timemod = 4,0
attr = S, SP
animtype  = Heavy
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10
Getpower = 0,0
Sprpriority = 4
Givepower = -63,0
numhits = 0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1500

[State 200, End]
type = Changestate
trigger1 = time > 10 && numhelper(1580) = 0
trigger2 = time > 150
value = 1555
;-------------------------------------------------------------------------------
; Fujutsu Kyuin Fin
[Statedef 1555]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+time*.025,1+time*.025
value = -90
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = Addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Escudo Invisible
[Statedef 1580]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1585
time = 999999999
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = ifelse(prevstateno = 1585,time = 25,time = 60)
;-------------------------------------------------------------------------------
; Escudo Invisible Golpeado
[Statedef 1585]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1585
time = 999999999
ignorehitpause = 0

[State 200, End]
type = Changestate
trigger1 = hitover
value = 1580
;===============================================================================
; Amenotejikara Mode:
;-------------------------------------------------------------------------------
[Statedef 1600]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1600
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 999

[State 0, Hold FX]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Hold FX"
ID = 1030
stateno = 1030
pos = 0,-40
postype = p1
ownpal = 1
Size.xscale = .35
size.yscale = .35
Supermovetime = 30

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 60
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0,Mode]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Mode"
ID = 1650
stateno = 1650
pos = 0,0
postype = p1
facing = 1
ownpal = 1
Size.xscale = .2
Size.yscale = .2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [30,60]
value = 1600
elem = 2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Amenotejikara Mode - Start
[Statedef 1650]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,24
volume = 50

[State 200, End]
type = ChangeState
trigger1 = time >= 2500
trigger2 = roundstate != 2
trigger3 = root,stateno = [33000,33999]
trigger4 = root,stateno = [35000,35999]
trigger5 = root,stateno = [37000,37999]
trigger6 = root,stateno = [39000,39999]
value = 1655
;-------------------------------------------------------------------------------
; Amenotejikara Mode - Fin
[Statedef 1655]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,24
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Amenotejikara Mode Teleport
[Statedef 1680]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1680
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,43
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,43
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,43
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S100,1
volume = 50

[State 0, FX]
type = Explod
trigger1 = time = 5
anim = 110
ID = 110
pos = 0,-35
postype = p1
bindtime = -1
scale = 1,1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x - 50

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time = [5,10]
value = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 12
value = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Amenotejikara Mode Reversal
[Statedef 1685]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1685
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,2
volume = 50

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -15

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 4

[State 200, End]
type = ChangeState
trigger1 = time = 15
value = ifelse(pos y < 0,50,61)
ctrl = 1
;===============================================================================
; Enton Honoikazuchi:
;-------------------------------------------------------------------------------
[Statedef 1700]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1700
poweradd = 1000
sprpriority = 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 999
[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,24
volume = 50

[State 0, FX]
type = Explod
trigger1 = animelem = 3
anim = 1755
ID = 1550
pos = 30,-10
postype = p1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, ST
animtype  = Light
damage    = 0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = p2bodydist x / 6
air.velocity = p2bodydist x / 12
Fall = 0
numhits = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 48
value = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit = 1
value = 1760

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1760]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1760
poweradd = -500
sprpriority = 2

[State 0, Amaterasu Entenka]
type = Helper
triggerall = numhelper(1765) = 0
trigger1 = time = 2
helpertype = normal
name = "Amaterasu Entenka"
ID = 1765
stateno = 1765
pos = -2,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,36
volume = 999

[State 200, End]
type = ChangeState
trigger1 =  time = 100
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1765]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1750
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =  time >= 61
statetype = S
movetype = I
physics = S

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 5
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 200, 1]
type = HitDef
triggerall = time = [5,60]
trigger1 = timemod = 6,0
attr = S, SA
animtype  = Heavy
damage    = 17,9
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S4,10
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-1.5
air.velocity = 0,-1.5
Fall = 1
Fall.recover = 0
sprpriority = 4
getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -110,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Amaterasu]
type = Explod
trigger1 = time = 0
anim =  1770
ID = 1770
pos = 40,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = -5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0


[State 0, Amaterasu]
type = Explod
trigger1 = time = 0
anim = 1770
ID = 1770
pos = -40,3
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(981) = 0
helpertype = normal
name = "Hit Spark"
ID = 981
stateno = 981
pos = 0,-35
postype = p2
facing = -1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 60
;===============================================================================
; Chibaku Tensei:
;-------------------------------------------------------------------------------
[Statedef 1800]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1800+var(11)
poweradd = -2000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S6,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,15
volume = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [30,90]
value = 1800+var(11)
elem = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 90
value = 1800+var(11)
elem = 4

[State 0, Chibaku Tensei Nucleo]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Chibaku Tensei Nucleo"
ID = 1830
stateno = 1830
pos = 5,-50
postype = p1
ownpal = 1
Supermovetime = 20
Supermove = 20
Size.xscale = .05
Size.yscale = .05

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 102 && numhelper(1850) > 0
value = 1800+var(11)
elem = 6

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei Nucleo
[Statedef 1830]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1830
sprpriority = 3

[State 0, Rocas]
type = Helper
triggerall = time = [20,70]
trigger1 = timemod = 1,0
helpertype = normal
name = "Rocas"
ID = 1880
stateno = 1880
pos = -200+random%400,0
postype = p1
ownpal = 1
Size.xscale = .75
Size.yscale = .75

[State 0, Chibaku Tensei]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Chibaku Tensei"
ID = 1850
stateno = 1850
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .75
Size.yscale = .75

[State 0, VelSet]
type = VelSet
trigger1 = time = 20
x = 0
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time = 80
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelemtime(1) = [0,10]
fv = 2
value = .05

[State 0, VarAdd]
type = VarAdd
trigger1 = animelemtime(1) = [10,20]
fv = 2
value = -.05

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 2+fvar(2),2+fvar(2)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = helper(1850),stateno = 1855
trigger2 = helper(1850),stateno = 1852
;-------------------------------------------------------------------------------
; Chibaku Tensei Formacion
[Statedef 1850]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1850
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [20,50]
trigger1 = timemod = 5,0
value = S4,42
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = [20,50]
trigger1 = timemod = 5,0
time = 10

[State 200, End]
type = ChangeState
trigger1 = time > 80 && root,stateno != 1800
value = 1852

[State 200, End]
type = ChangeState
trigger1 = root,stateno = 1800 && root,time = 100
value = 1855
;-------------------------------------------------------------------------------
; Chibaku Tensei Escape
[Statedef 1852]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,10
ctrl = 0
sprpriority = 4

[State 200, End]
type = Changestate
trigger1 = pos y >= -120
value = 1860
;-------------------------------------------------------------------------------
; Chibaku Tensei Hacia Suelo
[Statedef 1855]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 4,4
ctrl = 0
sprpriority = 4

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,41
volume = 50

[State 200, 1]
type = HitDef
trigger1 = timemod = 16,0
attr = A, SP
animtype  = Light
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 5,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,2
air.velocity = -2,0
Fall = 0
Envshake.time = 10
Getpower = 0,0
Numhits = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7000
ID = 7001
postype = P2
pos = -10+random%20,-20-random%40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = pos y >= -120
value = 1860
;-------------------------------------------------------------------------------
; Chibaku Tensei Fin
[Statedef 1860]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1860
sprpriority = 0

[State 0, FX]
type = Explod
trigger1 = time = 0
anim = 1890
ID = 1890
pos = 0,90
postype = p1
scale = 1,1
sprpriority = 4
ontop = 1
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 7110
pos = 0,70
postype = p1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,32
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 40
ampl = -8

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, SP
animtype  = Heavy
damage    = 360,130
Hitflag = MAFDE
guardflag = MA
pausetime = 0,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,11
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 1
Getpower = 0,0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7000
ID = 7001
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Rocas
[Statedef 1880]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1880+random%6
sprpriority = 3

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 5

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 7110
pos = 0,20
postype = p1
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 7020
ID = 7020
pos = 0,5
postype = p1
scale = .5,.5
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = parentdist x / 20
y = parentdist y / 10

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Light
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 5,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = .5,-4
air.velocity = .5,-4
Fall = 0
Getpower = 0,0
Numhits = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7000
ID = 7001
postype = P2
pos = -10+random%20,-20-random%40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = parentdist x = [-50,50]
;===============================================================================
; Enton Susanoo Kagetsuchi:
;-------------------------------------------------------------------------------
[Statedef 1900]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1900
poweradd = -1500
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, Susanoo Escudo Invisible]
type = Helper
triggerall = numhelper(1915) = 0
trigger1 = time = 30
helpertype = Player
name = "Susanoo Escudo invisible"
ID = 1915
stateno = 1915
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 10
freq = 60
ampl = -8
phase = 90

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -1,-26
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Susanoo]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Susanoo"
ID = 1950
stateno = 1950
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Amaterasu]
type = Helper
trigger1 = time = 230
helpertype = normal
name = "Amaterasu"
stateno = 1996
ID = 1996
pos = 170,0
postype = p1
facing = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S4,13
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,100
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,100
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,100
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,100
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,100
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 229
value = S6,101
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 229
value = S6,101
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 229
value = S6,101
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 229
value = S6,101
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 229
value = S6,101
volume = 999

[State 0, Amaterasu pausa]
type = Helper
trigger1 = time = 229
helpertype = normal
name = "Amaterasu pausa"
stateno = 1990
ID = 1990
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 200, End]
type = ChangeState
Triggerall = numhelper(1950) = 0
triggerall = time > 30
trigger1 = numhelper(1950) = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Amaterasu pause
[Statedef 1990]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,70]
flag = nomusic
ignorehitpause  = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 70
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 65 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = Destroyself
trigger1 = time = -1
;-------------------------------------------------------------------------------
; Susanoo - Escudo Invisible
[Statedef 1915]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1910
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1916
time = 10

[State 0, Width]
type = Width
trigger1 = 1
player = 50,50

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1900
;-------------------------------------------------------------------------------
; Susanoo - Escudo Invisible Golpeado
[Statedef 1916]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1910
sprpriority = 2

[State 0, Cristales Rotos]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Cristales Rotos"
ID = 1917
stateno = 1917
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ParentVaradd]
type = ParentVaradd
triggerall = parent,var(3) > 0
trigger1 = time = 0
v = 3
value = -gethitvar(damage)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1917
time = 10

[State 0, Width]
type = Width
trigger1 = 1
player = 50,50

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 200, End]
type = Changestate
trigger1 = time = 5
value = 1915
;-------------------------------------------------------------------------------
; Cristales Rotos
[Statedef 1917]
type    = S
movetype= I
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1911+random%7
poweradd = 0
sprpriority = 9

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5+random%10
y = -10

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 0, VarSet]
type = Varadd
trigger1 = time >= 30
v = 12
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(12),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,46
volume = 0

[State 0, Cristales Rotos]
type = Helper
triggerall = random < 200
triggerall = numhelper(1916) < 3
triggerall = root,var(2) = 1||root,var(4) = 1
trigger1 = time = 0
helpertype = normal
name = "Cristales Rotos"
ID = 1916
stateno = 1916
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 40
trigger2 = pos y >= -5
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Susanoo
[Statedef 1950]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1950
sprpriority = 3

[State 0, Negro]
type = Helper
trigger1 = numhelper(1951) = 0
helpertype = normal
name = "Negro"
ID = 1951
stateno = 1951
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,42
volume = 999

[State 0, Flecha FX Negro]
type = Explod
trigger1 = time = 0
anim = 1951
ID = 1951
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Aura Susano]
type = Explod
trigger1 = time = 0
anim = 422
ID = 1951
pos = 42,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1.5,1.5
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 250,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 21 && numhelper(1960)= 0
trigger2 = root,stateno != 1900
id = 1951

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,45
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,60
volume = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -55,5
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, Flecha]
type = Helper
trigger1 = time = 21
helpertype = normal
name = "Flecha"
ID = 1960
stateno = 1960
pos = 160,-100
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time > 21 && numhelper(1960) = 0
trigger2 = root,stateno != 1900
;-------------------------------------------------------------------------------
; Susanoo - Negro
[Statedef 1951]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = -1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1950
trigger1 = parent,anim = 1950
value = 1950

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 200, End]
type = Destroyself
trigger1 = parent,stateno = 1950 && (numhelper(1950) = 0||root,stateno != 1900)
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Flecha
[Statedef 1960]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 12,10
ctrl = 0
anim = 1960
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S990,3
volume = 999


[State 0, Fuego Negro]
type = Explod
trigger1 = timemod = 1,0
anim =  1025
ID = 1025
pos = 20+(random%20),50-(random%30)
postype = p1
facing = 1
vfacing = 1
vel = -2-random%4,-2
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, HP
animtype  = Heavy
damage    = 30,5
Hitflag = MAFDE
guardflag = MA
pausetime = 5,20
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-30
hitsound   = S1,17
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 60
ground.velocity = -10
air.velocity = -5
Fall = 0
getpower = 0,0
Envshake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 7001
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
trans = sub

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7000
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Changestate
trigger1 = pos y >= -40
value = 1965
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Flecha Explosion
[Statedef 1965]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,19
volume = 50

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 25

[State 0, Explosion Negra]
type = Explod
trigger1 = time = 0
anim = 1160
ID = 1160
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7,0.7
sprpriority = 2
ontop = 1
ownpal = 1
trans = sub

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7000
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Flecha Negra que Sube]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Flecha Negra que Sube"
ID = 1970
stateno = 1970
pos = 0,-50
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = Changestate
trigger1 = time = 30
value = 1966
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Tiempo Extra
[Statedef 1966]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Flechas Negras que Bajan]
type = Helper
triggerall = time < 200
trigger1 = timemod = 2,0
helpertype = normal
name = "Flechas Negras que Bajan"
ID = 1980
stateno = 1980
pos = -100+random%200,-500
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 250
trigger2 = root,stateno != 1900
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Flecha que Sube
[Statedef 1970]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,-15
ctrl = 0
anim = 1960
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S990,3
volume = 999

[State 0, Fuego Negro]
type = Explod
trigger1 = timemod = 4,0
anim =  1025
ID = 1025
pos = -10+(random%20),-50-(random%100)
postype = p1
facing = 1
vfacing = 1
vel = -2+random%4,4
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,5
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 135
scale = 2,2
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 200, End]
type = Destroyself
trigger1 = pos y < -500
;-------------------------------------------------------------------------------
; Enton Susanoo Kagetsuchi - Flechas que Bajan
[Statedef 1980]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,15
ctrl = 0
anim = 1961
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S990,3
volume = 999

[State 0, Fuego Negro]
type = Explod
trigger1 = timemod = 4,0
anim =  1025
ID = 1025
pos = -10+(random%20),50-(random%100)
postype = p1
facing = 1
vfacing = 1
vel = -2+random%4,-2
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -46
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, HP
animtype  = Heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 5,45
sparkno = -1
guard.sparkno = -1
sparkxy = -10,-30
hitsound   = S1,17
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
getpower = 0,0
Envshake.time = 10

[State 0, Explosion]
type = Explod
trigger1 = movehit = 1
anim = 9260
ID = 9260
pos = 0,-10
postype = p2
scale = .8,.8
sprpriority = 3
ontop = 1
ownpal = 1


[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7000
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Explosion Negra Fin]
type = Explod
trigger1 = pos y > -50
anim = 1160
ID = 3070
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
trans = sub

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -50
value = S1,21
volume = 50

[State 200, End]
type = Destroyself
trigger1 = pos y > -50
;-------------------------------------------------------------------------------
; Amaterasu - Golpes
[Statedef 1996]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1976
sprpriority = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = 60

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1.5,1.5
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20
ampl = -8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,19
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,19
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 90
statetype = A
movetype = I
physics = N

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;------------------------
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(5)
[State 0, EnvShake]
type = EnvShake
triggerall = root,var(5) = 1
trigger1 = movehit = 1
time = 5
;------------------------

[State 200, 1]
type = HitDef
trigger1 = timemod = 4,0
attr = S, SP
animtype  = Heavy
damage    = 7,4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S2,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
Fall.recover = 0
Palfx.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 10

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 3308, Blue fire]
type = Helper
Triggerall = numhelper(1978) = 0
trigger1 = movecontact=1 && moveguarded;
trigger2 = movehit = 1 && p2movetype=H
helpertype = Normal
name = "Blue fire-hit"
id = 1978
pos = 0,-50
postype	= p2
facing	= 1
stateno	= 1978
keyctrl	= 0
ownpal	= 1
size.xscale = 1
size.yscale = 1

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
[Statedef 1978,Blue fire hit]
type    = A
movetype = H
physics = N
velset = 0,0
anim = 1978
ctrl = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 30,0
value = S4,61
volume = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Fuego]
type = Explod
trigger1 = timemod = 5,0
anim = 1025
ID = 1025
pos = -10+(random%20),-5-(random%45)
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1
[State 0, Fuego]
type = Explod
trigger1 = timemod = 5,0
anim = 219
ID = 254
pos = -10+(random%20),-5-(random%45)
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .2,.2
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x + 2
y = p2dist y - 30

[State 200, 1]
type = HitDef
triggerall = numhelper(3250) = 0
triggerall = time > 100
triggerall = time < 1500
trigger1 = time%150=0
attr = A, NA
animtype  = Light
damage    = 5
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0
air.velocity = 0
Fall = 0
Palfx.time = 12
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 200, 1]
type = HitDef
trigger1 = time = 1500
trigger2 = enemy,life = 0
attr = A, NA
animtype  = Light
damage    = 50
guardflag = MA
pausetime = 1,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 1
ground.hittime  = 1
ground.velocity = 0
air.velocity = 0
Fall = 0
Palfx.time = 17
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 1650, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, End]
type = Destroyself
trigger1 = time = 800
trigger2 = enemy,life = 0
;===============================================================================
; Amaterasu Entenka:
;-------------------------------------------------------------------------------
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = -500
sprpriority = 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 34
anim = 7100
ID = 2051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Fuuton Rafaga]
type = Helper
trigger1 = time = 39
helpertype = normal
name = "Fuuton Rafaga"
ID = 1217
stateno = 1217
pos = 20,-25
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,61
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33
value = S6,62
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33
value = S6,62
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 33
value = S6,62
volume = 999

[State 0, Corte FX]
type = Explod
trigger1 = time = 40
anim = 7203
ID = 7200
pos = 45,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Fuego Negro]
type = Explod
triggerall = time = [0,30]
trigger1 = timemod = 1,0
anim =  2050
ID = 2050
pos = -25+(random%20),-20-(random%30)
postype = p1
facing = 1
vfacing = 1
vel = -2+random%4,-1
bindtime = 1
removetime = -2
scale = .05,.05
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1
supermovetime 	= 999
[State 0, Fuego Negro]
type = Explod
triggerall = time = [30,36]
trigger1 = timemod = 1,0
anim =  2050
ID = 2050
pos = 25+(random%30),-20-(random%30)
postype = p1
facing = 1
vfacing = 1
vel = -4+random%6,1-random%6
bindtime = 1
removetime = -2
scale = .05,.05
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1
[State 0, Fuego Negro]
type = Explod
triggerall = time = [36,60]
trigger1 = timemod = 1,0
anim =  2050
ID = 2050
pos = 55+(random%30),0-(random%30)
postype = p1
facing = 1
vfacing = 1
vel = -4+random%6,1-random%6
bindtime = 1
removetime = -2
scale = .05,.05
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animelem = 6
value = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fuuton Rafaga - Start
[Statedef 1217]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1217
sprpriority = 3

[State 0]
type = Explod
trigger1 = Time%4 = 0
anim = 2050
ID = 2050
postype = p1
pos = 45,0
scale = .2,.2
vel = -.5,0
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 0
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Alpha = 256,256


[State 0]
type = Explod
trigger1 = Time%4 = 0
anim = 2050
ID = 2050
postype = p1
pos = 45,-10
scale = .2,.2
vel = -.5,0
facing = -1
VFacing = Cond(Random<500,1,-1)
bindtime = 0
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Alpha = 256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 200, 1]
type = HitDef
triggerall = !moveguarded
triggerall = hitcount < 10
trigger1 = 1
attr = S, HP
animtype  = heavy
damage    = 5,30
Hitflag = MAFDE
guardflag = MA
pausetime = 8,6
guard.pausetime = 8,10
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-.5
air.velocity = -4,-2
Fall = 1
Fall.Recover = 0
envshake.time = 10
getpower = 0,0
Palfx.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego P2]
type = Helper
trigger1 = movehit = 1 && numhelper(1181) = 0
helpertype = normal
name = "Fuego P2"
ID = 1181
stateno = 1181
pos = 9999,9999999
postype = p1
ownpal = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, Spark CVS]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = Movehit = 1
anim = 7004
ID = 7000
postype = P2
pos = -10+random%20,-10-random%40
facing = ifelse(random < 500,1,-1)
vfacing = ifelse(random < 500,1,-1)
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
trans = sub

[State 200, Spark CVS]
type = Explod
triggerall = hitcount > 1
triggerall = numexplod(7017) = 0
trigger1 = Movehit = 1
anim = 7004
ID = 7017
postype = P2
pos = -10+random%20,-10-random%40
facing = ifelse(random < 500,1,-1)
vfacing = ifelse(random < 500,1,-1)
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
trans = sub

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.2,1.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = frontedgebodydist < -40
trigger2 = time >= 500
;-------------------------------------------------------------------------------
; Fuuton Rafaga - Fin
[Statedef 2051]
type    = A
movetype= I
physics = N
juggle  = 1
ctrl = 0
sprpriority = 2
velset = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256-time*25,256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Fuego en P2
[Statedef 2080]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 30,0
value = S4,61
volume = 999

[State 0, Fire FX]
type = Explod
trigger1 = timemod = 2,0
anim = 1180
ID = 1180
pos = -10+(random%20),-10-(random%40)
postype = p2
facing = -1
vfacing = 1
bindtime = 5
removetime = -2
scale = .2,.2
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = Destroyself
trigger1 = time = 80
trigger2 = p2movetype != H

;===============================================================================
; Chibaku Tensei:
;-------------------------------------------------------------------------------
[StateDef 2200]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2200
poweradd = -2000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,3
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = player
name = "Kula"
ID = 2203
stateno = 2203
pos = 2*0.9,-46*0.8
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.07
size.yscale = 0.07
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 95
value = 2201
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Start
[StateDef 2201]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2201
poweradd = -1000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = 1
value = S8,0+random%4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S9,88

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S9,88

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time > 60 && time < 410 && timemod = 15,0
anim = 2270
pos = 0.9*14,0.9*-43
scale = 0.5,0.5
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
supermovetime=9999
pausemovetime=9999
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Niewidzialny"
ID = 2273
stateno = 2273
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, end]
type = ChangeState
trigger1 = time = 600
value = 2202
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Fin
[StateDef 2202]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2202
poweradd = 0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = 1
value = S7,0+random%4
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,33
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S6,33

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula
[StateDef 2203]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2203
sprpriority = 10

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2200
time = 2
facing = 0
pos = 2*0.9,-46*0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 1
trigger2 = parent, stateno = 2201 && parent, animelem = 2
time = 2
facing = 0
pos = 2*0.9,-46*0.8

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 3
time = 2
facing = 0
pos = 26*0.9,-46*0.9

[State 0, BindToParent]
type = BindToParent
trigger1 = parent, stateno = 2201 && parent, animelem = 4
trigger2 = parent, stateno = 2201 && parent, animelem = 5
trigger3 = parent, stateno = 2201 && parent, animelem = 6
time = 2
facing = 0
pos = 26*0.9,-54*0.9

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S9,6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, end]
type = ChangeState
trigger1 = parent, stateno = 2201 && parent, animelem = 7
value = 2204
ctrl = 1

[State 0, end]
type = destroyself
trigger1 = parent, stateno != [2200,2201]
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 2
[StateDef 2204]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2204
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 40
scale = 1+time/20,1+time/20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 40
scale = 3,3

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 100 
anim = 2241
id = 2204
ownpal = 1
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = -1
removetime = -1
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S9,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S9,7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Turn]
type = Turn
trigger1 = time = 0 && pos x > 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-1,1]
x = cond((-(pos x*0.05)*facing)>3,3*facing,-(pos x*0.05)*facing)

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -350
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -350
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -350
y = -350

[State 0, Helper]
type = Helper
trigger1 = time > 100 && timemod = 20,0
helpertype = normal
name = "Przyciaganie"
ID = 2242
stateno = 2242
pos = -800,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time > 100 && timemod = 20,0
helpertype = normal
name = "Przyciaganie"
ID = 2242
stateno = 2242
pos = 800,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal
name = "Rozciaganie"
ID = 2243
stateno = 2243
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 100
helpertype = normal
name = "Rozciaganie"
ID = 2243
stateno = 2243
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 250
helpertype = normal
name = "Chibaku"
ID = 2205
stateno = 2205
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 140
helpertype = normal
name = "Ziemia"
ID = 2206
stateno = 2206
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 380
value = 2207
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX
[StateDef 2205]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2205
poweradd = 0
sprpriority = 9

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 40
time = 2
add = -time*2,-time*2,-time*2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 40
time = 2
add = -80,-80,-80

[State 0, EnvShake]
type = EnvShake
trigger1 = time < 140 && timemod = 10,0
time = 40
freq = 40
ampl = -6
phase = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = time < 140 && timemod = 4,0
anim = 2251+random%6
ID = 2205
pos = cond(random<499,1,-1)*random%time*1.0,cond(random<499,1,-1)*random%time*1.0;((time*time)/((random%time)*(random%time)))/((time*time)/((random%time)*(random%time)))
postype = p1 
vel = 0,2
facing = 1
vfacing = 1
bindtime = 330
removetime = -2
pausemovetime = 999
scale = 1,1
sprpriority = 9+random%5
ontop = 0
ownpal = 0
angle = time*20

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = timemod = 2,0 && time > 150 && time < 180
anim = 2295
ID = 2290
pos = -150+random%300,-50+random%150
vel = 0,2
angle = time*20
postype = p1
bindtime = 1
removetime = -2
supermovetime = 9999
pausemovetime = 9999
scale = 0.7,0.7
sprpriority = 9+random%5
ownpal = 1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 180 && timemod = 40,0
value = S5,67

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = timemod = 10,0
attr = S, NT
damage = cond(hitcount < 15,10,0),cond(hitcount < 15,10,0)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
sprpriority = 9
pausetime = 0, 10
sparkno = -1
sparkxy = -15,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2245

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Cien"
ID = 2291
stateno = 2291
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 2208
value = 2209
;-------------------------------------------------------------------------------
; Chibaku Tensei - Ziemia
[StateDef 2206]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2206
poweradd = 0
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 40
freq = 40
ampl = -6
phase = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S5,68

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,69

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 1
range = -200,200

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 8260
ID = 8260
pos = var(1),-10+random%30
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 999
scale = 0.6,0.5
sprpriority = 0+random%15
ontop = 0
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = 2261+random%6
ID = 2206
pos = var(1),-10+random%30
postype = p1 
vel = -(var(1)/(90+time/3)),-3.5
facing = 1
vfacing = 1
bindtime = 10
removetime = 120
pausemovetime = 999
scale = 1,1
sprpriority = -1+random%15
ontop = 0
ownpal = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = target, ishelper = 0
hitonce = 1
attr = S, NT
damage = 1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = -1
sparkxy = -15,-20-random%40
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2241

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 200
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 3
[StateDef 2207]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2207
poweradd = 0
sprpriority = 10

[State 0, Explod]
type = Explod
ownpal = 1
trigger1 = time = 0 
anim = 2244
id = 2207
ownpal = 1
pos = 0,0
scale = 1,1
postype = p1
facing = -1
bindtime = -2
removetime = -2
sprpriority = 8
trans = add
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0 
id = 2204

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -350

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 2208
;-------------------------------------------------------------------------------
; Chibaku Tensei - Kula 4
[StateDef 2208]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2208
poweradd = 0
sprpriority = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 5
freq = 5
ampl = -1
phase = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -350

[State 0, ChangeState]
type = Destroyself
trigger1 = time = 100
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 2
[StateDef 2209]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2209
poweradd = 0
sprpriority = 9

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = time < 80
time = 2
add = -80+time,-80+time,-80+time

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
time = 30
freq = 30
ampl = -5
phase = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,69

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 40,0
value = S5,67

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
trigger1 = hitcount = 0
persistent = 0 
hitonce = 1
attr = S, NT
damage = 40
animtype = Light
guardflag = MA
hitflag = MAF
priority = 9
sprpriority = 9
pausetime = 0, 0
sparkno = 546346
sparkxy = -15,0
hitsound = 32, 315345
guardsound = 32, 31345134
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,-2
airguard.velocity = 0,-2
air.type = High
air.velocity = 0,-2
air.hittime = 12
fall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chibaku Tensei - Helper
[StateDef 2231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2273
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = 546346
sparkxy = -15,-20-random%40
hitsound = 32, 315345
guardsound = 32, 31345134
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2240

[State 0, end]
type = destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2
[StateDef 2235]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+ifelse(authorname = "Salah",var(10),0)
elem = 1

[State 195, 2]
type = selfState
trigger1 = time > 100 && enemy, stateno != [670,2209]
value = 5000
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 2
[StateDef 2240]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 195, 2]
type = selfstate
trigger1 = time = 300
value = 5000
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 3
[StateDef 2241]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5090+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 9

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-1,1]
x = -(pos x*0.05)*facing

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x = [-1,1]
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -320
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -320
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y <= -320
y = -320

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 195, 2]
type = selfState
trigger1 = time = 100
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Przyciaganie
[StateDef 2242]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2242
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, VelSet]
type = VelSet
trigger1 = parent, pos x - pos x != [-150,150]
x = 1+time/2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target, ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,0
airguard.velocity = -5,0
air.type = High
air.velocity = -5,0
air.hittime = 12

[State 0, end]
type = destroyself
trigger1 = parent, pos x - pos x = [-160,160]

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 2207
;-------------------------------------------------------------------------------
; Chibaku Tensei - Ekranu
[StateDef 2243]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2243
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,10

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 0
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos x = [-800,800]
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = pos x != [-800,800]
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos x >= 800
x = 800

[State 0, PosSet]
type = PosSet
trigger1 = pos x <= -800
x = -800

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = noshadow

[State 0, end]
type = destroyself
trigger1 = parent, stateno = 2208
;-------------------------------------------------------------------------------
; Chibaku Tensei - P2 4
[StateDef 2245]
type = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
anim = 5000+var(0)*10000
velset = 0,0
poweradd = 0
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 195, 2]
type = selfState
trigger1 = time = 100
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
; Chibaku Tensei - Helper 2
[StateDef 2273]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2273
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = target,ishelper = 0
flag = unguardable

[State 0, hitdef]
type = HitDef
givepower = 0
getpower = 0
fall.yvelocity = -6
trigger1 = 1
attr = S, NT
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 50
sparkno = -1
sparkxy = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
p2stateno = 2235

[State 0, end]
type = destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 3
[StateDef 2291]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2274
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 80
scale = time*0.0125,time*0.0125

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 80
scale = 1,1

[State 0, end]
type = changestate
trigger1 = parent, stateno = 2209
value = 2292
;-------------------------------------------------------------------------------
; Chibaku Tensei - FX 4
[StateDef 2292]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2274
poweradd = 0
sprpriority = 4

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = parent, pos x
y = 10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 20 && time < 100
scale = 1-(time-20)*0.0125,1-(time-20)*0.0125

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 100
scale = 0.0125,0.0125

[State 0, end]
type = destroyself
trigger1 = time = 100
;---------------------------------------------------------------------------
[Statedef 1215]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1215
poweradd = -1000
sprpriority = 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 999,999
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 999
[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 999

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S5,24
[state 0]
type = playsnd
trigger1 = animelem = 2
value = S5,24


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S4,52
volume = 50


[State 0]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Effect"
ID = 1210
stateno = 1210
pos = 70,0
postype = p1
ownpal = 1
size.xscale = 0.15
size.yscale = 0.2
supermovetime = 999

[State 0]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Effect"
ID = 1211
stateno = 1211
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
supermovetime = 999

[State 0]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Effect"
ID = 1212
stateno = 1212
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25
supermovetime = 999


[State 0]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "Effect"
ID = 1256
stateno = 1256
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
supermovetime = 999

[State 0, Dust FX]
type = Explod
TriggerAll = !Movecontact
TriggerAll = Time = [60,80]
Trigger1 = TimeMod = 3,0
anim = 7022
ID = 1051
pos = 5,1
scale = .25,.35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
vel = -.5,0


[State 0, PalFXWiz]
type = PalFX
trigger1 = animelem = 4
time = 10
sinadd = 100,100,100,20


[state 0]
type = veladd
triggerall = time > 60
trigger1 = 1
x = 5


[state 0]
type = envshake
trigger1 = animelem = 4
ampl = 1
time = 40
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 3 || animelem = 4 || animelem = 5
attr = S, SA
damage = (35*(LifeMax/1000))
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
pausetime = 0,10
sparkxy = -8,-25
hitsound   = S5,42
guardsound = S4,1
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = 0,-9
airguard.velocity = 0,-5
air.type = High
air.velocity = 0,-5
air.hittime = 10
Fall = 1
Fall.recover = 0
envshake.time = 6
PalFX.time = 40
PalFX.add = 0,50,240
PalFX.mul = 120,224,150
PalFX.sinadd = 85,55,110,10
PalFX.invertall = 1
PalFX.color = 0
getpower = 0,0

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark chidori"
ID = 8090
stateno = 8090
pos = 25+random%20,-15-random%20
postype = P1
facing = -1
ownpal = 1
size.xscale = .15
size.yscale = .15
ignorehitpause = 1
persistent = 10

[State 0]
type = ChangeState
trigger1 = movecontact = 1
value = 1216
ctrl = 1

[State 0]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1216]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0

[state 0]
type = changeanim
triggerall = var(2) = 0
trigger1 = time = 0
value = 1216

[State 0]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Effect"
ID = 1213
stateno = 1213
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25
supermovetime = 999

[State 0]
type = Helper
trigger1 = animelem = 1
helpertype = normal
name = "Effect"
ID = 1214
stateno = 1214
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 0.25
size.yscale = 0.25
supermovetime = 999

[state 0]
type = velset
triggerall = time < 20
trigger1 = 1
x = 0.5

[state 0]
type = velset
trigger1 = time = 20
x = 20



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,2
volume = 999

[state 0]
type = envshake
trigger1 = time = 0
ampl = 4
time = 20
ignorehitpause = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,44

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 1210]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1210
sprpriority = 5

[state 0]
type = angledraw
triggerall = time < 25
trigger1 = 1
scale = 0+(time/25.000),0+(time/25.000)

[state 0]
type = angledraw
triggerall = time >= 25
trigger1 = 1
scale = 1,1

[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-25

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1215
;---------------------------------------------------------------------------
[StateDef 1211]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1211
sprpriority = 5

[state 0]
type = angledraw
triggerall = time < 25
trigger1 = 1
scale = 0+(time/25.000),0+(time/25.000)

[state 0]
type = angledraw
triggerall = time >= 25
trigger1 = 1
scale = 1,1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 9999999999999
add = -100,-70,0
mul = 400,400,400



[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-25

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1215
;---------------------------------------------------------------------------
[StateDef 1212]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1212
sprpriority = 5

[state 0]
type = angledraw
triggerall = time < 15
trigger1 = 1
scale = 0+(time/15.000),0+(time/15.000)

[state 0]
type = angledraw
triggerall = time >= 15
trigger1 = 1
scale = 1,1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 9999999999999
add = -100,-70,0
mul = 400,400,400



[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-35

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1215
;---------------------------------------------------------------------------
;chidori corre 2
[StateDef 1255]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1210
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 130

[state 0]
type = bindtoroot
trigger1 = 1
pos = -3,-35

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1215
;---------------------------------------------------------------------------
;chidori raio maior corre 2
[StateDef 1256]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1211
sprpriority = 5

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 9999999999999
add = -100,-70,0
mul = 400,400,400

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 110

[state 0]
type = bindtoroot
trigger1 = 1
pos = -3,-35

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1215
;---------------------------------------------------------------------------
;Chidori Ponteiro
[StateDef 1213]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1213
sprpriority = 5


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 9999999999999
add = -100,-70,0
mul = 400,400,400

[state 0]
type = bindtoroot
trigger1 = 1
pos = 38,-23

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 220,256

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 40
trigger2 = root,stateno != 1216
;---------------------------------------------------------------------------
;Chidori Raio
[StateDef 1214]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1214
sprpriority = 5


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 9999999999999
add = -100,-70,0
mul = 400,400,400


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90


[state 0]
type = bindtoroot
trigger1 = 1
pos = 48,-20

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 220,256

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = Destroyself
trigger1 = Time = 30
trigger2 = root,stateno != 1216
;===============================================================================
; Chidori Onyx:
;-------------------------------------------------------------------------------
; Chidori
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2300
poweradd = -1000
sprpriority = 2

[State 200, End]
type = ChangeState
triggerall = ailevel = 0
triggerall = time = 60
trigger1 = command = "hold_a"
value = 2380

[State 200, End]
type = ChangeState
triggerall = ailevel > 0
triggerall = time = 60
trigger1 = p2bodydist x < 150
value = 2380

[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 7022
ID = 1051
pos = 0,9
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,1
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1


[State 0, Chidori]
type = Explod
trigger1 = time = 30
anim = 2382
ID = 9025
pos = 20,-34
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Chidori]
type = Explod
trigger1 = time = 30
anim = 2381
ID = 9025
pos = 20,-34
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 30
anim = 2332
ID = 9025
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 30
anim = 2333
ID = 9025
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 30
anim = 2334
ID = 9025
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
id = 9025

[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 2382
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .2,.2
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
angle = 90

[State 0, Explod]
type = Explod
trigger1 = time = 60
anim = 2381
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Fuego Negro]
type = Explod
trigger1 = time = 60
anim =  2333
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
angle = 0+random%360

[State 0, Fuego Negro]
type = Explod
trigger1 = time = 60
anim =  2334
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
angle = 0+random%360

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 70
id = 9026

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 4000
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Fuego Negro]
type = Explod
triggerall = time = 70
trigger1 = timemod = 2,0
anim =  2333
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
vel = -1-random%3,1-random%4
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%360

[State 0, Fuego Negro]
type = Explod
triggerall = time = 70
trigger1 = timemod = 2,0
anim =  2334
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
vel = -1-random%3,1-random%4
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%360

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark chidori"
ID = 8091
stateno = 8091
pos = 60+random%20,-15-random%20
postype = P1
facing = -1
ownpal = 1
size.xscale = .15
size.yscale = .15
ignorehitpause = 1
persistent = 10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 7
id = 9027

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,59
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -2,-21
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S4,52
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,52
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 61
value = S40,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 60
x = 30

[State 0, VelSet]
type = VelSet
trigger1 = time = 70
x = 15

[State 0, VelSet]
type = VelSet
triggerall = movehit
trigger1 = time = 80
x = 50

[State 0, PlayerPush]
type = PlayerPush
triggerall = movehit
trigger1 = time >= 80
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 86
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = movehit
trigger1 = time = 86||time = 91
value = 2300
elem = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S5,44
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 5

[State 0, Width]
type = Width
trigger1 = time >= 70
player = 30,0

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 12,6
Hitflag = MAFDE
guardflag = MA
pausetime = 10,8
guard.pausetime = 5,3
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,42
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,ifelse(time >= 80,-4,0)
air.velocity = -4,ifelse(time >= 80,-4,0)
Fall = ifelse(time >= 80,1,0)
Fall.recover = 0
envshake.time = 6
PalFX.time = 35
PalFx.add = -255,-255,-255
PalFx.sinadd = 255,255,255,60
getpower = 0,0

[State 0, Final Hit]
type = Helper
triggerall = numhelper(2350) = 0
triggerall = movehit
trigger1 = time = 80
helpertype = normal
name = "Final Hit"
ID = 2350
stateno = 2350
pos = 0,0
postype = p2
facing = -1
keyctrl = 0
ownpal = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.2,1.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Chidori:
;-------------------------------------------------------------------------------
; Chidori
[Statedef 2380]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2302
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9025
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9026
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9027
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 219

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 30
invertall = 1
color = 0
ignorehitpause = 1

[State 0, Hiraishin FX]
type = Explod
trigger1 = time = 15
anim = 110
ID = 13110
pos = 0,-35
postype = p1
bindtime = -1
scale = 1,1
sprpriority = 2
removetime = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S20,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S20,5
volume = 999

[State 0, Chidori]
type = Explod
trigger1 = time = 21
anim = 2382
ID = 90250
pos = 20,-34
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 1
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Chidori]
type = Explod
trigger1 = time = 0
anim = 2381
ID = 90250
pos = 20,-34
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 0
anim = 2332
ID = 90250
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 0
anim = 2333
ID = 90250
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 0
anim = 2334
ID = 90250
pos = 20,-36
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 20
id = 90250

[State 0, PosSet]
type = Posadd
trigger1 = time = 20
x = p2bodydist x + 150

[State 0, Turn]
type = Turn
trigger1 = time = 20

[State 0, PosSet]
type = PosSet
trigger1 = time = 20
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 1051
pos = 0,9
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,1
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 2382
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .2,.2
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
angle = 90
[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 2381
ID = 9026
pos = 10,-44
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 40
id = 9026

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 4000
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Fuego Negro]
type = Explod
triggerall = time = 40
trigger1 = timemod = 2,0
anim =  2333
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
vel = -1-random%3,1-random%4
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%360

[State 0, Fuego Negro]
type = Explod
triggerall = time = 40
trigger1 = timemod = 2,0
anim =  2334
ID = 9027
pos = 60,-26
postype = p1
facing = 1
vfacing = 1
vel = -1-random%3,1-random%4
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = 0+random%360

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark chidori"
ID = 8091
stateno = 8091
pos = 60+random%20,-15-random%20
postype = P1
facing = -1
ownpal = 1
size.xscale = .15
size.yscale = .15
ignorehitpause = 1
persistent = 10


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 7
id = 9027

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,92
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,92
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 31
value = S40,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 30
x = 30

[State 0, VelSet]
type = VelSet
trigger1 = time = 40
x = 15

[State 0, VelSet]
type = VelSet
triggerall = movehit
trigger1 = time = 50
x = 50

[State 0, PlayerPush]
type = PlayerPush
triggerall = movehit
trigger1 = time >= 50
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 56
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = movehit
trigger1 = time = 56||time = 61
value = 2300
elem = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S5,44
volume = 999

[State 0, Width]
type = Width
trigger1 = time >= 40
player = 30,0

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 12,6
Hitflag = MAFDE
guardflag = MA
pausetime = 10,8
guard.pausetime = 5,3
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,42
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,ifelse(time >= 50,-4,0)
air.velocity = -4,ifelse(time >= 50,-4,0)
Fall = ifelse(time >= 50,1,0)
Fall.recover = 0
envshake.time = 6
PalFX.time = 35
PalFx.add = -255,-255,-255
PalFx.sinadd = 255,255,255,60
getpower = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Final Hit]
type = Helper
triggerall = numhelper(2350) = 0
triggerall = movehit
trigger1 = time = 50
helpertype = normal
name = "Final Hit"
ID = 2350
stateno = 2350
pos = 0,0
postype = p2
facing = -1
keyctrl = 0
ownpal = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.2,1.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Final Hit - Helper
[Statedef 2350]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1750
sprpriority = 2

[State 0, Explosion]
type = Explod
Triggerall = p2movetype = H && p2stateno != [120,155]
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Rayos]
type = Explod
trigger1 = timemod = 20,0
anim = 1081
ID = 1081
pos = 0,-30
postype = p2
facing = -1
bindtime = -1
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42
volume = 999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 55
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-6
air.velocity = 0,-4
Fall = 1
Fall.recover = 0
getpower = 0,0
envshake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Moveguarded = 1
anim = 7010
ID = 7010
postype = P2
pos = 0,-30
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.2,1.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = time = 5
