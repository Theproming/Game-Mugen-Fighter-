;---------------------- Integer variable list ---------------------- 
[Data]
;起始HP
life = 1700
POWER = 3000
attack = 100
;防御力（数值高更强）
defence = 100
;倒地时增加防御力百分比
fall.defence_up = 80
;倒地后爬起需要的时间
liedown.time = 60
;Juggle点数
airjuggle = 15
;默认的打击火花号
sparkno = 2
;默认的防御火花号
guard.sparkno = 40
;设为1的话KO时会有回音
KO.echo = 0
;音量调节 (负数声音减小)
volume = 0
;变量号大于以下数值的变量在局与局之间不会被清零。整数变量一共有60个，变量号为0至59。
;此外还有40个浮点变量，变量号为0至39.如果不写以下两行，那么所有的变量都会被清零。
;另外，你需要改变common1.cns里的state 5900来决定每一场之间清零与否。
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1           ;横向缩放比例
yscale = 1           ;纵向缩放比例
ground.back = 10     ;人物宽度 (地面上，中心到后方距离)
ground.front = 10    ;人物宽度 (地面上，中心到前方距离)
air.back = 10        ;人物宽度 (空中，中心到后方距离)
air.front = 10       ;人物宽度 (空中，中心到前方距离)
height = 40          ;人物高度(对手需要跳多高才能跳过)
attack.dist = 160    ;默认攻击距离
proj.attack.dist = 90 ;默认飞行道具攻击距离
proj.doscale = 0     ;如果值为1，则缩放飞行道具
head.pos = -5, -50   ;头部的大概位置
mid.pos = -5, -25    ;身体中部的大概位置
shadowoffset = 0     ;人物阴影的纵向偏移量
draw.offset = 0,0    ;人物图像的纵向偏移量 (x, y). 推荐 0,0

[Velocity]
walk.fwd  = 4      ;前进速度
walk.back = -4     ;后退速度
run.fwd  = 0, 0    ;跑步速度 (x, y)
run.back = 0,0 ;后跃速度 (x, y)
jump.neu = 0,-9    ;跳速度 (x, y)
jump.back = -4    ;后跳速度 (x, y)
jump.fwd = 4       ;前跳速度 (x, y)
runjump.back = 4 ;跑跳速度 (可选)
runjump.fwd = -4      ;.
airjump.neu = 0      ;.
airjump.back = -3      ;二段跳速度 (可选)

[Movement]
airjump.num = 1       ;空中跳跃次数 (可选)
airjump.height = 35   ;空中跳跃时离地最小距离 (可选)
yaccel = .44          ;重力加速度
stand.friction = .85  ;站立时摩擦系数
crouch.friction = .82 ;下蹲时摩擦系数

[Quotes]
victory0 = "I never ask to trust me at all."
victory1 = "Admiration is the furthest thing from understanding."
victory2 = "Laws exist only for those who cannot live without clinging to them."
victory3 = "There is no such thing as 'truth' or 'lies' in this world; there never has been. There are only plain, hard facts. And yet, all beings who exist in this world acknowledge only those 'facts' that are convenient to them, and take them to be the 'truth'."
victory4 = "Any betrayal you can see is trivial, what is truly frightening and much more lethal, is the betrayal you cannot see."
victory5 = "A victor must speak not of the current state of the world, but of how it should rightfully be."
victory6 = "Fear is necessary for evolution. The fear that could be destroyed at any moment."
victory7 = "Don’t use such strong words. It'll only make you look weak."
victory8 = "It's very difficult for me to step on an ant without crushing it."
victory9 = "Since the beginning, no one has ever stood in the heavens. Neither you, nor me, not even God himself. But that unbearable vacancy in the throne of Heaven shall be filled. From this day forth, I will stand in heaven."
victory10 = "In my eyes, there is no difference between wiping away one speck of dust or two."
victory11 = "You are fighting out of obligation, not out of hatred. You will never reach me like that. Battle without hatred is like a bird without wings."
victory12 = "Seek not beauty in battle. Seek not beauty in death. Consider not your own life. If you wish to protect that which must be protected, then strike while your opponent's back is turned."
victory13 = "Trusting someone... means relying on them and only the weak do that."
victory14 = "All of the Arrancar follow me... because they see me as fearless and the only individual who can actually bring forth the new world..."
victory15 = "Oh? I thought I severed your body from the waist-down, but...It seems the cut was too shallow."
;===============================================================================
; Perder:
;-------------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(11) 
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S3000,0
volumescale = 350

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S3000,1
volumescale = 350

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 110
value = S5,48
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 110
anim = 1720
sprpriority = 50
ontop = 1
removetime=36
pos = cond(facing=-1,0,-320),0
postype = front
bindtime = -1
id = 1720
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause=1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 130
flag = roundnotover

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Ganar:
;-------------------------------------------------------------------------------
[Statedef 180]
type = S


[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;===============================================================================
; Ganar Base:
;-------------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 180+var(11) 
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
fv = 1
value = 0+random%3

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0



[State 2550, Envshake]
type = envshake
trigger1 = time = 115
time = 10
ampl = 10


[State 0, Barrera]
type = Helper
trigger1 = time = 119
helpertype = normal
name = "Black Hole"
ID = 182
stateno = 182
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1.3

[State 0, Barrera]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "Black Hole"
ID = 183
stateno = 183
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 999



[State 0, VelSet]
type = VelSet
trigger1 = time = 120
x = 0
y = -.25

[State 0, Viento]
type = Explod
trigger1 = time = 110
anim = 7022
ID = 1051
pos = -15,18
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, Viento]
type = Explod
trigger1 = time = 110
anim = 7022
ID = 1051
pos = 10,18
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 1400
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time=910
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 900
anim = 301079
sprpriority = 95
removetime=-2
pos = -53,0
ontop=1
scale = 1,cond(GameWidth/GameHeight<1.341,1,0.75)
postype = left
bindtime = -1
id = 301079
pausemovetime = 99999
supermovetime = 99999

[State 180, 1]
type = ChangeState
trigger1 = Time = 910
value = 184
;-------------------------------------------------------------------------------
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0




[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 94
ID = 94
pos = 150,83
postype = left
bindtime = -1
removetime = 600
scale = 0.3,0.3
sprpriority = 300
ontop=1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999
angle=-30

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 95
ID = 95
pos = 150,83
postype = left
bindtime = -1
removetime = 600
scale = 0.7,0.7
sprpriority = 301
ontop=1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999




[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 92
ID = 92
pos = 150,42
postype = left
bindtime = -1
removetime = 600
scale = 0.6,0.3
sprpriority = 2000
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 85
ID = 85
pos = 150,225
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99990
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 87
ID = 87
pos = 155,230
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99991
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime
[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 87
ID = 87
pos = 145,230
facing=-1
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99991
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime


[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 89
ID = 89
pos = 160,230
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99993
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime
[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 89
ID = 89
pos = 140,230
postype = left
bindtime = -1
facing=-1
removetime = 600
scale = 0.8,0.8
sprpriority = 99993
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 90
ID = 90
pos = 152,230
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99995
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime
[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 90
ID = 90
pos = 148,230
postype = left
bindtime = -1
facing=-1
removetime = 600
scale = 0.8,0.8
sprpriority = 99995
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 91
ID = 91
pos = 154,245
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99997
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime
[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 91
ID = 91
pos = 146,245
postype = left
bindtime = -1
facing=-1
removetime = 600
scale = 0.8,0.8
sprpriority = 99997
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 86
ID = 86
pos = 150,265
postype = left
bindtime = -1
removetime = 600
scale = 0.8,0.8
sprpriority = 99998
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime



[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0




[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 500
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noMusic
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Black Hole
[Statedef 182]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 186
sprpriority = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = Animtime = 0

;-------------------------------------------------------------------------------
; Black Hole
[Statedef 183]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 183
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x= 0
y = -.25

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = Animtime = 0

;-------------------------------------------------------------------------------
; Kata
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,4
sprpriority = 40

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 181 && root,animelem = 1
trigger2 = root,stateno = 181 && root,animelem = 12
trigger3 = root,stateno != 181 && root,stateno != 3200 && root,var(17) = 0
ignorehitpause = 1
;===============================================================================
; Introducci髇:
;-------------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S

[State 0, ChangeState]
type = ChangeState
trigger1 = var(2) = 2
value = 11190

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,299]
trigger1 = !time
value = 191
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,599]
trigger1 = !time
value = 192
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = random = [0,999]
trigger1 = !time
value = 193
ctrl = 1
;===============================================================================
; Introducci髇 2:
;-------------------------------------------------------------------------------
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,60
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,60
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S5,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S5,61
volume = 999


[State 0, Garganta Open FX]
type = Explod
trigger1 = time = 15
anim = 194
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0
[State 0, Humo FX]
type = Explod
trigger1 = time = 15
anim = 196
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0
[State 0, Garganta Close FX]
type = Explod
trigger1 = time = 15
anim = 197
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = time = 150
value = 0
;-------------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,24
volume = 999
channel = 20
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,24
volume = 999
channel = 20
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,24
volume = 999
channel = 20
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,24
volume = 999
channel = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 40
value = S5,48
volume = 999

[State 0, Rain FX]
type = Explod
trigger1 = time = 40
anim = 30570
pos = 45,Floor((1.33*GameHeight/GameWidth)*120)
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 41
pausemovetime = 9999
supermovetime = 9999
scale = 0.6,0.65
sprpriority = 300
removeongethit = 1
ignorehitpause = 1
ownpal = 1
ontop=1
angle = 0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 190, 4]
type = ChangeState
trigger1 = time = 100
value = 0
;---------------------------------------------------------------
; Introduction 2
[Statedef 193]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 10
value = s0,44
channel = 21
[State 191, Snd 2]
type = PlaySnd
trigger1 = time = 10
value = s0,44
channel = 21

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = Time = 600
value = 0
;-------------------------------------------------------------------------------
; Black Hole
[Statedef 196]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 195
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,60
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,60
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S5,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S5,61
volume = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = Animtime = 0

;-------------------------------------------------------------------------------
[Statedef 11190]
type = S
ctrl = 0
anim = 11190
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,60
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,60
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S5,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S5,61
volume = 999


[State 0, Garganta Open FX]
type = Explod
trigger1 = time = 15
anim = 194
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0
[State 0, Humo FX]
type = Explod
trigger1 = time = 15
anim = 196
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0
[State 0, Garganta Close FX]
type = Explod
trigger1 = time = 15
anim = 197
pos = 30,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 0
removeongethit = 1
ignorehitpause = 1
ownpal = 1
angle = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S0,0
volume = 999
channel = 15

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = time = 150
value = 0
;===============================================================================
; A:
;-------------------------------------------------------------------------------
; A - 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 200
poweradd = 50
velset = 0,0
sprpriority = 2
facep2 = 1

[State 0, FX Corte]
type = Explod
trigger1 = time = 5
anim = 12086
ID =  12086
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25,.15
sprpriority = 3
ownpal = 1
removeongethit = 1
SUPERMOVETIME=99999



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,30
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,154
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,154
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,154
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 10
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.6
air.velocity = -1,-1.5
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1



[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 2200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = numhelper(1530) = 0
Triggerall = numhelper(1560) = 0
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1500
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 1000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1401) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 1400
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 8
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 105)+150*(ailevel >= 7)
value = 210

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 8
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 80)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 8
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && (ailevel = [1,3]) && random < (ailevel * 50)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 2
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 210
poweradd = 50
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 5
anim = 7218
ID = 7218
pos = 0,-36
postype = p1
bindtime = -1
removetime = -2
scale = 0.3,0.19
sprpriority = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=-25
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1,31
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,25
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1,-1.6
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 2200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = numhelper(1530) = 0
Triggerall = numhelper(1560) = 0
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1500
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 1000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1401) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 1400
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 105)
value = 211

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 85)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel < 5 && random < (ailevel * 40)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 211
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Slash FX]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Slash FX"
ID = 213
stateno = 213
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .5


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,30
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,155
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,155
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,155
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 10
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1,-2.4
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "y"
triggerall = power >= 3000
value = 3200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1700
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1350) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1300
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 95)
value = 212

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 95)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel < 5 && random < (ailevel * 49)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; 
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 212
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 7
anim = 12087
ID = 1208
pos = 25,-56
postype = p1
bindtime = -1
removetime = -2
scale = 0.6,0.4
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1,31
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,36
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1,-2.5
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "y"
triggerall = power >= 3000
value = 3200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1700
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1350) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1300
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 70)+500*(var(45)>12)
value = 220

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 99)
value = 300

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel <= 4 && random < (ailevel * 35)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; A - 3
[Statedef 220]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 220
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
volumescale = 500

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 8
time = 50
freq = 80
ampl = -6

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 7044
ID = 7044
pos = -60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 7044
ID = 7044
pos = 60,0
postype = p1
facing = -1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 221
ID = 221
pos = 0,-30
postype = p1 
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S300,2
volumescale = 200

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = timemod = 4,0
trigger1 = time >= 8
attr = S, NA
animtype  = Light
damage    = 6,3
guardflag = MA
pausetime = 0,65
sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,25
air.velocity = 0,20
Fall = 1
p2stateno = 1150

[State 0, AllPalFX]
type = BGPalFX
trigger1 = time> 8
time = 1
color = 2

[State 200, End]
type = ChangeState
trigger1 = Time = 50
value = 225
ctrl = 1
;-------------------------------------------------------------------------------
; A - 3.5
[Statedef 225]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 225
velset = 0,0
poweradd = 100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,111
volumescale = 550

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 50
freq = 80
ampl = -6

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7044
ID = 7044
pos = -60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7044
ID = 7044
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 15,8
guardflag = MA
pausetime = 0,65
sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,25
air.velocity = 0,20
Fall = 1
p2stateno = 1151

[State 0, AllPalFX]
type = BGPalFX
trigger1 = time> 0
time = 1
color = 2

[State 271, end]
type = ChangeState
triggerall = movehit && time >= 15
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 2200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit && time >= 15
triggerall = !Ailevel
Triggerall = numhelper(1530) = 0
Triggerall = numhelper(1560) = 0
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1500
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit && time >= 15
triggerall = !Ailevel
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 1000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit && time >= 15
triggerall = numhelper(1401) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 1400
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1
;===============================================================================
; B:
;-------------------------------------------------------------------------------
; B - 1
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 300
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 5
anim = 7214
ID = 7214
pos = -12,-12
postype = p1
bindtime = -1
removetime = -2
scale = 0.35,0.35
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=30
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,9
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,9
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.6
air.velocity = -1,-1.5
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .2 
size.yscale = .2 
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "y"
triggerall = power >= 3000
value = 3200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = var(17) = 0
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1700
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1350) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1300
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact  && time >7
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)+100*(ailevel > 6)
value = 311

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 80)
value = 200

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel < 6 && random < (ailevel * 40)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 2
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 310
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 3
anim = 6601
ID = 6601
pos = -10,-20
postype = p1
bindtime = -1
removetime = -2
scale = 0.35,0.15
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=30
supermovetime=99999

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,36
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = medium
damage    = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -1,-8
Fall = 1
Envshake.time = 15

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1


[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 6
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 120)
value = 320

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 311]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 311
poweradd = 100
velset = 0,0
sprpriority = 2


[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 6604
ID = 6604
pos = 12,-38
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
scale = .22,.25
sprpriority = 4
trans=sub
supermovetime=99999



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,30
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 10
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1,-1.67
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1



[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 2200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = numhelper(1530) = 0
Triggerall = numhelper(1560) = 0
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1500
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 1000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1401) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 1400
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)
value = 312

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel < 6 && random < (ailevel * 50)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 312]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 312
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Electricidad]
type = Explod
trigger1 = time = 2
anim = 314
ID = 314
pos = 28,-35
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .2,.2
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Electricidad]
type = Explod
trigger1 = time = 4
anim = 313
ID = 313
pos = 28,-35
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25,.25
sprpriority = 12
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,10
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,30
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Heavy
damage    = 30
guardflag = MA
pausetime = 10,25
guard.pausetime = 12,12
sparkno = -1
guard.sparkno = S7000
sparkxy = -8,-25
hitsound   = S5,41
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 1
PalFX.time = 16
PalFX.add = 0,0,240
PalFX.mul = 120,224,150
PalFX.sinadd = 85,55,110,10
PalFX.invertall = 1
PalFX.color = 0
Envshake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(315) = 0
trigger1 = Movehit = 1
anim = 315
ID = 315
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .29,.29
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 2200
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
Triggerall = numhelper(1530) = 0
Triggerall = numhelper(1560) = 0
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1500
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 1000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1401) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 1400
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >4
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)
value = 310

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >4
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 70)
value = 220

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >4
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && ailevel < 6 && random < (ailevel * 60)
value = 400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; B - 3
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,33
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,31
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,30
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S1,33
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=30
value = S1,34
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=30
value = S1,34
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 30

[State 0, VelSet]
type = VelSet
trigger1 = time = 17
x = 2

[State 0, Soru]
type = Explod
trigger1 = time = 7
anim = 580
ID = 580
pos = -10 ,-20 
postype = p1
bindtime = -1
scale = .4 ,.3 
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S40,2
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Medium
damage    = 6
Hitflag = mafd
guardflag = MA
pausetime = 0,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 22
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0,0
Fall = 0
Getpower = 0,0
Envshake.time = 5
numhits = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(804) = 0
helpertype = normal
name = "Hit Spark"
ID = 804
stateno = 804
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 0, Cortes Invocador]
type = Helper
trigger1 = movehit && time = 22
helpertype = normal
name = "Cortes Invocador"
ID = 325
stateno = 325
pos = -5 ,-25 
postype = p2
facing = -1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 45 && numhelper(225)
value = 320
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 330
ctrl = 1
;-------------------------------------------------------------------------------
; Cortes Invocador
[Statedef 325]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,30
volume = 50

[State 0, Cortes]
type = Helper
trigger1 = timemod = 5,0
helpertype = normal
name = "Cortes"
ID = 326
stateno = 326
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5 
size.yscale = .6 

[State 200, End]
type = Destroyself
trigger1 = time = 24
;-------------------------------------------------------------------------------
; Cortes
[Statedef 326]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
sprpriority = 3

[State 0, Pause]
type = Pause
trigger1 = movehit = 1
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Up
damage    = 12,6
Hitflag = mafd
guardflag = MA
pausetime = 0,15
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-6
air.velocity = 0,-6
Fall = 1
Getpower = 0,0
Envshake.time = 20

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7015
ID = 7001
postype = P2
pos = 0+random%20,0-random%40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6 ,.6 
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; B - 4
[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = 100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,25
volumescale = 550

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 30
ampl = -4

[State 0, Helper]
type = Helper
trigger1 = timemod = 4,0
trigger1 = time <= 8
helpertype = normal ;player
name = "Bun"
ID = 331
stateno = 331
pos = -150-random%40,0-random%40
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
[State 0, Helper]
type = Helper
trigger1 = timemod = 4,1
trigger1 = time <= 8
helpertype = normal ;player
name = "Bun"
ID = 332
stateno = 332
pos = 150+random%40,0-random%40
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = timemod = 4,2
trigger1 = time <= 8
helpertype = normal ;player
name = "Bun"
ID = 333
stateno = 333
pos = 150+random%40,-70-random%40
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = timemod = 4,3
trigger1 = time <= 8
helpertype = normal ;player
name = "Bun"
ID = 333
stateno = 333
pos = -150-random%40,-70-random%40
postype = p2
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 1, Juggle]
type = VarAdd
trigger1 = time = 29
var(45) = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Bun 1
[Statedef 331]
type = S
movetype= A
physics = N
ctrl = 0
anim = 335
velset = 15,0
sprpriority = 5
juggle = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 150,256

[State 200, 1]
type = HitDef
triggerAll = !root,var(46) && (root,var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 10,5
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = movehit
y = -5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7225
ID = 7225
pos = 15-random%30,-10-random%30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
;Bun 2
[Statedef 332]
type = S
movetype= A
physics = N
ctrl = 0
anim = 335
velset = 15,0
sprpriority = 5
juggle = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 150,256

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 70
palcontrast = 120,120,120
paladd = 100,100,100
palmul = .65,.65,.65
trans = add 
framegap = 2

[State 200, 1]
type = HitDef
triggerAll = !root,var(46) && (root,var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 10,5
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = movehit
y = -5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7225
ID = 7225
pos = 15-random%30,-10-random%30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
;Bun 3
[Statedef 333]
type = S
movetype= A
physics = N
ctrl = 0
anim = 335
velset = 15,5
sprpriority = 5
juggle = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 150,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -25

[State 200, 1]
type = HitDef
triggerAll = !root,var(46) && (root,var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 10,5
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = movehit
y = -5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7225
ID = 7225
pos = 15-random%30,-10-random%30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
;Bun 4
[Statedef 334]
type = S
movetype= A
physics = N
ctrl = 0
anim = 335
velset = 15,5
sprpriority = 5
juggle = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 150,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 25

[State 200, 1]
type = HitDef
triggerAll = !root,var(46) && (root,var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 10,5
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 1
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = movehit
y = -5

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7225
ID = 7225
pos = 15-random%30,-10-random%30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 0
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%180

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;===============================================================================
; C:
;-------------------------------------------------------------------------------
; C - 1
[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 400
poweradd = 100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S0,30
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S0,30
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S0,30
volume = 999

[State 0, Clone]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "Clone"
ID = 405
stateno = 405
pos = 30 ,0 
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
triggerall = numhelper(405)
Triggerall = helper(405),movecontact && time > 5
trigger1 = !Ailevel && command = "hold_c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)
value = 410

[State 200, End]
type = ChangeState
trigger1 = Time = 50
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Clon 1
[Statedef 405]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 405
poweradd = 50
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 12085
ID = 12085
pos = 16,-29
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
scale = .48,.48
sprpriority = 5
ownpal = 1
trans=sub
removeongethit = 1
angle=110

[State 0, Turn]
type = Turn
trigger1 = time = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1, Juggle]
type = parentVarAdd
trigger1 = movehit = 1
var(45) = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerAll = root,var(46)=0 && (root,var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15,8
guardflag = MA
pausetime = 8,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -2,-3
air.velocity = -2,-3
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-25 
postype = p2
facing = -1
ownpal = 1
size.xscale = .2 
size.yscale = .2 
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = root,stateno = 420
value = 425

[State 200, End]
type = Changestate
trigger1 = root,stateno != [400,499]
value = 465
;-------------------------------------------------------------------------------
; C - 2
[Statedef 410]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 100
sprpriority = 2

[State 0, Clone]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Clone"
ID = 415
stateno = 415
pos = 30 ,0 
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
Triggerall = helper(415),movecontact && time > 5
trigger1 = !Ailevel && command = "hold_c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)
value = 420

[State 200, End]
type = ChangeState
trigger1 = Time = 30
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Clon 2
[Statedef 415]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 415
poweradd = 50
sprpriority = 3

[State 0, Blade FX]
type = Explod
trigger1 = time = 7
anim = 7214
ID = 7214
pos = 0,-12
postype = p1
bindtime = -1
removetime = -2
scale = 0.35,0.35
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=30
supermovetime=99999

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x - 30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1, Juggle]
type = parentVarAdd
trigger1 = movehit = 1
var(45) = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerAll = root,var(46)=0 && (root,var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15,8
guardflag = MA
pausetime = 8,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -2,2
air.velocity = -2,2
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25 
postype = p2
facing = -1
ownpal = 1
size.xscale = .2 
size.yscale = .2 
ignorehitpause = 1

[State 200, End]
type = Changestate
trigger1 = root,stateno = 420
value = 425

[State 200, End]
type = Changestate
trigger1 = root,stateno != [400,499]
value = 466
;-------------------------------------------------------------------------------
; C - 3
[Statedef 420]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
poweradd = 100
sprpriority = 2

[State 200, End]
type = ChangeState
Trigger1 = helper(405),movecontact && helper(405),stateno = 425 && time >= 45
Trigger2 = helper(415),movecontact && helper(415),stateno = 425 && time >= 45
value = 430

[State 200, End]
type = ChangeState
trigger1 = Time = 60
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Clones Consecutive Slashing
[Statedef 425]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 425
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,34
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,34
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = S1,33
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999

[State 0, Soru]
type = Explod
trigger1 = time=5
anim = 9079
ID = 101
pos = 0,-25
postype = p1
facing = 1
vfacing = 1
bindtime = -1
vel=1,0
removetime = -2
scale = .3,.2
sprpriority = 33
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = add
supermovetime=99999



[State 0, Hit Spark]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Cut Spark"
ID = 805
stateno = 805
pos = 0,-35 
postype = p1
ownpal = 1
size.xscale = .15 
size.yscale = .15 
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 25

[State 0, VelSet]
type = VelSet
trigger1 = movehit=1
x = 20

[State 1, Juggle]
type = parentVarAdd
trigger1 = movehit = 1
var(45) = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerAll = root,var(46)=0 && (root,var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 50
guardflag = MA
pausetime = 6,9
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = 0
air.velocity = 0,0
Fall = 0
Envshake.time = 5
getpower = 0
p2stateno = 426

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(903) = 0
helpertype = normal
name = "Hit Spark"
ID = 903
stateno = 903
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,25
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = unguardable

[State 200, End]
type = Changestate
trigger1 = time = 50
value = 470
;-------------------------------------------------------------------------------
; P2
[Statedef 426]
type    = A
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = vel y > 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = vel y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = vel y > 0
x = cond(vel x < 0,-1,1)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = pos y < 0
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5300

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
movetype = H
physics = S

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 200, End]
type = Selfstate
trigger1 = time > 50
value = 5050
;---------------------------------------------------------------------
;C - 4
[Statedef 430]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 430
velset = 0,0
poweradd = 50
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3000,0
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S3000,3
volume = 999

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x + 90

[State 200, 1]
type = HitDef
triggerAll = var(46)=0 && (var(45) < 15)
trigger1 = !movecontact
attr = S, HA
animtype  = Light
damage    = 60
guardflag = MA
hitflag = MAF
pausetime = 6,9
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = 1,20
guardsound = 4,1
ground.type = High
ground.slidetime = 52
ground.hittime  = 20
ground.velocity = 0
air.velocity = 0,0
Fall = 1
Envshake.time = 5
getpower = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S0,25
volume = 999

[State 0, Explod]
type = Explod
trigger1 = !movecontact
anim = 1071
pos = -6,-26
postype = p2
ontop = 1
ownpal = 1
scale = .65,.65
IgnoreHitPause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 1720
sprpriority = 50
ontop = 1
removetime=36
pos = cond(facing=-1,0,-320),0
postype = front
bindtime = -1
id = 1720
ownpal = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause=1

[State 200, End]
type = Changestate
trigger1 = time = 50
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Clones Fin
[Statedef 465]
type    = A
movetype= I
physics = N
juggle  = 1
anim= 465
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, End]
type = Destroyself
trigger1 = time = 6
;-------------------------------------------------------------------------------
; Clones Fin
[Statedef 466]
type    = A
movetype= I
physics = N
juggle  = 1
anim= 466
velset = 0,0
ctrl = 0
sprpriority = 2

[State 200, End]
type = Destroyself
trigger1 = time = 6
;-------------------------------------------------------------------------------
; Clon -  Fin
[Statedef 470]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 0 
y = 0

[State 0, Soru]
type = Explod
trigger1 = time = 0
anim = 7060
ID = 7060
pos = 0 ,-30 
postype = p1
bindtime = -1
scale = .4 ,.4 
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,49
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;===============================================================================
; Power Charge:
;-------------------------------------------------------------------------------
; Power Charge - Start
[Statedef 500]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0+var(11) 
sprpriority = 2

[State 730, FX]
type = helper
trigger1 = !numhelper(550)
helpertype = normal
stateno = 550
ID = 550
name = "Charge 1"
postype = p1
pausemovetime = 65535
supermovetime = 65535
ownpal = 1

[State 0, Orbes]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Orbes"
ID = 555
stateno = 555
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6 ||(time >=6 && timemod = 15,0)
time = 15
ampl = -3
freq = 30
ignorehitpause=1

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 4
trigger1 = 1
value = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
channel = 2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
channel = 4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
channel = 5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
channel = 6

[State 200, End]
type = ChangeState
triggerall = time >= 7
trigger1 = power >= const(data.power) || power >= powermax || roundstate != 2
trigger2 = !AIlevel && command != "hold_s"
trigger3 = AIlevel && (!var(17)*inguarddist || !var(17)*(p2bodydist x <= 100) || !var(17)*((enemynear(var(59)), movetype = A) && cond(ailevel,(PlayerIdExist(helper(33333333),var(3))),0)))
trigger3 = cond(numhelper(1350),numhelper(1350),1) 
trigger3 = cond(numhelper(1350),!((helper(1350),pos x-pos x)*facing >= 66),1)
value = 501
;-------------------------------------------------------------------------------
; Power Charge - Fin
[Statedef 501]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0+var(11) 
sprpriority = 2

[State 8330, Aura]
type= explod
trigger1 = Time = 0
ID = 555
anim = 555
sprpriority = 3
postype = p1
pos = -6,7
bindtime = 100
scale = .7,.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = Time = 5
value = 0
ctrl = 1
;----------------------------------------------------------------------------
; Power Charge - Charge
[Statedef 550]
type=A
physics=N
movetype=I
anim=9999
ctrl=0
velset=0,0

[State 0, Explod]
type = Explod
trigger1 = time >= 2&&timemod=15,0 && pos y >-1
anim = 9515
ID = 5188
pos = 0,-3
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 99999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = .65,0.9
trans = sub
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 8330, Bind]
type=bindtoroot
trigger1= (root,stateno=500)
trigger2= (root,stateno=3000)
pos=-6,13

[State 8330, Snd]
type=playsnd
trigger1= !time
value=S300,18
channel=1

[State 8330, Aura]
type  =explod
trigger1 = !numexplod(550)
ID= 550
anim= 550
pos= -2,-8
sprpriority = 3
postype = p1
bindtime = -1
removetime = -1
scale = .6,.4
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 8330, FX]
type=modifyexplod
trigger1= numexplod(550) && root,power < powermax
ID = 550

[State 8330, FX]
type=modifyexplod
trigger1= numexplod(550) && root,power >= powermax
ID = 550

[State 8330, End]
type=stopsnd
trigger1= root,stateno!= 500
trigger1= root,stateno!= 3000
channel=1

[State 8330, End]
type=removeexplod
trigger1= root,stateno!= 500
trigger1= root,stateno!= 3000
trigger2 = root,stateno = 3000 && root,time >= 1920

[State 8330, End]
type=destroyself
trigger1= root,stateno!= 500
trigger1= root,stateno!= 3000
trigger2 = root,stateno = 3000 && root,time >= 1920
;-------------------------------------------------------------------------------
; Orbes - Start
[Statedef 555]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 556
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -5,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 500
trigger1= root,stateno!= 3000
trigger2 = root,stateno = 3000 && root,time >= 1920
value = 556
;-------------------------------------------------------------------------------
; Orbes - Fin
[Statedef 556]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -5,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H

;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 582]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7100
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 583]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7101
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 584]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7102
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Camara Lent
[Statedef 590]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Camara Lent
[Statedef 591]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,15]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;===============================================================================
; A Aire:
;-------------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 600+var(14) 
poweradd = -600
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
volumescale = 550

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 8
time = 50
freq = 80
ampl = -6

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 221
ID = 221
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 555
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S300,2
volumescale = 256

[State 200, 1]
type = HitDef
triggerAll = var(46)=0 && (var(45) < 15)
trigger1 = timemod = 4,0
trigger1 = time >= 8
attr = S, NA
animtype  = Light
damage    = 12,6
guardflag = MA
pausetime = 0,65
sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,25
air.velocity = 0,20
Fall = 1
p2stateno = 1050

[State 0, AllPalFX]
type = BGPalFX
trigger1 = time> 8
time = 1
color = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 40
statetype = A
movetype = I
physics = A

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 35
id = 221

[State 200, End]
type = ChangeState
trigger1 = Time = 40
value = 50
ctrl = 1
;===============================================================================
; B Aire:
;-------------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 610+var(14) 
poweradd = -150
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999

[State 0, Soru]
type = Explod
trigger1 = animelem = 2
anim = 580
ID = 580
pos = 0,-25
postype = p1
bindtime = -1
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = Add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S40,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 8
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 2
y = -2

[State 0, Garrazos Pos]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Garrazos Pos"
ID = 615
stateno = 615
pos = 0,-12
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 1, Juggle]
type = VarAdd
trigger1 = animtime = 0
var(45) = 1
persistent = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50 
ctrl = 1
;-------------------------------------------------------------------------------
; Garrazos Pos
[Statedef 615]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, Garrazos]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Garrazos"
ID = 616
stateno = 616
pos = -6 +random%40 ,-20 +random%40 
postype = p1
ownpal = 1
size.xscale = .35 
size.yscale = .35 

[State 200, End]
type = Destroyself
trigger1 = time >= 10
;-------------------------------------------------------------------------------
; Garrazos
[Statedef 616]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 326
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, 1]
type = HitDef
triggerAll = root,var(46)=0 && (root,var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 4
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-6
air.velocity = 0,-4
Fall = 1
Envshake.time = 10

[State 0, Pause]
type = Pause
trigger1 = movehit = 1
time = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(804) = 0
helpertype = normal
name = "Hit Spark"
ID = 804
stateno = 804
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;===============================================================================
; C Aire:
;-------------------------------------------------------------------------------
[Statedef 620]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 620+var(14) 
poweradd = -400
sprpriority = 2

[State 0, Teleport]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Teleport"
ID = 582
stateno = 582
pos = 0,-40
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,28
volume = 999

[State 0, Turn]
type = Turn
trigger1 = time = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x - 30

[State 0, PosSet]
type = PosSet
trigger1 = time = 10
y = enemy,pos y

[State 0, PosSet]
type = PosSet
trigger1 = time = 11
trigger1 = pos y >= 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 15
x = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25,17
guardflag = MA
pausetime = 8,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -2,-3
air.velocity = -2,-3
Fall = 1
p2stateno = 621

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(804) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-25 
postype = p2
facing = -1
ownpal = 1
size.xscale = .2 
size.yscale = .2 
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = time = 11
trigger1 = p2statetype = A
value = 625

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y < 0,50,0)
ctrl = 1
;-----------------------------------------------------
;P2 - pressure
[Statedef 621]
type    = S
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 5000
sprpriority = 2
juggle = 0

[State 0, SelfState]
type = SelfState
trigger1 = time = 10
value = 5110
;-------------------------------------------------------------------------------
;Aire:
[Statedef 625]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 625+var(14) 
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,8]
time = 1
movetime = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = enemy,pos y

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
trigger1 = pos y >= 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25,17
guardflag = MA
pausetime = 8,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -2,-3
air.velocity = -2,-3
Fall = 1
p2stateno = 626

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(903) = 0
helpertype = normal
name = "Hit Spark"
ID = 903
stateno = 903
pos = 0,-25 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = cond(pos y < 0,50,0)
ctrl = 1
;-----------------------------------------------------
;P2 - pressure
[Statedef 626]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -25,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030+cond(authorname = "Mikel8888",var(10),0)
elem = 1

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 627
;-------------------------------------------------------------------------------
; P2 Revote
[Statedef 627]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5021+var(10)
elem = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200, End]
type = Selfstate
trigger1 = time >= 10
value = 5050
;-------------------------------------------------------------------------------
; AATP Dodge
[Statedef 680]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 680
poweradd = 50
sprpriority = -1

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 15
trans = sub
length = 10
timegap = 1
framegap = 1
palbright = 10 , 10 , 10
palcontrast = 100, 100, 100
paladd = 0,0,0
palmul = .90, .90, .90
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S40,2
volume = 50
[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 1
[State 0, Soru]
type = Explod
trigger1 = time = 2
anim = 580
ID = 580
pos = -15,-20
postype = p1
bindtime = -1
scale = .3,.3
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = add

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 6

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -10 && time = 12

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 200, End]
type = ChangeState
trigger1 = cond(pos y < 0,time = 12,animtime = 0)
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 804]
type    = A
movetype= I
physics = N
anim = 7015
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 805]
type    = A
movetype= I
physics = N
anim = 7059
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 806]
type    = A
movetype= I
physics = N
anim = 7004
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 807]
type    = A
movetype= I
physics = N
anim = 7002
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 900]
type    = A
movetype= I
physics = N
anim = 70070
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 901]
type    = A
movetype= I
physics = N
anim = 7011
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 902]
type    = A
movetype= I
physics = N
anim = 7012
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Slash Spark NEW
[Statedef 903]
type    = A
movetype= I
physics = N
anim = 7003
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;===============================================================================
; Hollow Mode :
;-------------------------------------------------------------------------------
; Hollow Mode - Start :
[Statedef 904]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 904
poweradd = -1000
sprpriority = 2

[State 0, FX Corte]
type = Explod
trigger1 = time = 176
anim = 1130
ID =  1130
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25,.25
sprpriority = 500
ontop = 1
ownpal = 1
removeongethit = 1
SUPERMOVETIME=99999

[State 0, Explod]
type = Explod
trigger1 = time =32
anim = 9516
ID = 5188
pos = 0,1
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 99999
vel = 0,0
accel = 0,0
random = 0,0
removetime = 144
supermovetime = 99999
pausemovetime = 99999
scale = .65,0.9
trans = sub
sprpriority = 4
ownpal = 1
removeongethit = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 550

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 555

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 190
id = 5188

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=180
value = S900,2
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 180
time = 15
freq = 60
ampl = -13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=120
value = S4,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=120
value = S4,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=1
value = S5,38
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=5
value = S5,36
volume = 50

[State 0, VarSet]
type = VarSet
trigger1 = time = 141
v = 2
value = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 179
movetime = 179
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, SS2 Activado]
type = Helper
trigger1 = time = 141
helpertype = Normal
name = "SS2 Activado"
ID = 960
stateno = 960
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=60
value = S0,160
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=60
value = S0,160
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=60
value = S0,160
volume = 999

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7402
ID = 7402
pos = 2,-28 
postype = p1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .4 ,.4 
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,2
volume = 50

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Hollow mode - Fin
[Statedef 905]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 905
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,48
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=4
value = S4,2
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=4
value = S4,2
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=11
value = S5,38
volume = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 47
movetime = 47
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 184
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 170 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, SS2 Desactivado]
type = Helper
trigger1 = time = 30
helpertype = Normal
name = "SS2 Desactivado"
ID = 961
stateno = 961
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Hollow mode - Activado
[Statedef 960]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = cond(ailevel,time >= 1000,time >= 1)
;-------------------------------------------------------------------------------
; Hollow mode - Desactivado
[Statedef 961]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Combo A - 1
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 230
poweradd = 50
velset = 0,0
sprpriority = 2
facep2 = 1

[State 0, Viento]
type = Explod
trigger1 = time = 9
anim = 7028
ID = 1051
pos = -20,18
postype = p1
facing = -1
vfacing = 1
vel=1,0
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,30
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,30
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,3
volume = 50

[State 0, Blade FX]
type = Explod
trigger1 = time = 0
anim = 7212
ID = 7212
pos = 0,-35
postype = p1
bindtime = -1
removetime = -2
scale = 0.25,0.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .15 
size.yscale = .15 
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 3, Hit
guardflag = MA
animtype = Medium
damage = 30,15
pausetime = 10,12
guard.pausetime = 10,6
hitsound = S1,37
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -4.6,0
air.velocity = -2,-1.7
fall = 0
envshake.time = 8
envshake.ampl = -6

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "y"
triggerall = power >= 3000
value = 3105
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1600
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
triggerall = numhelper(4050) = 0
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 4000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 4100
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact 
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 120)
value = 235

[State 200, Into B]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && (p2bodydist x = [-5,51]) && ailevel && random < (ailevel * 110)/2
value = 250

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && (p2bodydist x = [-5,35]) && ailevel && random < (ailevel * 130)/2
value = 740

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo A - 2
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 235
poweradd = 40
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 4
anim = 7029
ID = 1051
pos = 10,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .35,.35
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S300,16
volume = 50

[State 0, Blade FX]
type = Explod
trigger1 = time = 3
anim = 7214
ID = 7214
pos = 0,-12
postype = p1
bindtime = -1
removetime = -2
scale = 0.35,0.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=30
supermovetime=99999

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .15
size.yscale = .15
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7000) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7000
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 4, Hit
guardflag = MA
animtype = Medium
damage = 30,15
pausetime = 10,12
guard.pausetime = 10,6
hitsound = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -4.6,0
air.velocity = -2,-1.57
fall = 0
envshake.time = 8
envshake.ampl = -6

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 3000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1800
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2300
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1120) = 0
triggerall = numhelper(1140) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1100
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact 
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 105)
value = 240

[State 200, Into B]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && (p2bodydist x = [-5,51]) && ailevel && random < (ailevel * 110)/2
value = 250

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && (p2bodydist x = [-5,35]) && ailevel && random < (ailevel * 120)/2
value = 740

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo A - 3
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 240
poweradd = 50
velset = 0,0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time = 4
anim = 7026
ID = 1051
pos = 15,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .35,.35
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,25
volume = 50

[State 0, Blade FX]
type = Explod
trigger1 = time = 7
anim = 7216
ID = 7216
pos = 8,-30
postype = p1
bindtime = -1
removetime = -2
scale = 0.3,0.3
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1



[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Heavy
damage = 30,15
pausetime = 16,18
guard.pausetime = 10,6
hitsound = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -9,0
air.velocity = -3,-1.7
fall = 0
envshake.time = 8
envshake.ampl = -6

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "y"
triggerall = power >= 3000
value = 3105
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1600
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
triggerall = numhelper(4050) = 0
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 4000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 4100
ctrl = 1

[State 200, Into B]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 109) && (p2bodydist x = [-5,51])
value = 250

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 79) && (p2bodydist x = [-5,35])  
value = 740

[State 200, End]
type = ChangeState
Triggerall = movecontact 
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2  && ailevel && (random < (ailevel * 80)) 
value = 245

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo A - 4
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 245
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 12
anim = 7215
ID = 7215
pos = 10,-32
postype = p1
bindtime = -1
removetime = -2
scale = 0.35,0.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
angle=15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S5,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,16
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x + 70

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0

[State 0, Turn]
type = Turn
trigger1 = time = 7

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 2

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Heavy
damage = 35
guardflag = MA
pausetime = 8,8
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-4
air.velocity = -8,-4
Fall = 1
Envshake.time = 20

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(901) = 0
helpertype = normal
name = "Hit Spark"
ID = 901
stateno = 901
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 3000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2300
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1120) = 0
triggerall = numhelper(1140) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1100
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Combo B - 1
;-------------------------------------------------------------------------------
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 250
poweradd = 100
velset = 0,0
sprpriority = 2
facep2 = 1

[State 0, Viento]
type = Explod
trigger1 = time = 4
anim = 7029
ID = 1051
pos = 10,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .35,.35
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, FX Corte]
type = Explod
trigger1 = time = 5
anim = 12086
ID =  12086
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25,.15
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 1
SUPERMOVETIME=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,155
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,155
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,3
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,3
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 4

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 4, Hit
guardflag = MA
animtype = Light
damage = 15,7
pausetime = 15,17
guard.pausetime = 10,6
hitsound = S1,37
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 15
ground.velocity = -3,0
air.velocity = -3,-1.92
fall = 0
envshake.time = 4
envshake.ampl = -3

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 3000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1800
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2300
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1120) = 0
triggerall = numhelper(1140) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1100
ctrl = 1

[State 200, Into B-1]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 102)
value = 255

[State 200, Into A-2]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 111)/2
value = 235

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && (p2bodydist x = [-5,33]) && ailevel && random < (ailevel * 111)/2
value = 745

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo B - 2
[Statedef 255]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 255
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,21
volume = 999

[State 0, Viento]
type = Explod
trigger1 = time = 7
anim = 7028
ID = 1051
pos = -20,18
postype = p1
facing = -1
vfacing = 1
vel=1,0
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7221
ID = 1051
pos = 20,-25
postype = p1
facing = 1
vfacing = 1
vel=0,0
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
angle=90

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S300,16
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S300,16
volume = 50

[State 0, Dust FX]
type = Explod
trigger1 = AnimElem = 3
anim = 7022
ID = 7022
pos = 20,0
scale = .20,.25
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 1
ontop = 1
ownpal = 1
Vel = -.5,0
removeongethit = 1

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 4, Hit
guardflag = MA
animtype = Medium
damage = 15,7
pausetime = 13,15
guard.pausetime = 10,6
hitsound = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -8.5,0
air.velocity  = -2,-1.567
fall = 0
envshake.time = 10
envshake.ampl = -4

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "y"
triggerall = power >= 3000
value = 3105
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 5"
triggerall = power >= 2000
value = 1600
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
triggerall = numhelper(4050) = 0
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 4000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 1"
triggerall = power >= 1000
value = 4100
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact 
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 105)
value = 260

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 105)/2
value = 760

[State 200, Into A-2]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 110)/2
value = 240

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Combo B - 3
;-------------------------------------------------------------------------------
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 260
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time = 7
anim = 7026
ID = 1051
pos = 15,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .35,.35
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, Viento]
type = Explod
trigger1 = time = 6
anim = 7222
ID = 1051
pos = 42,-37
postype = p1
facing = 1
vfacing = 1
vel=0,0
bindtime = 1
removetime = -2
scale = .65,.65
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,16
volumescale = 250

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,25
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,25
volume = 50

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 4, Hit
guardflag = MA
animtype = Medium
damage = 15,7
pausetime = 10,10
guard.pausetime = 10,6
hitsound = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,-1.89
fall = 0
envshake.time = 12
envshake.ampl = -6

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .2
size.yscale = .2
ignorehitpause = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 3000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1800
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2300
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1120) = 0
triggerall = numhelper(1140) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1100
ctrl = 1

[State 200, Into C]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 120)
value = 740

[State 200, End]
type = ChangeState
Triggerall = movecontact 
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && frontedgebodydist > 50 && ailevel && random < (ailevel * 80)
value = 265

[State 200, Into A-2]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "a"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 70)
value = 245

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Combo B - 4
[Statedef 265]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 265
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time = 9
anim = 7026
ID = 1051
pos = 15,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .35,.35
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime=99999

[State 0, Explod]
type = Explod
trigger1 = time = 9
anim = 12085
ID = 12085
pos = 16,-29
postype = p1
facing = -1
vfacing = -1
bindtime = -1
removetime = -2
scale = .48,.48
sprpriority = 2
ontop = 1
ownpal = 1
trans=sub
removeongethit = 1
angle=110

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,155
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,155
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,34
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1,34
volume = 50

[State 0, HitDef]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF 
priority = 4, Hit
guardflag = MA
animtype = Medium
damage = 15,7
pausetime = 20,20
guard.pausetime = 10,6
hitsound = S1,36
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -6,-9
air.velocity  = -5.6,-8.2
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -5

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1


[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(903) = 0
helpertype = normal
name = "Hit Spark"
ID = 903
stateno = 903
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1
persistent = -1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 125)
value = 700

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "z"
triggerall = power >= 3000
value = 670
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
triggerall = numhelper(4050) = 0
trigger1 = command = "SPECIAL 3"
triggerall = power >= 1500
value = 4000
ctrl = 1


[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
; Super Dash - Start
;-------------------------------------------------------------------------------
[Statedef 700]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 700
poweradd = 50
sprpriority = 2

[state 0]
type = playsnd
trigger1 = time = 5
value = s9160, 5
[state 0]
type = playsnd
trigger1 = time = 5
value = s9160, 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,4
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,4
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
volume = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S500,10
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = Time = [0,15]
y = -1.5

[State 0, VelSet]
type = VelSet
TriggerAll = Time = 15
trigger1 = 1
x = 14
y = p2bodydist y /22

[State 0, VelSet]
type = VelSet
TriggerAll = pos y >= -2.5
Trigger1 = vel y >= 1
y = 0

[State 0, Super Dash - Limiter]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Super Dash - Limiter"
ID = 715
stateno = 715
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Air Dash Wave]
type = Explod
trigger1 = Time = 15
anim = 7036
ID = 7036
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .45,.45
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -.5,0

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 15,7
guardflag = MA
pausetime = 10,10
Guard.PauseTime = 8,4
sparkno = -1
guard.sparkno = -1
hitsound   = S1,7
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.5,-5
air.velocity = -.5,-5
Fall = 1
envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(901) = 0
helpertype = normal
name = "Hit Spark"
ID = 901
stateno = 901
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(200) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 200
postype = P2
pos = 4,-27
facing = 1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, Hit]
type = ChangeState
trigger1 = Time >= 10 && MoveHit
value = 705
ctrl = 0

[State 200, Fail~/Blocked~]
type = ChangeState
trigger1 = Time >= 40
trigger2 = frontedgebodydist < 5
trigger3 = MoveGuarded
value = 710
ctrl = 0
;-------------------------------------------------------------------------------
; Super Dash - Hit
[Statedef 705]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 705
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 005

[State 0, Dash Brake]
type = VelSet
trigger1 = Time = 0
x = 2
y = -4

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 15,-2
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = Time >= 1
trigger1 = command = "b" && !ailevel
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 93)
value = 735

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
; Super Dash - Fin
[Statedef 710]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 705
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 005

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,31
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = Time = 0
x = -.5
y = -2.5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Super Dash - Limiter ON
[Statedef 715]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0,  ADD ONE]
type = ParentVarAdd
trigger1 = Time = 0
v = 53
value = 1

[State 200, End]
type = ChangeState
trigger1 = root,pos y >= 0
value = 720
;-------------------------------------------------------------------------------
; Super Dash - Limiter OFF
[Statedef 720]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0,  SET TO ZERO]
type = ParentVarSet
trigger1 = Time = 0
v = 53
value = 0

[State 200, End]
type = Destroyself
trigger1 = Time = 0
;-------------------------------------------------------------------------------
[Statedef 730]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 730
poweradd = 50
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 2
anim = 6602
ID = 6602
pos = 0,-35
postype = p1
bindtime = -1
removetime = -2
scale = 0.25,0.25
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,31
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = 2
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,35
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 10,10
air.velocity = 10,10
Fall = 1
Envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(901) = 0
helpertype = normal
name = "Hit Spark"
ID = 901
stateno = 901
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .5
size.yscale = .5
ignorehitpause = 1


[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 735]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 735
poweradd = 50
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,3
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S340,3
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,18
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S300,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 1
Envshake.time = 5

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(900) = 0
helpertype = normal
name = "Hit Spark"
ID = 900
stateno = 900
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .15
size.yscale = .15
ignorehitpause = 1

[State 200, Into A-2]
type = ChangeState
Triggerall = movecontact
trigger1 = !Ailevel && command = "b"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 100)
value = 730

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------------------
;C - 1
[Statedef 750]
type = S
movetype= A
physics = S
ctrl = 0
anim = 750
velset = 18,0
sprpriority = 2
juggle = 0
poweradd = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S300,5
volumescale = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,14
volumescale = 500


[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = !movecontact
attr = S, NA
animtype  = Light
damage    = 10,3
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-2
air.velocity = 0,-2
Fall = 0
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact = 1
value = 751
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;
[Statedef 751]
type = S
movetype= A
physics = S
ctrl = 0
anim = 751
velset = 0,0
sprpriority = 2
juggle = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12


[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = .3

[State 0, Explod]
type = Explod
trigger1 = time = [0,20]
trigger1 = timemod = 3,0
anim = 751
ID = 2006
pos = -60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 6,0
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add
alpha = 156,156

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
trigger1 = timemod = 4,0
trigger1 = time < 60
attr = S, NA
animtype  = Light
damage    = 3,1
guardflag = MA
pausetime = 0,15
sparkno = -1
sparkxy = -8,-25
hitsound   = S1,0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0,-4
Fall = 0
envshake.time = 10
envshake.freq = 70
envshake.ampl = -2

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7004
ID = 7004
pos = 10-random%20,-30-random%20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 0
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
angle = random%360

[State 1, Juggle]
type = VarAdd
trigger1 = time = 30
var(45) = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1


;===============================================================================
; Sword Tornado:
;-------------------------------------------------------------------------------
[Statedef 760]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 760
poweradd = 50
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S0,15
volumescale = 500


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 5 && numhelper(765) > 0 && timemod = 6,0
value = 760
elem = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 5 && numhelper(765) > 0 && timemod = 10,0
trigger2 = time = 5
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 5 && numhelper(765) > 0 && timemod = 10,0
trigger2 = time = 5
value = S5,35
volume = 50

[State 0, Tornado]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Tornado"
ID = 765
stateno = 765
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 750
ctrl = 1
;-------------------------------------------------------------------------------
; Tornado - Start
[Statedef 765]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6211
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -55,0



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerAll = !root,var(46) && (root,var(45) < 15)
trigger1 = timemod = 4,0
attr = A, SP
animtype  = Up
damage    = 10,5
HITFLAG = mafd
guardflag = MA
pausetime = 5,28
sparkno = -1
guard.sparkno = -1
sparkxy = -8,5
hitsound   = S1,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = cond(p2bodydist x > -25,-1,1),-1
air.velocity = cond(p2bodydist x > -25,-1,1),-1
Fall = 1
Getpower = 0,0
Sprpriority = 3

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(901) = 0
helpertype = normal
name = "Hit Spark"
ID = 901
stateno = 901
pos = 0,-25
postype = p2
facing = -1
ownpal = 1
size.xscale = .4
size.yscale = .4
ignorehitpause = 1

[State 1, Juggle]
type = parentVarAdd
trigger1 = time = 65
var(45) = 1
persistent = 0

[State 200, End]
type = Changestate
trigger1 = time = 65
trigger2 = root,stateno != 760
value = 770
;-------------------------------------------------------------------------------
; Tornado - Fin
[Statedef 770]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10

;-------------------------------------------------------------------------------
; 
[Statedef 740]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 740
poweradd = 100
velset = 0,0
sprpriority = 2
facep2 = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 6604
ID = 6604
pos = 10,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
scale = .22,.25
sprpriority = 10
trans=sub
supermovetime=99999



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S1,31
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1,30
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,35
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 10
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -1,-2.31
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >7
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 104)
value = 745

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Rush Attack - Slash FX
[Statedef 741]
type    = A
movetype= I
physics = N
anim = 6604
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno != 11308
trigger2 = root,stateno = 11308 && root,time >= 22
pos = 18,-30

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 11308 && root,time < 22
pos = (55-random%(20)),(-35+random%25)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; 
[Statedef 745]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 745
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Blade FX]
type = Explod
trigger1 = time = 7
anim = 12087
ID = 1208
pos = 25,-56
postype = p1
bindtime = -1
removetime = -2
scale = 0.6,0.4
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 0
supermovetime=99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S1,31
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S0,75
volumescale = 250

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S5,25
volume = 50

[State 200, 1]
type = HitDef
triggerAll = !var(46) && (var(45) < 15)
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 9,9
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,22
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2,-1.56
Fall = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(806) = 0
helpertype = normal
name = "Hit Spark"
ID = 806
stateno = 806
pos = 0,-35 
postype = p2
facing = -1
ownpal = 1
size.xscale = .3 
size.yscale = .3 
ignorehitpause = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "x"
triggerall = power >= 3000
value = 3000
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 6"
triggerall = power >= 2000
value = 1800
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = !Ailevel
trigger1 = command = "SPECIAL 4"
triggerall = power >= 1500
value = 2300
ctrl = 1

[State 271, end]
type = ChangeState
triggerall = movehit
triggerall = numhelper(1120) = 0
triggerall = numhelper(1140) = 0
triggerall = !Ailevel
trigger1 = command = "SPECIAL 2"
triggerall = power >= 1000
value = 1100
ctrl = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time >8
trigger1 = !Ailevel && command = "c"
trigger2 = roundstate = 2 && ailevel && random < (ailevel * 109)
value = 760

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Slash FX
[Statedef 213]
type    = A
movetype= I
physics = N
anim = 6628
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = 0
pos = 15,-27

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; 


[Statedef 999999]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(13) && root,ailevel
fvar(13) = enemynear(root,var(59)),const(data.attack)

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(14) && root,ailevel
fvar(14) = root,const(data.attack)

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(15) && root,ailevel
fvar(15) = enemynear(root,var(59)),const(data.defence)

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(16) && root,ailevel
fvar(16) = root,const(data.defence)

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(17) && root,ailevel
fvar(17) = enemynear(root,var(59)),const(data.life)

[state -2]
type = varset
triggerall = ishelper
trigger1 = !fvar(18) && root,ailevel
fvar(18) = const(data.life)

[State -3, gravitational acceleration]
Type = Null
Trigger1 = fvar(3):= 0 || 1
Trigger1 = fvar(3):=(((EnemyNear(Root,var(58)),Anim != [5051,5059])&&(EnemyNear(Root,var(58)),Anim != [5061,5069]))&&(EnemyNear(Root,var(58)),StateNo = 5050))*25 || 1
Trigger1 = fvar(0):= Ceil((EnemyNear(Root,var(58)),Pos Y - fvar(2) - fvar(10) )*1000.0)*(EnemyNear(Root,var(58)),Pos Y < fvar(3))/1000.0 || 1
Trigger1 = fvar(10):= EnemyNear(Root,var(58)),Pos Y - fvar(2) || 1
Trigger1 = fvar(2):= EnemyNear(Root,var(58)),Pos Y || 1
ignorehitpause = 1

[State 1, 1]
type = assertSpecial
triggerall = ishelper
trigger1 = 1
flag = NoShadow
flag2 = invisible

[State 1, 1]
type = NothitBy
triggerall = ishelper
trigger1 = 1
value = SCa

[State 1, 1]
type = SelfState
trigger1 = !ishelper
value = 0

[State 1, 1]
type = playerpush
triggerall = ishelper
trigger1 = 1
value = 0

[State 1, 1]
type = turn
triggerall = ishelper
trigger1 = root,facing != facing
ignorehitpause = 1

;==========================================================================
;[Info]
;author = "Inktrebuchet" 
;==========================================================================

[Statedef 33333333]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 9999 
 
[state 33333333, Clipboard] 
type = DisplayToClipboard
trigger1 = 1
text = "Highest Playerid = %d , Projectile helper's PlayerId = %d\nBy Inktrebuchet"
params = var(0)-1, var(3)

[State 33333333, 0]
type = Null
trigger1 = var(0) = 0
trigger1 = (var(0) := id)
ignorehitpause = 1
 
[state 33333333, 1] 
type = varadd
trigger1 = PlayerIdExist(var(0)) 
trigger2 = PlayerIdExist(var(0)+1) 
trigger3 = PlayerIdExist(var(0)+2) 
trigger4 = PlayerIdExist(var(0)+3) 
trigger5 = PlayerIdExist(var(0)+4) 
trigger6 = PlayerIdExist(var(0)+5) 
trigger7 = PlayerIdExist(var(0)+6) 
trigger8 = PlayerIdExist(var(0)+7) 
trigger9 = PlayerIdExist(var(0)+8) 
trigger10 = PlayerIdExist(var(0)+9) 
trigger11 = PlayerIdExist(var(0)+10) 
trigger12 = PlayerIdExist(var(0)+11) 
trigger13 = PlayerIdExist(var(0)+12) 
trigger14 = PlayerIdExist(var(0)+13) 
trigger15 = PlayerIdExist(var(0)+14) 
trigger16 = PlayerIdExist(var(0)+15) 
trigger17 = PlayerIdExist(var(0)+16) 
trigger18 = PlayerIdExist(var(0)+17) 
trigger19 = PlayerIdExist(var(0)+18) 
trigger20 = PlayerIdExist(var(0)+19) 
trigger21 = PlayerIdExist(var(0)+20) 
trigger22 = PlayerIdExist(var(0)+21) 
trigger23 = PlayerIdExist(var(0)+22) 
trigger24 = PlayerIdExist(var(0)+23) 
trigger25 = PlayerIdExist(var(0)+24) 
trigger26 = PlayerIdExist(var(0)+25) 
v = 0
value = 1
ignorehitpause = 1
 
[State 33333333, 2]
type = Null
triggerall = PlayerIdExist(Root,ID)
trigger1 = PlayerIdExist(var(0)-1)
trigger1 = Cond(root,teamside = 1, PlayerID(var(0)-1),teamside = 2, PlayerID(var(0)-1),teamside = 1)
trigger1 = PlayerID(var(0)-1),hitdefattr = ASC, NP, SP, HP
trigger1 = var(3) := (var(0)-1)
trigger2 = PlayerIdExist(var(0)-2)
trigger2 = Cond(root,teamside = 1, PlayerID(var(0)-2),teamside = 2, PlayerID(var(0)-2),teamside = 1)
trigger2 = PlayerID(var(0)-2),hitdefattr = ASC, NP, SP, HP
trigger2 = var(3) := (var(0)-2)
trigger3 = PlayerIdExist(var(0)-3)
trigger3 = Cond(root,teamside = 1, PlayerID(var(0)-3),teamside = 2, PlayerID(var(0)-3),teamside = 1)
trigger3 = PlayerID(var(0)-3),hitdefattr = ASC, NP, SP, HP
trigger3 = var(3) := (var(0)-3)
trigger4 = PlayerIdExist(var(0)-4)
trigger4 = Cond(root,teamside = 1, PlayerID(var(0)-4),teamside = 2, PlayerID(var(0)-4),teamside = 1)
trigger4 = PlayerID(var(0)-4),hitdefattr = ASC, NP, SP, HP
trigger4 = var(3) := (var(0)-4)
trigger5 = PlayerIdExist(var(0)-5)
trigger5 = Cond(root,teamside = 1, PlayerID(var(0)-5),teamside = 2, PlayerID(var(0)-5),teamside = 1)
trigger5 = PlayerID(var(0)-5),hitdefattr = ASC, NP, SP, HP
trigger5 = var(3) := (var(0)-5)
trigger6 = PlayerIdExist(var(0)-6)
trigger6 = Cond(root,teamside = 1, PlayerID(var(0)-6),teamside = 2, PlayerID(var(0)-6),teamside = 1)
trigger6 = PlayerID(var(0)-6),hitdefattr = ASC, NP, SP, HP
trigger6 = var(3) := (var(0)-6)
trigger7 = PlayerIdExist(var(0)-7)
trigger7 = Cond(root,teamside = 1, PlayerID(var(0)-7),teamside = 2, PlayerID(var(0)-7),teamside = 1)
trigger7 = PlayerID(var(0)-7),hitdefattr = ASC, NP, SP, HP
trigger7 = var(3) := (var(0)-7)
trigger8 = PlayerIdExist(var(0)-8)
trigger8 = Cond(root,teamside = 1, PlayerID(var(0)-8),teamside = 2, PlayerID(var(0)-8),teamside = 1)
trigger8 = PlayerID(var(0)-8),hitdefattr = ASC, NP, SP, HP
trigger8 = var(3) := (var(0)-8)
trigger9 = PlayerIdExist(var(0)-9)
trigger9 = Cond(root,teamside = 1, PlayerID(var(0)-9),teamside = 2, PlayerID(var(0)-9),teamside = 1)
trigger9 = PlayerID(var(0)-9),hitdefattr = ASC, NP, SP, HP
trigger9 = var(3) := (var(0)-9)
trigger10 = PlayerIdExist(var(0)-10)
trigger10 = Cond(root,teamside = 1, PlayerID(var(0)-10),teamside = 2, PlayerID(var(0)-10),teamside = 1)
trigger10 = PlayerID(var(0)-10),hitdefattr = ASC, NP, SP, HP
trigger10 = var(3) := (var(0)-10)
ignorehitpause = 1
 
[State 33333333, BindToRoot]
type = BindToRoot
trigger1 = PlayerIdExist(Root,ID)
time = 1
facing = 1
pos =0,-2
ignorehitpause = 1

[state  0]
type = null
trigger1 = root, movetype != h
trigger1 = var(21) := root,stateno
 
[state  1] 
type = explod
trigger1 = var(21) != 0 
trigger1 = PlayerIDExist(var(3))
trigger1 = cond(playerid(var(3)),prevstateno = 0, var(2) := abs(floor(playerid(var(3)),vel x)), 1)
trigger1 = playerid(var(3)),Cond(NumTarget, Target, Cond(1, ID, 0), 0) = root,ID 
trigger1 = numexplod((var(22)*100000000) + var(2)) = 0
anim = anim 
ID = (var(22)*100000000) + var(2)
removetime = -1
 
[state  2]
type = explod
trigger1 = var(21) != 0
trigger1 = PlayerIDExist(var(3))
trigger1 = playerid(var(3)),Cond(NumTarget, Target, Cond(1, ID, 0), 0) = root,ID 
trigger1 = numexplod((var(22)*100000000) + playerid(var(3)),prevstateno) = 0
anim = anim
ID = (var(22)*100000000) + playerid(var(3)),prevstateno
removetime = -1
